<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Linux and Build tool -&gt; git, Maven | Harry World</title><meta name="keywords" content="build,tools,maven,git,linux"><meta name="author" content="Harry Qu"><meta name="copyright" content="Harry Qu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="# Git # Git 概述 # 版本系统 SVN 是集中式版本控制系统，版本库是集中放在中央服务器的，而开发人员工作的时候，用的都是自己的电脑，所以首先要从中央服务器下载最新的版本，然后开发，开发完后，需要把自己开发的代码提交到中央服务器。 集中式版本控制工具缺点：服务器单点故障、容错性差 Git 是分布式版本控制系统（Distributed Version Control System，简称">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux and Build tool -&gt; git, Maven">
<meta property="og:url" content="https://harryqu1229.github.io/2022/01/01/git+linux+docker/index.html">
<meta property="og:site_name" content="Harry World">
<meta property="og:description" content="# Git # Git 概述 # 版本系统 SVN 是集中式版本控制系统，版本库是集中放在中央服务器的，而开发人员工作的时候，用的都是自己的电脑，所以首先要从中央服务器下载最新的版本，然后开发，开发完后，需要把自己开发的代码提交到中央服务器。 集中式版本控制工具缺点：服务器单点故障、容错性差 Git 是分布式版本控制系统（Distributed Version Control System，简称">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://w.wallhaven.cc/full/v9/wallhaven-v9v9o5.jpg">
<meta property="article:published_time" content="2021-12-31T11:00:00.000Z">
<meta property="article:modified_time" content="2022-02-25T14:55:53.835Z">
<meta property="article:author" content="Harry Qu">
<meta property="article:tag" content="build">
<meta property="article:tag" content="tools">
<meta property="article:tag" content="git">
<meta property="article:tag" content="maven">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://w.wallhaven.cc/full/v9/wallhaven-v9v9o5.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://harryqu1229.github.io/2022/01/01/git+linux+docker/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":100,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#C78550","bgDark":"#c08eaf","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux and Build tool -> git, Maven',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-26 03:55:53'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/6aca34ee52f40fe1b2d637474f90111e2c151939/notes-img/%E5%85%B6%E4%B8%AD%E5%8C%85%E6%8B%AC%E5%9B%BE%E7%89%87%EF%BC%9A%7B%7B%20pinTitle%20%7D%7D_m6kogp.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">171</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">89</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">60</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Videos/"><i class="fa-fw fa-regular fa-play"></i><span> Videos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.computerhope.com/jargon/p/programming-tool.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Harry World</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Videos/"><i class="fa-fw fa-regular fa-play"></i><span> Videos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Linux and Build tool -&gt; git, Maven</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2021-12-31T11:00:00.000Z" title="Created 2022-01-01 00:00:00">2022-01-01</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-02-25T14:55:53.835Z" title="Updated 2022-02-26 03:55:53">2022-02-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Tools/">Tools</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">27.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>96min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Linux and Build tool -&gt; git, Maven"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><span class="disqus-comment-count"><a href="https://harryqu1229.github.io/2022/01/01/git+linux+docker/#disqus_thread"></a></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id=""><a class="markdownIt-Anchor" href="#">#</a> <a href="#git"></a>Git</h1>
<h2 id="-2"><a class="markdownIt-Anchor" href="#-2">#</a> <a href="#git%E6%A6%82%E8%BF%B0"></a>Git 概述</h2>
<h3 id="-3"><a class="markdownIt-Anchor" href="#-3">#</a> <a href="#%E7%89%88%E6%9C%AC%E7%B3%BB%E7%BB%9F"></a>版本系统</h3>
<p>SVN 是集中式版本控制系统，版本库是集中放在中央服务器的，而开发人员工作的时候，用的都是自己的电脑，所以首先要从中央服务器下载最新的版本，然后开发，开发完后，需要把自己开发的代码提交到中央服务器。</p>
<p>集中式版本控制工具缺点：服务器单点故障、容错性差</p>
<p>Git 是分布式版本控制系统（Distributed Version Control System，简称 DVCS） ，分为两种类型的仓库：</p>
<p>本地仓库和远程仓库：</p>
<ul>
<li>本地仓库：是在开发人员自己电脑上的 Git 仓库</li>
<li>远程仓库：是在远程服务器上的 Git 仓库</li>
</ul>
<hr>
<h3 id="-4"><a class="markdownIt-Anchor" href="#-4">#</a> <a href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B"></a>工作流程</h3>
<p>1．从远程仓库中克隆代码到本地仓库</p>
<p>2．从本地仓库中 checkout 代码然后进行代码修改</p>
<p>3．在提交前先将代码提交到<strong>暂存区</strong></p>
<p>4．提交到本地仓库。本地仓库中保存修改的各个历史版本</p>
<p>5．修改完成后，需要和团队成员共享代码时，将代码 push 到远程仓库</p>
<h3 id="-5"><a class="markdownIt-Anchor" href="#-5">#</a> <a href="#git%E5%AE%89%E8%A3%85"></a>Git 安装</h3>
<p>下载地址： <a target="_blank" rel="noopener" href="https://git-scm.com/download">https://git-scm.com/download</a></p>
<h3 id="-6"><a class="markdownIt-Anchor" href="#-6">#</a> <a href="#%E4%BB%A3%E7%A0%81%E6%89%98%E7%AE%A1"></a>代码托管</h3>
<p>Git 中存在两种类型的仓库，即本地仓库和远程仓库。那么我们如何搭建 Git 远程仓库呢？我们可以借助互联网上提供的一些代码托管服务来实现，其中比较常用的有 GitHub、码云、GitLab 等。</p>
<p>GitHub（地址：<a target="_blank" rel="noopener" href="https://github.com/%EF%BC%89%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%A2%E5%90%91%E5%BC%80%E6%BA%90%E5%8F%8A%E7%A7%81%E6%9C%89%E8%BD%AF%E4%BB%B6%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%89%98%E7%AE%A1%E5%B9%B3%E5%8F%B0%EF%BC%8C%E5%9B%A0%E4%B8%BA%E5%8F%AA%E6%94%AF%E6%8C%81">https://github.com/）是一个面向开源及私有软件项目的托管平台，因为只支持</a> Git 作为唯一的版本库格式进行托管，故名 GitHub</p>
<p>码云（地址： <a target="_blank" rel="noopener" href="https://gitee.com/%EF%BC%89%E6%98%AF%E5%9B%BD%E5%86%85%E7%9A%84%E4%B8%80%E4%B8%AA%E4%BB%A3%E7%A0%81%E6%89%98%E7%AE%A1%E5%B9%B3%E5%8F%B0%EF%BC%8C%E7%94%B1%E4%BA%8E%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%9C%A8%E5%9B%BD%E5%86%85%EF%BC%8C%E6%89%80%E4%BB%A5%E7%9B%B8%E6%AF%94%E4%BA%8E">https://gitee.com/）是国内的一个代码托管平台，由于服务器在国内，所以相比于</a> GitHub，码云速度会更快</p>
<p>GitLab（地址： <a target="_blank" rel="noopener" href="https://about.gitlab.com/">https://about.gitlab.com/</a> ）是一个用于仓库管理系统的开源项目，使用 Git 作为代码管理工具，并在此基础上搭建起来的 web 服务</p>
<hr>
<h2 id="-7"><a class="markdownIt-Anchor" href="#-7">#</a> <a href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"></a>环境配置</h2>
<p>安装 Git 后首先要设置用户名称和 email 地址，因为每次 Git 提交都会使用该用户信息，此信息和注册的代码托管平台的信息无关</p>
<p>设置用户信息：</p>
<ul>
<li>git config --global <a target="_blank" rel="noopener" href="http://user.name">user.name</a> “Seazean”</li>
<li>git config --global user.email “<a href="mailto:zhyzhyang@sina.com">zhyzhyang@sina.com</a>” // 用户名和邮箱可以随意填写，不会校对</li>
</ul>
<p>查看配置信息：</p>
<ul>
<li>git config --list</li>
<li>git config <a target="_blank" rel="noopener" href="http://user.name">user.name</a></li>
</ul>
<p>通过上面的命令设置的信息会保存在用户目录下 /.gitconfig 文件中</p>
<hr>
<h2 id="-8"><a class="markdownIt-Anchor" href="#-8">#</a> <a href="#%E6%9C%AC%E5%9C%B0%E4%BB%93%E5%BA%93"></a>本地仓库</h2>
<h3 id="-9"><a class="markdownIt-Anchor" href="#-9">#</a> <a href="#%E8%8E%B7%E5%8F%96%E4%BB%93%E5%BA%93"></a>获取仓库</h3>
<ul>
<li>
<p><strong>本地仓库初始化</strong></p>
<ol>
<li>
<p>在电脑的任意位置创建一个空目录（例如 repo1）作为本地 Git 仓库</p>
</li>
<li>
<p>进入这个目录中，点击右键打开 Git bash 窗口</p>
</li>
<li>
<p>执行命令 <strong>git init</strong></p>
<p>如果在当前目录中看到 .git 文件夹（此文件夹为隐藏文件夹）则说明 Git 仓库创建成功</p>
</li>
</ol>
</li>
<li>
<p><strong>远程仓库克隆</strong> 通过 Git 提供的命令从远程仓库进行克隆，将远程仓库克隆到本地</p>
<p>命令：git clone 远程 Git 仓库地址（HTTPS 或者 SSH）</p>
</li>
<li>
<p>生成 SSH 公钥步骤</p>
<ul>
<li>设置账户</li>
<li>cd ~/.ssh（查看是否生成过 SSH 公钥）user 目录下</li>
<li>生成 SSH 公钥： <code>ssh-keygen -t rsa -C &quot;email&quot;</code>
<ul>
<li>-t 指定密钥类型，默认是 rsa ，可以省略</li>
<li>-C 设置注释文字，比如邮箱</li>
<li>-f 指定密钥文件存储文件名</li>
</ul>
</li>
<li>查看命令: cat ~/.ssh/id_rsa.pub</li>
<li>公钥测试命令: ssh -T <a href="mailto:git@github.com">git@github.com</a></li>
</ul>
</li>
</ul>
<hr>
<h3 id="-10"><a class="markdownIt-Anchor" href="#-10">#</a> <a href="#%E5%B7%A5%E4%BD%9C%E8%BF%87%E7%A8%8B"></a>工作过程</h3>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4769742545352539462542412545362539432541432545352542372541352545342542442539432545362542352538312545372541382538422e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/85dcdc6c5caceda73d57ce4b7c24888de0f0dc061ebc1af8428f687c25410c8d/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4769742545352539462542412545362539432541432545352542372541352545342542442539432545362542352538312545372541382538422e706e67">https://camo.githubusercontent.com/85dcdc6c5caceda73d57ce4b7c24888de0f0dc061ebc1af8428f687c25410c8d/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4769742545352539462542412545362539432541432545352542372541352545342542442539432545362542352538312545372541382538422e706e67</a>)</p>
<p>版本库：.git 隐藏文件夹就是版本库，版本库中存储了很多配置信息、日志信息和文件版本信息等</p>
<p>工作目录（工作区）：包含 .git 文件夹的目录就是工作目录，主要用于存放开发的代码</p>
<p>暂存区：.git 文件夹中有很多文件，其中有一个 index 文件就是暂存区，也可以叫做 stage，暂存区是一个临时保存修改文件的地方</p>
<p>[<img src="https://camo.githubusercontent.com/64a48de284db428d63d7750be28a21bf8bd7bf22f95e444649560bc106a2cc54/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539362538372545342542422542362545362542352538312545372541382538422545352539422542452e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/64a48de284db428d63d7750be28a21bf8bd7bf22f95e444649560bc106a2cc54/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539362538372545342542422542362545362542352538312545372541382538422545352539422542452e706e67">https://camo.githubusercontent.com/64a48de284db428d63d7750be28a21bf8bd7bf22f95e444649560bc106a2cc54/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539362538372545342542422542362545362542352538312545372541382538422545352539422542452e706e67</a>)</p>
<hr>
<h3 id="-11"><a class="markdownIt-Anchor" href="#-11">#</a> <a href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C"></a>文件操作</h3>
<h4 id="-12"><a class="markdownIt-Anchor" href="#-12">#</a> <a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"></a>常用命令</h4>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>git status</td>
<td>查看 git 状态 （文件是否进行了添加、提交操作）</td>
</tr>
<tr>
<td>git add filename</td>
<td>添加，将指定文件添加到暂存区</td>
</tr>
<tr>
<td>git commit -m ‘message’</td>
<td>提交，将暂存区文件提交到本地仓库，删除暂存区的该文件</td>
</tr>
<tr>
<td>git commit --amend</td>
<td>修改 commit 的 message</td>
</tr>
<tr>
<td>git rm filename</td>
<td>删除，删除工作区的文件，不是仓库，需要提交</td>
</tr>
<tr>
<td>git mv filename</td>
<td>移动或重命名工作区文件</td>
</tr>
<tr>
<td>git reset filename</td>
<td>使用当前分支上的修改覆盖暂存区，<strong>将暂存区的文件取消暂存</strong></td>
</tr>
<tr>
<td>git checkout filename</td>
<td>使用暂存区的修改覆盖工作目录，用来撤销本次修改 (危险)</td>
</tr>
<tr>
<td>git log</td>
<td>查看日志（ git 提交的历史日志）</td>
</tr>
<tr>
<td>git reflog</td>
<td>可以查看所有分支的所有操作记录（包括已经被删除的 commit 记录的操作）</td>
</tr>
</tbody>
</table>
<p><strong>其他指令</strong>：可以跳过暂存区域直接从分支中取出修改，或者直接提交修改到分支中</p>
<ul>
<li>git commit -a 直接把所有文件的修改添加到暂存区然后执行提交</li>
<li>git checkout HEAD – files 取出最后一次修改，可以用来进行回滚操作</li>
</ul>
<hr>
<h4 id="-13"><a class="markdownIt-Anchor" href="#-13">#</a> <a href="#%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"></a>文件状态</h4>
<ul>
<li>
<p>Git 工作目录下的文件存在两种状态：</p>
<ul>
<li>untracked 未跟踪（未被纳入版本控制）</li>
<li>tracked 已跟踪（被纳入版本控制）
<ul>
<li>Unmodified 未修改状态</li>
<li>Modified 已修改状态</li>
<li>Staged 已暂存状态</li>
</ul>
</li>
</ul>
</li>
<li>
<p>查看文件状态：文件的状态会随着我们执行 Git 的命令发生变化</p>
<ul>
<li>git status 查看文件状态</li>
<li>git status –s 查看更简洁的文件状态</li>
</ul>
</li>
</ul>
<hr>
<h4 id="-14"><a class="markdownIt-Anchor" href="#-14">#</a> <a href="#%E6%96%87%E4%BB%B6%E5%BF%BD%E7%95%A5"></a>文件忽略</h4>
<p>一般我们总会有些文件无需纳入 Git 的管理，也不希望它们总出现在未跟踪文件列表。 通常都是些自动生成的文件，比如日志文件，或者编译过程中创建的临时文件等。 在这种情况下，我们可以在工作目录中创建一个名为 .gitignore 的文件（文件名称固定），列出要忽略的文件模式。下面是一个示例：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># no .a files</span>
*.a
<span class="token comment"># but do track lib.a, even though you're ignoring .a files above</span>
<span class="token operator">!</span>lib.a
<span class="token comment"># only ignore the TODO file in the current directory, not subdir/TODO</span>
/TODO
<span class="token comment"># ignore all files in the build/ directory</span>
build/
<span class="token comment"># ignore doc/notes.txt, but not doc/server/arch.txt</span>
doc/*.txt
<span class="token comment"># ignore all .pdf files in the doc/ directory</span>
doc/**/*.pdf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="-15"><a class="markdownIt-Anchor" href="#-15">#</a> <a href="#%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"></a>远程仓库</h2>
<h3 id="-16"><a class="markdownIt-Anchor" href="#-16">#</a> <a href="#%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B-1"></a>工作流程</h3>
<p>Git 有四个工作空间的概念，分别为 工作空间、暂存区、本地仓库、远程仓库。</p>
<p>pull = fetch + merge</p>
<p>fetch 是从远程仓库更新到本地仓库，pull 是从远程仓库直接更新到工作空间中</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352539422542452545382541372541332545382542462539432545372541382538422545342542422539332545352542412539332545352542372541352545342542442539432545362542352538312545372541382538422e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/af9a04ae43d1e8021ae3920523a84133ff1ede3a777e4940b55eee1c40fe7be3/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352539422542452545382541372541332545382542462539432545372541382538422545342542422539332545352542412539332545352542372541352545342542442539432545362542352538312545372541382538422e706e67">https://camo.githubusercontent.com/af9a04ae43d1e8021ae3920523a84133ff1ede3a777e4940b55eee1c40fe7be3/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352539422542452545382541372541332545382542462539432545372541382538422545342542422539332545352542412539332545352542372541352545342542442539432545362542352538312545372541382538422e706e67</a>)</p>
<hr>
<h3 id="-17"><a class="markdownIt-Anchor" href="#-17">#</a> <a href="#%E6%9F%A5%E7%9C%8B%E4%BB%93%E5%BA%93"></a>查看仓库</h3>
<p>git remote：显示所有远程仓库的简写</p>
<p>git remote -v：显示所有远程仓库</p>
<p>git remote show ：显示某个远程仓库的详细信息</p>
<h3 id="-18"><a class="markdownIt-Anchor" href="#-18">#</a> <a href="#%E6%B7%BB%E5%8A%A0%E4%BB%93%E5%BA%93"></a>添加仓库</h3>
<p>git remote add ：添加一个新的远程仓库，并指定一个可以引用的简写</p>
<h3 id="-19"><a class="markdownIt-Anchor" href="#-19">#</a> <a href="#%E5%85%8B%E9%9A%86%E4%BB%93%E5%BA%93"></a>克隆仓库</h3>
<p>git clone (HTTPS or SSH)：克隆远程仓库</p>
<p>Git 克隆的是该 Git 仓库服务器上的几乎所有数据（包括日志信息、历史记录等），而不仅仅是复制工作所需要的文件，当你执行 git clone 命令的时候，默认配置下远程 Git 仓库中的每一个文件的每一个版本都将被拉取下来。</p>
<h3 id="-20"><a class="markdownIt-Anchor" href="#-20">#</a> <a href="#%E5%88%A0%E9%99%A4%E4%BB%93%E5%BA%93"></a>删除仓库</h3>
<p>git remote rm ：移除远程仓库，从本地移除远程仓库的记录，并不会影响到远程仓库</p>
<h3 id="-21"><a class="markdownIt-Anchor" href="#-21">#</a> <a href="#%E6%8B%89%E5%8F%96%E4%BB%93%E5%BA%93"></a>拉取仓库</h3>
<p>git fetch ：从远程仓库获取最新版本到本地仓库，不会自动 merge</p>
<p>git pull ：从远程仓库获取最新版本并 merge 到本地仓库</p>
<p>注意：如果当前本地仓库不是从远程仓库克隆，而是本地创建的仓库，并且<strong>仓库中存在文件</strong>，此时再从远程仓库拉取文件的时候会报错（fatal: refusing to merge unrelated histories ），解决此问题可以在 git pull 命令后加入参数 --allow-unrelated-histories</p>
<h3 id="-22"><a class="markdownIt-Anchor" href="#-22">#</a> <a href="#%E6%8E%A8%E9%80%81%E4%BB%93%E5%BA%93"></a>推送仓库</h3>
<p>git push ：上传本地指定分支到远程仓库</p>
<hr>
<h2 id="-23"><a class="markdownIt-Anchor" href="#-23">#</a> <a href="#%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86"></a>版本管理</h2>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9906b47c7a9623b99c9fb710422762ce3cd020be5762ccbc0a8acf223afe35c3/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322e706e67">https://camo.githubusercontent.com/9906b47c7a9623b99c9fb710422762ce3cd020be5762ccbc0a8acf223afe35c3/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322e706e67</a>)</p>
<p>命令：git reset --hard 版本唯一索引值</p>
<hr>
<h2 id="-24"><a class="markdownIt-Anchor" href="#-24">#</a> <a href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"></a>分支管理</h2>
<h3 id="-25"><a class="markdownIt-Anchor" href="#-25">#</a> <a href="#%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"></a>查看分支</h3>
<p>git branch：列出所有本地分支</p>
<p>git branch -r：列出所有远程分支</p>
<p>git branch -a：列出所有本地分支和远程分支</p>
<h3 id="-26"><a class="markdownIt-Anchor" href="#-26">#</a> <a href="#%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"></a>创建分支</h3>
<p>git branch branch-name：新建一个分支，但依然停留在当前分支</p>
<p>git checkout -b branch-name：新建一个分支，并切换到该分支</p>
<h3 id="-27"><a class="markdownIt-Anchor" href="#-27">#</a> <a href="#%E6%8E%A8%E9%80%81%E5%88%86%E6%94%AF"></a>推送分支</h3>
<p>git push origin branch-name：推送到远程仓库，origin 是引用名</p>
<h3 id="-28"><a class="markdownIt-Anchor" href="#-28">#</a> <a href="#%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"></a>切换分支</h3>
<p>git checkout branch-name：切换到 branch-name 分支</p>
<h3 id="-29"><a class="markdownIt-Anchor" href="#-29">#</a> <a href="#%E5%90%88%E5%B9%B6%E5%88%86%E6%94%AF"></a>合并分支</h3>
<p>git merge branch-name：合并指定分支到当前分支</p>
<p>有时候合并操作不会如此顺利。 如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，Git 就没办法合并它们，同时会提示文件冲突。此时需要我们打开冲突的文件并修复冲突内容，最后执行 git add 命令来标识冲突已解决</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352539302538382545352542392542362545352538382538362545362539342541462545352538362542322545372541412538312e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/4f518ea6a4537e5bc65a5d2f30b67d3ec75bd6dcece321d2c15486621bb7ca87/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352539302538382545352542392542362545352538382538362545362539342541462545352538362542322545372541412538312e706e67">https://camo.githubusercontent.com/4f518ea6a4537e5bc65a5d2f30b67d3ec75bd6dcece321d2c15486621bb7ca87/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352539302538382545352542392542362545352538382538362545362539342541462545352538362542322545372541412538312e706e67</a>)</p>
<h3 id="-30"><a class="markdownIt-Anchor" href="#-30">#</a> <a href="#%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"></a>删除分支</h3>
<p>git branch -d branch-name：删除分支</p>
<p>git push origin –d branch-name：删除远程仓库中的分支 （origin 是引用名）</p>
<p>如果要删除的分支中进行了开发动作，此时执行删除命令并不会删除分支，如果坚持要删除此分支，可以将命令中的 -d 参数改为 -D：git branch -D branch-name</p>
<hr>
<h2 id="-31"><a class="markdownIt-Anchor" href="#-31">#</a> <a href="#%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86"></a>标签管理</h2>
<h3 id="-32"><a class="markdownIt-Anchor" href="#-32">#</a> <a href="#%E6%9F%A5%E7%9C%8B%E6%A0%87%E7%AD%BE"></a>查看标签</h3>
<p>git tag：列出所有 tag</p>
<p>git show tag-name：查看 tag 详细信息</p>
<p>标签作用：在开发的一些关键时期，使用标签来记录这些关键时刻，保存快照，例如发布版本、有重大修改、升级的时候、会使用标签记录这些时刻，来永久标记项目中的关键历史时刻</p>
<h3 id="-33"><a class="markdownIt-Anchor" href="#-33">#</a> <a href="#%E6%96%B0%E5%BB%BA%E6%A0%87%E7%AD%BE"></a>新建标签</h3>
<p>git tag tag-name：新建标签，如（git tag v1.0.1）</p>
<h3 id="-34"><a class="markdownIt-Anchor" href="#-34">#</a> <a href="#%E6%8E%A8%E9%80%81%E6%A0%87%E7%AD%BE"></a>推送标签</h3>
<p>git push [remotename] [tagname]：推送到远程仓库</p>
<p>git push [remotename] --tags：推送所有的标签</p>
<h3 id="-35"><a class="markdownIt-Anchor" href="#-35">#</a> <a href="#%E5%88%87%E6%8D%A2%E6%A0%87%E7%AD%BE"></a>切换标签</h3>
<p>git checkout tag-name：切换标签</p>
<h3 id="-36"><a class="markdownIt-Anchor" href="#-36">#</a> <a href="#%E5%88%A0%E9%99%A4%E6%A0%87%E7%AD%BE"></a>删除标签</h3>
<p>git tag -d tag-name：删除本地标签</p>
<p>git push origin :refs/tags/tag-name：删除远程标签</p>
<hr>
<h2 id="-37"><a class="markdownIt-Anchor" href="#-37">#</a> <a href="#idea%E6%93%8D%E4%BD%9C"></a>IDEA 操作</h2>
<h3 id="-38"><a class="markdownIt-Anchor" href="#-38">#</a> <a href="#%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE-1"></a>环境配置</h3>
<p>File → Settings 打开设置窗口，找到 Version Control 下的 git 选项</p>
<p>选择 git 的安装目录后可以点击 Test 按钮测试是否正确配置：D:\Program Files\Git\cmd\git.exe</p>
<h3 id="-39"><a class="markdownIt-Anchor" href="#-39">#</a> <a href="#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93"></a>创建仓库</h3>
<p>1、VCS → Import into Version Control → Create Git Repository</p>
<p>2、选择工程所在的目录，这样就创建好本地仓库了</p>
<p>3、点击 git 后边的对勾，将当前项目代码提交到本地仓库</p>
<p>注意：项目中的配置文件不需要提交到本地仓库中，提交时，忽略掉即可</p>
<h3 id="-40"><a class="markdownIt-Anchor" href="#-40">#</a> <a href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-1"></a>文件操作</h3>
<p>右键项目名打开菜单 Git → Add → commit</p>
<h3 id="-41"><a class="markdownIt-Anchor" href="#-41">#</a> <a href="#%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86-1"></a>版本管理</h3>
<ul>
<li>
<p>版本对比 [<img src="https://camo.githubusercontent.com/9ee72fff8e6435d4b178a8dd69bb596864ff77d28d9ea03b6d21fb9f54787b74/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352541462542392545362541462539342e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9ee72fff8e6435d4b178a8dd69bb596864ff77d28d9ea03b6d21fb9f54787b74/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352541462542392545362541462539342e706e67">https://camo.githubusercontent.com/9ee72fff8e6435d4b178a8dd69bb596864ff77d28d9ea03b6d21fb9f54787b74/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352541462542392545362541462539342e706e67</a>)</p>
</li>
<li>
<p>版本切换方式一：控制台 Version Control → Log → 右键 Reset Current Branch → Reset，这种切换会抛弃原来的提交记录 [<img src="https://camo.githubusercontent.com/f60465dc22d119cb40d1f5dcaf696b643689932ef69c56c830c623228a934a66/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542382538302e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/f60465dc22d119cb40d1f5dcaf696b643689932ef69c56c830c623228a934a66/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542382538302e706e67">https://camo.githubusercontent.com/f60465dc22d119cb40d1f5dcaf696b643689932ef69c56c830c623228a934a66/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542382538302e706e67</a>)</p>
</li>
<li>
<p>版本切换方式二：控制台 Version Control → Log → Revert Commit → Merge → 处理代码 → commit，这种切换会当成一个新的提交记录，之前的提交记录也都保留 [<img src="https://camo.githubusercontent.com/2d4ee0db81b6a7514d5b96c23e8082dcd199543cb92f0df2d701edd7994befb6/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542412538432e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2d4ee0db81b6a7514d5b96c23e8082dcd199543cb92f0df2d701edd7994befb6/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542412538432e706e67">https://camo.githubusercontent.com/2d4ee0db81b6a7514d5b96c23e8082dcd199543cb92f0df2d701edd7994befb6/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542412538432e706e67</a>)</p>
</li>
</ul>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542412538432831292e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/b0d3db6a08b52e1e67e1cc996c8b96d7b1c3eb81bd056a6e384a3ad07ced8085/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542412538432831292e706e67">https://camo.githubusercontent.com/b0d3db6a08b52e1e67e1cc996c8b96d7b1c3eb81bd056a6e384a3ad07ced8085/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372538392538382545362539432541432545352538382538372545362538442541322545362539362542392545352542432538462545342542412538432831292e706e67</a>)</p>
<hr>
<h3 id="-42"><a class="markdownIt-Anchor" href="#-42">#</a> <a href="#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86-1"></a>分支管理</h3>
<ul>
<li>创建分支：VCS → Git → Branches → New Branch → 给分支起名字 → ok</li>
<li>切换分支：idea 右下角 Git → 选择要切换的分支 → checkout</li>
<li>合并分支：VCS → Git → Merge changes → 选择要合并的分支 → merge</li>
<li>删除分支：idea 右下角 → 选中要删除的分支 → Delete</li>
</ul>
<hr>
<h3 id="-43"><a class="markdownIt-Anchor" href="#-43">#</a> <a href="#%E6%8E%A8%E9%80%81%E4%BB%93%E5%BA%93-1"></a>推送仓库</h3>
<ol>
<li>
<p>VCS → Git → Push → 点击 master Define remote</p>
</li>
<li>
<p>将远程仓库的 url 路径复制过来 → Push [<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539432541432545352539432542302545342542422539332545352542412539332545362538452541382545392538302538312545352538382542302545382542462539432545372541382538422545342542422539332545352542412539332e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/db9cb985b10dd27c1321ace97f55d34dd564638fe70c9ae7d201d0d3fdce4f1d/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539432541432545352539432542302545342542422539332545352542412539332545362538452541382545392538302538312545352538382542302545382542462539432545372541382538422545342542422539332545352542412539332e706e67">https://camo.githubusercontent.com/db9cb985b10dd27c1321ace97f55d34dd564638fe70c9ae7d201d0d3fdce4f1d/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539432541432545352539432542302545342542422539332545352542412539332545362538452541382545392538302538312545352538382542302545382542462539432545372541382538422545342542422539332545352542412539332e706e67</a>)</p>
</li>
</ol>
<hr>
<h3 id="-44"><a class="markdownIt-Anchor" href="#-44">#</a> <a href="#%E5%85%8B%E9%9A%86%E4%BB%93%E5%BA%93-1"></a>克隆仓库</h3>
<p>File → Close Project → Checkout from Version Control → Git → 指定远程仓库的路径 → 指定本地存放的路径 → clone</p>
<p>[<img src="https://camo.githubusercontent.com/358588e10097fdc2cea117dab5486a5018a113b951e9f3d5d58b95efa6b51fbd/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545382542462539432545372541382538422545342542422539332545352542412539332545352538352538422545392539412538362545352538382542302545362539432541432545352539432542302545342542422539332545352542412539332e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/358588e10097fdc2cea117dab5486a5018a113b951e9f3d5d58b95efa6b51fbd/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545382542462539432545372541382538422545342542422539332545352542412539332545352538352538422545392539412538362545352538382542302545362539432541432545352539432542302545342542422539332545352542412539332e706e67">https://camo.githubusercontent.com/358588e10097fdc2cea117dab5486a5018a113b951e9f3d5d58b95efa6b51fbd/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545382542462539432545372541382538422545342542422539332545352542412539332545352538352538422545392539412538362545352538382542302545362539432541432545352539432542302545342542422539332545352542412539332e706e67</a>)</p>
<hr>
<h1 id="-45"><a class="markdownIt-Anchor" href="#-45">#</a> <a href="#linux"></a>Linux</h1>
<h2 id="-46"><a class="markdownIt-Anchor" href="#-46">#</a> <a href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"></a>操作系统</h2>
<p>操作系统（Operation System），是管理计算机硬件与软件资源的计算机程序，同时也是计算机系统的内核与基石。操作系统需要处理管理与配置内存、决定系统资源供需的优先次序、控制输入设备与输出设备、操作网络与管理文件系统等基本事务，操作系统也提供一个让用户与系统交互的操作界面</p>
<p>操作系统作为接口的示意图：</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe6938de4bd9ce7b3bbe7bb9f2e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/62097afddc8524a2a36e2fb56dc3f6023c312bd30de64d84c0b2347428786ade/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe6938de4bd9ce7b3bbe7bb9f2e706e67">https://camo.githubusercontent.com/62097afddc8524a2a36e2fb56dc3f6023c312bd30de64d84c0b2347428786ade/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe6938de4bd9ce7b3bbe7bb9f2e706e67</a>)</p>
<p>移动设备操作系统：</p>
<p>[<img src="https://camo.githubusercontent.com/9757ce1c234dbbcde5968ec0461a8edb78e97fcc2cea51689c4a1415d5d181f7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372541372542422545352538412541382545382541452542452545352541342538372545362539332538442545342542442539432545372542332542422545372542422539462e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9757ce1c234dbbcde5968ec0461a8edb78e97fcc2cea51689c4a1415d5d181f7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372541372542422545352538412541382545382541452542452545352541342538372545362539332538442545342542442539432545372542332542422545372542422539462e706e67">https://camo.githubusercontent.com/9757ce1c234dbbcde5968ec0461a8edb78e97fcc2cea51689c4a1415d5d181f7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372541372542422545352538412541382545382541452542452545352541342538372545362539332538442545342542442539432545372542332542422545372542422539462e706e67</a>)</p>
<hr>
<h2 id="-47"><a class="markdownIt-Anchor" href="#-47">#</a> <a href="#linux%E7%B3%BB%E7%BB%9F"></a>Linux 系统</h2>
<h3 id="-48"><a class="markdownIt-Anchor" href="#-48">#</a> <a href="#%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D"></a>系统介绍</h3>
<p>从内到位依次是硬件 → 内核层 → Shell 层 → 应用层 → 用户 [<img src="https://camo.githubusercontent.com/d0048ddee3689fccb69b6876da91a8ec99b40506c7926ff69dc00be4793186e9/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4c696e75782545372542332542422545372542422539462e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/d0048ddee3689fccb69b6876da91a8ec99b40506c7926ff69dc00be4793186e9/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4c696e75782545372542332542422545372542422539462e706e67">https://camo.githubusercontent.com/d0048ddee3689fccb69b6876da91a8ec99b40506c7926ff69dc00be4793186e9/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4c696e75782545372542332542422545372542422539462e706e67</a>)</p>
<p>内核层：核心和基础，附着在硬件平台上，控制和管理系统内的各种资源，有效的组织进程的运行，扩展硬件的功能，提高资源利用效率，为用户提供安全可靠的应用环境。</p>
<p>Shell 层：与用户直接交互的界面。用户可以在提示符下输入命令行，由 Shell 解释执行并输出相应结果或者有关信息，所以我们也把 Shell 称作命令解释器，利用系统提供的丰富命令可以快捷而简便地完成许多工作。</p>
<hr>
<h3 id="-49"><a class="markdownIt-Anchor" href="#-49">#</a> <a href="#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"></a>文件系统</h3>
<p>Linux 文件系统目录结构和熟知的 windows 系统有较大区别，没有各种盘符的概念。根目录只有一个 /，采用层级式的树状目录结构。</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4c696e75782545362539362538372545342542422542362545372542332542422545372542422539462e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/685543938466cd96d5feb4c918345ff3866d8ee5d29bff161ffa699a3b0497db/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4c696e75782545362539362538372545342542422542362545372542332542422545372542422539462e706e67">https://camo.githubusercontent.com/685543938466cd96d5feb4c918345ff3866d8ee5d29bff161ffa699a3b0497db/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f4c696e75782545362539362538372545342542422542362545372542332542422545372542422539462e706e67</a>)</p>
<p>/：根目录，所有的目录、文件、设备都在 / 之下，/ 就是 Linux 文件系统的组织者，也是最上级的领导者。</p>
<p>/bin：bin 就是二进制（binary）英文缩写。在一般的系统当中，都可以在这个目录下找到 linux 常用的命令。系统所需要的那些命令位于此目录。</p>
<p>/boot：Linux 的内核及引导系统程序所需要的文件目录。</p>
<p>/dev：dev 是设备（device) 的英文缩写。这个目录对所有的用户都十分重要。因为在这个目录中包含了所有 linux 系统中使用的外部设备。但是这里并不是放的外部设备的驱动程序。这一点和常用的 windows,dos 操作系统不一样。它实际上是一个访问这些外部设备的端口。可以非常方便地去访问这些外部设备，和访问一个文件，一个目录没有任何区别。</p>
<p>/<strong>home</strong>：如果建立一个用户，用户名是 &quot;xx&quot;, 那么在 /home 目录下就有一个对应的 /home/xx 路径，用来存放用户的主目录。家目录</p>
<p>/lib：lib 是库（library）英文缩写。这个目录是用来存放系统动态连接共享库的。几乎所有的应用程序都会用到这个目录下的共享库。因此，千万不要轻易对这个目录进行什么操作，一旦发生问题，系统就不能工作了。</p>
<p>/<strong>proc</strong>：存储的是当前内核运行状态的一系列特殊文件，用户可以通过这些文件查看有关系统硬件及当前正在运行进程的信息，甚至可以通过更改其中某些文件来改变内核的运行状态。此外还有 **/srv/sys** 三个目录，内核相关目录，不要动。</p>
<p>/<strong>root</strong>：Linux 超级权限用户 root 的家目录。</p>
<p>/sbin：这个目录是用来存放系统管理员的系统管理程序。大多是涉及系统管理的命令的存放，是超级权限用户 root 的可执行命令存放地，普通用户无权限执行这个目录下的命令，sbin 中包含的都是 root 权限才能执行的。</p>
<p>/var/log</p>
<p>/<strong>usr</strong>：这是 linux 系统中占用硬盘空间最大的目录。<strong>用户的很多应用程序和文件都存放在这个目录下</strong>。 Unix software resource usr。类似 windows 系统的 program files</p>
<p>/usr/local：这里主要存放那些手动安装的软件，即不是通过或 apt-get 安装的软件。它和 /usr 目录具有相类似的目录结构。</p>
<p>/usr/share ：系统共用的东西存放地，比如 /usr/share/fonts 是字体目录，/usr/share/doc 和 /usr/share/man 帮助文件。</p>
<p>/etc：管理所有的配置文件的目录，比如安装 mysql 的配置文件 my.conf</p>
<p>/mnt：可供系统管理员使用，手动挂载一些临时设备媒体设备的目录。</p>
<p>/media：是自动挂载的目录。当把 U 盘插入到系统中，会自动挂载到该目录下。比如插入一个 U 盘，会自动到 /media 目录中挂载。</p>
<p>/opt：额外安装软件存放的目录。比如 mysql 的安装包就可以放在该目录。</p>
<hr>
<h2 id="-50"><a class="markdownIt-Anchor" href="#-50">#</a> <a href="#%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"></a>远程连接</h2>
<h3 id="-51"><a class="markdownIt-Anchor" href="#-51">#</a> <a href="#%E8%AE%BE%E7%BD%AEip"></a>设置 IP</h3>
<h4 id="-52"><a class="markdownIt-Anchor" href="#-52">#</a> <a href="#nat"></a>NAT</h4>
<p>首先设置虚拟机中 NAT 模式的选项，打开 VMware，点击 “编辑” 下的 “虚拟网络编辑器”，设置 NAT 参数 [<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545392538352538442545372542442541454e41542e6a7067" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/1ef47367b4dbaf087e3544e276733eb6eea50749bd781b91f7a8553edaa3c0a2/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545392538352538442545372542442541454e41542e6a7067">https://camo.githubusercontent.com/1ef47367b4dbaf087e3544e276733eb6eea50749bd781b91f7a8553edaa3c0a2/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545392538352538442545372542442541454e41542e6a7067</a>)</p>
<p><strong>注意</strong>：VMware Network Adapter VMnet8 保证是启用状态</p>
<p>[<img src="https://camo.githubusercontent.com/260893400a463cd379af12ce2f266cfd6ca4a53d7ef55fa90d40e165c31f4ca0/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539432541432545352539432542302545342542382542422545362539432542412545372542442539312545372542422539432545382542462539452545362538452541352e6a7067" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/260893400a463cd379af12ce2f266cfd6ca4a53d7ef55fa90d40e165c31f4ca0/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539432541432545352539432542302545342542382542422545362539432542412545372542442539312545372542422539432545382542462539452545362538452541352e6a7067">https://camo.githubusercontent.com/260893400a463cd379af12ce2f266cfd6ca4a53d7ef55fa90d40e165c31f4ca0/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539432541432545352539432542302545342542382542422545362539432542412545372542442539312545372542422539432545382542462539452545362538452541352e6a7067</a>)</p>
<h4 id="-53"><a class="markdownIt-Anchor" href="#-53">#</a> <a href="#%E9%9D%99%E6%80%81ip"></a>静态 IP</h4>
<p>在普通用户下不能修改网卡的配置信息；所以我们要切换到 root 用户进行 ip 配置：su root/su</p>
<ul>
<li>
<p>修改网卡配置文件： <code>vim /etc/sysconfig/network-scripts/ifcfg-ens33</code></p>
</li>
<li>
<p>修改文件内容</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span>Ethernet
<span class="token assign-left variable">PROXY_METHOD</span><span class="token operator">=</span>none
<span class="token assign-left variable">BROWSER_ONLY</span><span class="token operator">=</span>no
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span>static
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">10.2</span>.111.62
<span class="token assign-left variable">NETMASK</span><span class="token operator">=</span><span class="token number">255.255</span>.252.0
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">10.2</span>.111.254
<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span>yes
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span>no
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span>stable-privacy
<span class="token assign-left variable">NAME</span><span class="token operator">=</span>ens33
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>2c2371f1-ef29-4514-a568-c4904bd11c82
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span>ens33
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span>true
<span class="token comment">###########################</span>
BOOTPROTO设置为静态static
IPADDR设置ip地址
NETMASK设置子网掩码
GATEWAY设置网关
ONBOOT设置为true在系统启动时是否激活网卡
执行保存 :wq<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>重启网络：systemctl restart network</p>
</li>
<li>
<p>查看 IP：ifconfig</p>
</li>
<li>
<p>宿主机 ping 虚拟机，虚拟机 ping 宿主机</p>
</li>
<li>
<p>在虚拟机中访问网络，需要增加一块 NAT 网卡</p>
<ul>
<li>
<p>【虚拟机】–【设置】–【添加】</p>
</li>
<li>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe4b8a4e59d974e4154e7bd91e58da12e6a7067" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/764e07f5b9ecd5760f49b4776a2fa7b85ecfb1a2c1e5c265cabd37f8f037b488/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe4b8a4e59d974e4154e7bd91e58da12e6a7067">https://camo.githubusercontent.com/764e07f5b9ecd5760f49b4776a2fa7b85ecfb1a2c1e5c265cabd37f8f037b488/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe4b8a4e59d974e4154e7bd91e58da12e6a7067</a>)</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-54"><a class="markdownIt-Anchor" href="#-54">#</a> <a href="#%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86"></a>远程登陆</h3>
<p><strong>服务器维护工作</strong> 都是在 远程 通过 SSH 客户端 来完成的， 并没有图形界面， 所有的维护工作都需要通过命令来完成，Linux 服务器需要安装 SSH 相关服务。 首先执行 sudo apt-get install openssh-server 指令。接下来用 xshell 连接。</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545382542462539432545372541382538422545382542462539452545362538452541354c696e75782e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9a74d1e029e0c9a52bba9b6c7ba1254c72072cb55c3eeed542b777b8cebbc5a6/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545382542462539432545372541382538422545382542462539452545362538452541354c696e75782e706e67">https://camo.githubusercontent.com/9a74d1e029e0c9a52bba9b6c7ba1254c72072cb55c3eeed542b777b8cebbc5a6/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545382542462539432545372541382538422545382542462539452545362538452541354c696e75782e706e67</a>)</p>
<p>先用普通用户登录，然后转成 root</p>
<hr>
<h2 id="-55"><a class="markdownIt-Anchor" href="#-55">#</a> <a href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86"></a>用户管理</h2>
<p>Linux 系统是一个多用户、多任务的操作系统。多用户是指在 linux 操作系统中可以创建多个用户，而这些多用户又可以同时执行各自不同的任务，而互不影响。和 windows 系统有很大区别。</p>
<p>在 Linux 系统中，会存在着以下几个概念：</p>
<ul>
<li>用户名：用户的名称</li>
<li>用户所属的组：当前用户所属的组。</li>
<li>用户的家目录：当前账号登录成功之后的目录，就叫做该用户的家目录</li>
</ul>
<h3 id="-56"><a class="markdownIt-Anchor" href="#-56">#</a> <a href="#%E7%94%A8%E6%88%B7%E7%AE%A1%E7%90%86-1"></a>用户管理</h3>
<h4 id="-57"><a class="markdownIt-Anchor" href="#-57">#</a> <a href="#%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7"></a>当前用户</h4>
<p>logname：用于显示目前用户的名称</p>
<ul>
<li>
<p>–help 　在线帮助。</p>
</li>
<li>
<p>–vesion 　显示版本信息。</p>
</li>
</ul>
<h4 id="-58"><a class="markdownIt-Anchor" href="#-58">#</a> <a href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"></a>切换用户</h4>
<p>su UserName：切换用户</p>
<p>su -c comman root：切换用户为 root 并在执行 comman 指令后退出返回原使用者</p>
<p>su：切换到 root 用户</p>
<h4 id="-59"><a class="markdownIt-Anchor" href="#-59">#</a> <a href="#%E7%94%A8%E6%88%B7%E6%B7%BB%E5%8A%A0"></a>用户添加</h4>
<p>命令：useradd [options] 用户名</p>
<p>参数说明：</p>
<ul>
<li>选项
<ul>
<li>-c comment 指定一段注释性描述。</li>
<li>-d 指定用户主目录，如果此目录不存在，则同时使用 - m 选项，可以创建主目录。</li>
<li>-m 创建用户的主目录。</li>
<li>-g 用户组 指定用户所属的用户组，-g 组名 用户名。</li>
<li>-G 用户组，用户组 指定用户所属的附加组。</li>
<li>-s Shell 文件 指定用户的登录 Shell。</li>
<li>-u 用户号 指定用户的用户号，如果同时有 - o 选项，则可以重复使用其他用户的标识号。</li>
</ul>
</li>
<li>用户名 指定新账号的用户名 (后续我们可以使用这个用户名进行系统登录)。</li>
</ul>
<p>如何知道添加用户成功呢？ 通过指令 cat /etc/passwd 查看</p>
<pre class="line-numbers language-none"><code class="language-none">seazean:x:  1000:1000:Seazean:&#x2F;home&#x2F;seazean:&#x2F;bin&#x2F;bash
用户名 密码  用户ID 组ID   注释    家目录        shell程序
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>useradd -m Username 新建用户成功之后，会建立家目录，但是此时有问题没有指定 shell 的版本，不是我们熟知的 bash，功能上有很多限制。<strong>sudo useradd -m -s /bin/bash Username</strong></p>
<h4 id="-60"><a class="markdownIt-Anchor" href="#-60">#</a> <a href="#%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81"></a>用户密码</h4>
<p>系统安装好默认的 root 用户是没有密码的，需要给 root 设置一个密码<strong> sudo passwd root</strong>.</p>
<ul>
<li>
<p>普通用户：<strong>sudo passwd UserName</strong>。</p>
</li>
<li>
<p>管理员用户：passwd [options] UserName</p>
<ul>
<li>-l 锁定密码，即禁用账号。</li>
<li>-u 密码解锁。</li>
<li>-d 使账号无密码。</li>
<li>-f 强迫用户下次登录时修改密码。</li>
</ul>
</li>
</ul>
<h4 id="-61"><a class="markdownIt-Anchor" href="#-61">#</a> <a href="#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90"></a>用户权限</h4>
<p>usermod 命令通过修改系统帐户文件来修改用户账户信息</p>
<p>修改用户账号就是根据实际情况更改用户的有关属性，如用户号、主目录、用户组、登录 Shell 等。</p>
<ul>
<li>
<p>普通用户：sudo usermod [options] Username</p>
</li>
<li>
<p>管理员用户：usermod [options] Username</p>
<ul>
<li>usermod <strong>-l</strong> newName Username</li>
<li>-l 新的登录名称</li>
</ul>
</li>
</ul>
<h4 id="-62"><a class="markdownIt-Anchor" href="#-62">#</a> <a href="#%E7%94%A8%E6%88%B7%E5%88%A0%E9%99%A4"></a>用户删除</h4>
<p>删除用户账号就是要将 /etc/passwd 等系统文件中的该用户记录删除，必要时还删除用户的主目录。</p>
<ul>
<li>
<p>普通用户：sudo userdel [options] Username</p>
</li>
<li>
<p>管理员用户：userdel [options] Username</p>
<ul>
<li>-f：强制删除用户，即使用户当前已登录；</li>
<li>-r：删除用户的同时，删除与用户相关的所有文件</li>
</ul>
</li>
</ul>
<hr>
<h3 id="-63"><a class="markdownIt-Anchor" href="#-63">#</a> <a href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"></a>用户组管理</h3>
<p>开发组，测试组，等</p>
<h4 id="-64"><a class="markdownIt-Anchor" href="#-64">#</a> <a href="#%E7%BB%84%E7%AE%A1%E7%90%86"></a>组管理</h4>
<p>添加组：<strong>groupadd 组名</strong></p>
<p>创建用户的时加入组：useradd -m -g 组名 用户名 ​</p>
<h4 id="-65"><a class="markdownIt-Anchor" href="#-65">#</a> <a href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E7%BB%84"></a>添加用户组</h4>
<p>新增一个用户组（组名可见名知意，符合规范即可），然后将用户添加到组中</p>
<p><strong>使用者权限：管理员用户</strong></p>
<p>命令：groupadd [options] Groupname</p>
<ul>
<li>-g GID 指定新用户组的组标识号（GID）</li>
<li>-o 一般与 - g 选项同时使用，表示新用户组的 GID 可以与系统已有用户组的 GID 相同</li>
</ul>
<p>新增用户组 Seazean：groupadd Seazean</p>
<h4 id="-66"><a class="markdownIt-Anchor" href="#-66">#</a> <a href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E7%BB%84"></a>修改用户组</h4>
<p><strong>使用者权限：管理员用户</strong></p>
<p>命令：groupmod [options] Groupname</p>
<ul>
<li>-g GID 为用户组指定新的组标识号。</li>
<li>-o 与 - g 选项同时使用，用户组的新 GID 可以与系统已有用户组的 GID 相同。</li>
<li>-n 新用户组 将用户组的名字改为新名字</li>
</ul>
<p>修改 Seazean 组名为 zhy：groupmod -n zhy Seazean</p>
<h4 id="-67"><a class="markdownIt-Anchor" href="#-67">#</a> <a href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%E7%BB%84"></a>删除用户组</h4>
<ul>
<li>
<p>普通用户：sudo groupdel Groupname</p>
</li>
<li>
<p>管理员用户：groupdel Groupname</p>
<ul>
<li>-f 用户的主组也继续删除</li>
<li>-h 显示帮助信息</li>
</ul>
</li>
</ul>
<h4 id="-68"><a class="markdownIt-Anchor" href="#-68">#</a> <a href="#%E7%94%A8%E6%88%B7%E6%89%80%E5%B1%9E%E7%BB%84"></a>用户所属组</h4>
<p>查询用户所属组：groups Username</p>
<p>查看用户及组信息：id Username</p>
<p>创建用户的时加入组：useradd -m -g Groupname Username</p>
<p>修改用户所属组：usermod -g Groupname Username</p>
<p>usermod 常用选项：</p>
<ul>
<li>-d 用户的新主目录</li>
<li>-l 新的登录名称</li>
</ul>
<h4 id="-69"><a class="markdownIt-Anchor" href="#-69">#</a> <a href="#gpasswd"></a>gpasswd</h4>
<p>gpasswd 是 Linux 工作组文件 /etc/group 和 /etc/gshadow 管理工具，用于将一个用户添加到组或从组中删除</p>
<p>命令：gpasswd 选项 Username Groupname</p>
<ul>
<li>-a 向组 GROUP 中添加用户 USER</li>
<li>-d 从组 GROUP 中添加或删除用户</li>
</ul>
<p><strong>查看用户组下所有用户（所有用户）</strong>：grep ‘Groupname’ /etc/group</p>
<hr>
<h2 id="-70"><a class="markdownIt-Anchor" href="#-70">#</a> <a href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"></a>系统管理</h2>
<h3 id="-71"><a class="markdownIt-Anchor" href="#-71">#</a> <a href="#man"></a>man</h3>
<p>在控制台输入：命令名 -h/-help/ --h / 空</p>
<p>可以看到命令的帮助文档</p>
<p><strong>man</strong> [指令名称] 查看帮助文档 比如 man ls，退出方式 q</p>
<hr>
<h3 id="-72"><a class="markdownIt-Anchor" href="#-72">#</a> <a href="#date"></a>date</h3>
<p>date 可以用来显示或设定系统的日期与时间</p>
<p>命令：date [options]</p>
<ul>
<li>
<p>-d &lt;字符串&gt;：显示字符串所指的日期与时间。字符串前后必须加上双引号；</p>
</li>
<li>
<p>-s &lt;字符串&gt;：根据字符串来设置日期与时间。字符串前后必须加上双引号</p>
</li>
<li>
<p>-u：显示 GMT；</p>
</li>
<li>
<p>–version：显示版本信息</p>
</li>
</ul>
<p>查看时间：<strong>date</strong> → 2020 年 11 月 30 日 星期一 17:10:54 CST 查看指定格式时间：<strong>date “+%Y-%m-%d %H:%M:%S”</strong> → 2020-11-30 17:11:44 设置日期指令：<strong>date -s “2019-12-23 19:21:00”</strong></p>
<hr>
<h3 id="-73"><a class="markdownIt-Anchor" href="#-73">#</a> <a href="#id"></a>id</h3>
<p>id 会显示用户以及所属群组的实际与有效 ID。若两个 ID 相同，则仅显示实际 ID；若仅指定用户名称，则显示目前用户的 ID。</p>
<p>命令：id [-gGnru] [–help] [–version] [用户名称] // 参数的顺序</p>
<ul>
<li>-g 或–group 　显示用户所属群组的 ID</li>
<li>-G 或–groups 　显示用户所属附加群组的 ID</li>
<li>-n 或–name 　显示用户，所属群组或附加群组的名称。</li>
<li>-r 或–real 　显示实际 ID</li>
<li>-u 或–user 　显示用户 ID</li>
</ul>
<blockquote>
<p>id 命令参数虽然很多，但是常用的是不带参数的 id 命令，主要看他的 uid 和组信息</p>
</blockquote>
<hr>
<h3 id="-74"><a class="markdownIt-Anchor" href="#-74">#</a> <a href="#sudo"></a>sudo</h3>
<p>sudo：控制用户对系统命令的使用权限，root 允许的操作，通过 sudo 可以提高普通用户的操作权限</p>
<ul>
<li>-V 显示版本编号</li>
<li>-h 会显示版本编号及指令的使用方式说明</li>
<li>-l 显示出自己（执行 sudo 的使用者）的权限</li>
<li>-v 因为 sudo 在第一次执行时或是在 N 分钟内没有执行（N 预设为五）会问密码，这个参数是重新做一次确认，如果超过 N 分钟，也会问密码</li>
<li>-k 将会强迫使用者在下一次执行 sudo 时询问密码（不论有没有超过 N 分钟）</li>
<li>-b 将要执行的指令放在背景执行</li>
<li>-p prompt 可以更改问密码的提示语，其中 % u 会代换为使用者的帐号名称， % h 会显示主机名称</li>
<li>-u username/#uid 不加此参数，代表要以 root 的身份执行指令，而加了此参数，可以以 username 的身份执行指令（#uid 为该 username 的使用者号码）</li>
<li>-s 执行环境变数中的 SHELL 所指定的 shell ，或是 /etc/passwd 里所指定的 shell</li>
<li>-H 将环境变数中的 HOME 指定为要变更身份的使用者 HOME 目录（如不加 -u 参数就是系统管理者 root ）</li>
<li>-command 要以系统管理者身份（或以 -u 更改为其他人）执行的指令 <strong>sudo -u root command -l</strong>：指定 root 用户执行指令 command</li>
</ul>
<hr>
<h3 id="-75"><a class="markdownIt-Anchor" href="#-75">#</a> <a href="#top"></a>top</h3>
<p>top：用于实时显示 process 的动态</p>
<ul>
<li>
<p>-c：command 属性进行了命令补全</p>
</li>
<li>
<p>-p 进程号：显示指定 pid 的进程信息</p>
</li>
<li>
<p>-d 秒数：表示进程界面更新时间（每几秒刷新一次）</p>
</li>
<li>
<p>-H 表示线程模式</p>
</li>
</ul>
<p><code>top -Hp 进程 id</code> ：分析该进程内各线程的 cpu 使用情况</p>
<p>[<img src="https://camo.githubusercontent.com/b13baf3ed3e2c811b9a4e85111f252d9bef6476f3d47b218ab032b589ff8af89/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f746f702545352539312542442545342542422541342e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/b13baf3ed3e2c811b9a4e85111f252d9bef6476f3d47b218ab032b589ff8af89/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f746f702545352539312542442545342542422541342e706e67">https://camo.githubusercontent.com/b13baf3ed3e2c811b9a4e85111f252d9bef6476f3d47b218ab032b589ff8af89/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f746f702545352539312542442545342542422541342e706e67</a>)</p>
<p><strong>各进程（任务）的状态监控属性解释说明：</strong>  PID — 进程 id TID — 线程 id USER — 进程所有者 PR — 进程优先级 NI — nice 值，负值表示高优先级，正值表示低优先级 VIRT — 进程使用的虚拟内存总量，单位 kb，VIRT=SWAP+RES RES — 进程使用的、未被换出的物理内存大小，单位 kb，RES=CODE+DATA SHR — 共享内存大小，单位 kb S — 进程状态，D = 不可中断的睡眠状态 R = 运行 S = 睡眠 T = 跟踪 / 停止 Z = 僵尸进程 % CPU — 上次更新到现在的 CPU 时间占用百分比 % MEM — 进程使用的物理内存百分比 TIME+ — 进程使用的 CPU 时间总计，单位 1/100 秒 COMMAND — 进程名称（命令名 / 命令行）</p>
<hr>
<h3 id="-76"><a class="markdownIt-Anchor" href="#-76">#</a> <a href="#ps"></a>ps</h3>
<p>Linux 系统中查看进程使用情况的命令是 ps 指令</p>
<p>命令：ps</p>
<ul>
<li>-e: 显示所有进程</li>
<li>-f: 全格式</li>
<li>a: 显示终端上的所有进程</li>
<li>u: 以用户的格式来显示进程信息</li>
<li>x: 显示后台运行的进程</li>
<li>-T：开启线程查看</li>
<li>-p：指定线程号</li>
</ul>
<p>一般常用格式为 ps -ef 或者 ps aux 两种。显示的信息大体一致，略有区别 两者区别： 如果想查看进程的 CPU 占用率和内存占用率，可以使用 aux 如果想查看进程的父进程 ID 和完整的 COMMAND 命令，可以使用 ef</p>
<p><code>ps -T -p &lt;pid&gt;</code> ：显示某个进程的线程</p>
<p><strong>ps 和 top 区别：</strong></p>
<ul>
<li>
<p>ps 命令：可以查看进程的瞬间信息，是系统在过去执行的进程的静态快照</p>
</li>
<li>
<p>top 命令：可以持续的监视进程的动态信息</p>
</li>
</ul>
<hr>
<h3 id="-77"><a class="markdownIt-Anchor" href="#-77">#</a> <a href="#kill"></a>kill</h3>
<p>Linux kill 命令用于删除执行中的程序或工作 (可强制中断)</p>
<p>命令：kill [-s &lt; 信息名称或编号&gt;] [程序]　或　kill [-l &lt; 信息编号 &gt;]</p>
<ul>
<li>-l &lt;信息编号&gt; 　若不加 &lt; 信息编号 &gt; 选项，则 - l 参数会列出全部的信息名称。</li>
<li>-s &lt;信息名称或编号&gt; 　指定要送出的信息。</li>
<li>-KILL 强制杀死进程</li>
<li><strong>-9 彻底杀死进程（常用）</strong></li>
<li>[程序] 程序的 PID、PGID、工作编号。</li>
</ul>
<p><code>kill 15642</code>  .  <code>kill -KILL 15642</code> . <strong> <code>kill -9 15642</code> </strong></p>
<p>杀死指定用户所有进程：</p>
<ol>
<li>
<p>过滤出 user 用户进程 ： <code>kill -9 $(ps -ef | grep user)</code></p>
</li>
<li>
<p>直接杀死： <code>kill -u user</code></p>
</li>
</ol>
<hr>
<h3 id="-78"><a class="markdownIt-Anchor" href="#-78">#</a> <a href="#shutdown"></a>shutdown</h3>
<p>shutdown 命令可以用来进行关闭系统，并且在关机以前传送讯息给所有使用者正在执行的程序，shutdown 也可以用来重开机</p>
<p>普通用户：sudo shutdown [-t seconds] [-rkhncfF] time [message]</p>
<p>管理员用户：shutdown [-t seconds] [-rkhncfF] time [message]</p>
<ul>
<li>-t seconds : 设定在几秒钟之后进行关机程序。</li>
<li>-k : 并不会真的关机，只是将警告讯息传送给所有使用者。</li>
<li>-r : 关机后重新开机。</li>
<li>-h : 关机后停机。</li>
<li>-n : 不采用正常程序来关机，用强迫的方式杀掉所有执行中的程序后自行关机。</li>
<li>-c : 取消目前已经进行中的关机动作。</li>
<li>-f : 关机时，不做 fcsk 动作 (检查 Linux 档系统)。</li>
<li>-F : 关机时，强迫进行 fsck 动作。</li>
<li>time : 设定关机的时间。</li>
<li>message : 传送给所有使用者的警告讯息。</li>
</ul>
<p>立即关机： <code>shutdown -h now</code>  或者  <code>shudown now</code></p>
<p>指定 1 分钟后关机并显示警告信息： <code>shutdown +1 &quot;System will shutdown after 1 minutes&quot;</code></p>
<p>指定 1 分钟后重启并发出警告信息： <code>shutdown –r +1 &quot;1分钟后关机重启&quot;</code></p>
<hr>
<h3 id="-79"><a class="markdownIt-Anchor" href="#-79">#</a> <a href="#reboot"></a>reboot</h3>
<p>reboot 命令用于用来重新启动计算机</p>
<p>命令：reboot [-n] [-w] [-d] [-f] [-i]</p>
<ul>
<li>-n : 在重开机前不做将记忆体资料写回硬盘的动作</li>
<li>-w : 并不会真的重开机，只是把记录写到 /var/log/wtmp 档案里</li>
<li>-d : 不把记录写到 /var/log/wtmp 档案里（-n 这个参数包含了 -d）</li>
<li>-f : 强迫重开机，不呼叫 shutdown 这个指令</li>
<li>-i : 在重开机之前先把所有网络相关的装置先停止</li>
</ul>
<hr>
<h3 id="-80"><a class="markdownIt-Anchor" href="#-80">#</a> <a href="#who"></a>who</h3>
<p>who 命令用于显示系统中有哪些使用者正在上面，显示的资料包含了使用者 ID、使用的终端机、上线时间、呆滞时间、CPU 使用量、动作等等</p>
<p>命令：who - [husfV] [user]</p>
<ul>
<li>-H 或 --heading：显示各栏位的标题信息列；（常用  <code>who -H</code> ）</li>
<li>-i 或 -u 或 --idle：显示闲置时间，若该用户在前一分钟之内有进行任何动作，将标示成 &quot;.&quot; 号，如果该用户已超过 24 小时没有任何动作，则标示出 &quot;old&quot; 字符串；</li>
<li>-m：此参数的效果和指定 &quot;am i&quot; 字符串相同；</li>
<li>-q 或–count：只显示登入系统的帐号名称和总人数；</li>
<li>-s：此参数将忽略不予处理，仅负责解决 who 指令其他版本的兼容性问题；</li>
<li>-w 或 - T 或–mesg 或–message 或–writable：显示用户的信息状态栏；</li>
<li>–help：在线帮助；</li>
<li>–version：显示版本信息</li>
</ul>
<hr>
<h3 id="-81"><a class="markdownIt-Anchor" href="#-81">#</a> <a href="#systemctl"></a>systemctl</h3>
<p>命令：systemctl [command] [unit]</p>
<ul>
<li>
<p>–version 查看版本号</p>
</li>
<li>
<p>start：立刻启动后面接的 unit。</p>
</li>
<li>
<p>stop：立刻关闭后面接的 unit。</p>
</li>
<li>
<p>restart：立刻关闭后启动后面接的 unit，亦即执行 stop 再 start 的意思。</p>
</li>
<li>
<p>reload：不关闭 unit 的情况下，重新载入配置文件，让设置生效。</p>
</li>
<li>
<p>status：目前后面接的这个 unit 的状态，会列出有没有正在执行、开机时是否启动等信息。</p>
</li>
<li>
<p>enable：设置下次开机时，后面接的 unit 会被启动。</p>
</li>
<li>
<p>disable：设置下次开机时，后面接的 unit 不会被启动。</p>
</li>
<li>
<p>is-active：目前有没有正在运行中。</p>
</li>
<li>
<p>is-enable：开机时有没有默认要启用这个 unit。</p>
</li>
<li>
<p>kill ：不要被 kill 这个名字吓着了，它其实是向运行 unit 的进程发送信号。</p>
</li>
<li>
<p>show：列出 unit 的配置。</p>
</li>
<li>
<p>mask：注销 unit，注销后你就无法启动这个 unit 了。</p>
</li>
<li>
<p>unmask：取消对 unit 的注销。</p>
</li>
</ul>
<hr>
<h3 id="-82"><a class="markdownIt-Anchor" href="#-82">#</a> <a href="#timedatectl"></a>timedatectl</h3>
<p>timedatectl 用于控制系统时间和日期。可以查询和更改系统时钟于设定，同时可以设定和修改时区信息。在实际开发过程中，系统时间的显示会和实际出现不同步；我们为了校正服务器时间、时区会使用 timedatectl 命令</p>
<p>timedatectl ：显示系统的时间信息</p>
<p>timedatectl status：显示系统的当前时间和日期</p>
<p>timedatectl | grep Time：查看当前时区</p>
<p>timedatectl list-timezones：查看所有可用的时区</p>
<p>timedatectl set-timezone “Asia/Shanghai”：设置本地时区为上海</p>
<p>timedatectl set-ntp true/false：启用 / 禁用时间同步</p>
<p>timedatectl set-time “2020-12-20 20:45:00”：时间同步关闭后可以设定时间</p>
<p>NTP 即 Network Time Protocol（网络时间协议），是一个互联网协议，用于同步计算机之间的系统时钟。timedatectl 实用程序可以自动同步你的 Linux 系统时钟到使用 NTP 的远程服务器。</p>
<hr>
<h3 id="-83"><a class="markdownIt-Anchor" href="#-83">#</a> <a href="#clear"></a>clear</h3>
<p>clear 命令用于清除屏幕</p>
<p>通过执行 clear 命令，就可以把缓冲区的命令全部清理干净了</p>
<hr>
<h3 id="-84"><a class="markdownIt-Anchor" href="#-84">#</a> <a href="#exit"></a>exit</h3>
<p>exit 命令用于退出目前的 shell。执行 exit 可使 shell 以指定的状态值退出。若不设置状态值参数，则 shell 以预设值退出。状态值 0 代表执行成功，其他值代表执行失败。exit 也可用在 script，离开正在执行的 script，回到 shell。</p>
<p>命令：exit [状态值]</p>
<ul>
<li>
<p>0 表示成功（Zero - Success）</p>
</li>
<li>
<p>非 0 表示失败（Non-Zero - Failure）</p>
</li>
<li>
<p>2 表示用法不当（Incorrect Usage）</p>
</li>
<li>
<p>127 表示命令没有找到（Command Not Found）</p>
</li>
<li>
<p>126 表示不是可执行的（Not an executable）</p>
</li>
<li>
<p>大于等于 128 信号产生</p>
</li>
</ul>
<hr>
<h2 id="-85"><a class="markdownIt-Anchor" href="#-85">#</a> <a href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"></a>文件管理</h2>
<h3 id="-86"><a class="markdownIt-Anchor" href="#-86">#</a> <a href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4-1"></a>常用命令</h3>
<ul>
<li>ls: 列出目录</li>
<li>cd： 切换目录</li>
<li>pwd： 显示目前的目录</li>
<li>mkdir：创建一个新的目录</li>
<li>rmdir：删除一个空的目录</li>
<li>cp: 复制文件或目录</li>
<li>rm: 移除文件或目录</li>
<li>mv: 移动文件与目录或修改文件与目录的名称</li>
<li>在敲出文件 / 目录 / 命令的前几个字母之后，按下  <code>tab</code>  键会自动补全，如果还存在其他文件 / 目录 / 命令，再按一下 <code>tab</code>  键，系统会提示可能存在的命令</li>
</ul>
<h4 id="-87"><a class="markdownIt-Anchor" href="#-87">#</a> <a href="#ls"></a>ls</h4>
<p>ls 命令相当于我们在 Windows 系统中打开磁盘、或者打开文件夹看到的目录以及文件的明细。</p>
<p>命令：ls [options] 目录名称</p>
<ul>
<li>-a ：全部的文件，连同隐藏档 (开头为。的文件) 一起列出来 (常用)</li>
<li>-d ：仅列出目录本身，而不是列出目录内的文件数据 (常用)</li>
<li>-l ：显示不隐藏的文件与文件夹的详细信息；(常用)</li>
<li>ls -al = ll 命令：显示所有文件与文件夹的详细信息</li>
</ul>
<h4 id="-88"><a class="markdownIt-Anchor" href="#-88">#</a> <a href="#pwd"></a>pwd</h4>
<p>pwd 是 <strong>Print Working Directory</strong> 的缩写，也就是显示目前所在当前目录的命令。</p>
<p>命令：pwd 选项</p>
<ul>
<li>-L 打印 $PWD 变量的值，如果它包含了当前的工作目录</li>
<li>-P 打印当前的物理路径，不带有任何的符号链接</li>
</ul>
<h4 id="-89"><a class="markdownIt-Anchor" href="#-89">#</a> <a href="#cd"></a>cd</h4>
<p>cd 是 Change Directory 的缩写，这是用来变换工作目录的命令</p>
<p>命令：cd [相对路径或绝对路径]</p>
<ul>
<li>
<p>cd ~ ：表示回到根目录</p>
</li>
<li>
<p>cd … ：返回上级目录</p>
</li>
<li>
<p><strong>相对路径</strong> 在输入路径时，最前面不是以  <code>/</code>  开始的，表示相对 <strong>当前目录</strong> 所在的目录位置</p>
<ul>
<li>例如： /usr/share/doc</li>
</ul>
</li>
<li>
<p><strong>绝对路径</strong> 在输入路径时，最前面是以  <code>/</code>  开始的，表示 从 <strong>根目录</strong> 开始的具体目录位置！</p>
<ul>
<li>由 /usr/share/doc 到 /usr/share/man 时，可以写成： cd …/man。</li>
<li>优点：定位准确，不会因为 工作目录变化 而变化</li>
</ul>
</li>
</ul>
<h4 id="-90"><a class="markdownIt-Anchor" href="#-90">#</a> <a href="#mkdir"></a>mkdir</h4>
<p>mkdir 命令用于建立名称为 dirName 之子目录</p>
<p>命令：mkdir [-p] dirName</p>
<ul>
<li>-p 确保目录名称存在，不存在的就建一个，用来创建多级目录。</li>
</ul>
<p>在 aaa 目录下，创建一个 bbb 的子目录。 若 aaa 目录原本不存在，则建立一个： <code>mkdir -p aaa/bbb</code>  注：本例若不加 -p，且原本 aaa 目录不存在，则产生错误。</p>
<h4 id="-91"><a class="markdownIt-Anchor" href="#-91">#</a> <a href="#rmdir"></a>rmdir</h4>
<p>rmdir 命令删除空的目录</p>
<p>命令：rmdir [-p] dirName</p>
<ul>
<li>-p 是当子目录被删除后使它也成为空目录的话，则顺便一并删除。</li>
</ul>
<p>在 aaa 目录中，删除名为 bbb 的子目录。若 bbb 删除后，aaa 目录成为空目录，则 aaa 同时也会被删除：  <code>rmdir -p aaa/bbb</code></p>
<h4 id="-92"><a class="markdownIt-Anchor" href="#-92">#</a> <a href="#cp"></a>cp</h4>
<p>cp 命令主要用于复制文件或目录。</p>
<p>命令：cp [options] source… directory</p>
<ul>
<li>-a：此选项通常在复制目录时使用，它保留链接、文件属性，并复制目录下的所有内容。其作用等于 dpR 参数组合。</li>
<li>-d：复制时保留链接。这里所说的链接相当于 Windows 系统中的快捷方式。</li>
<li>-f：覆盖已经存在的目标文件而不给出提示。</li>
<li>-i：与 - f 选项相反，在覆盖目标文件之前给出提示，要求用户确认是否覆盖，回答 &quot;y&quot; 时目标文件将被覆盖。</li>
<li>-p：除复制文件的内容外，还把修改时间和访问权限也复制到新文件中。</li>
<li>-r/R：若给出的源文件是一个目录文件，此时将复制该目录下所有的<strong>子目录</strong>和文件。</li>
<li>-l：不复制文件，只是生成链接文件。</li>
</ul>
<p>cp –r aaa/* ccc ：复制 aaa 下的所有文件到 ccc 用户使用该指令复制目录时，必须使用参数 &quot;-r&quot; 或者 &quot;-R&quot;。如果不加参数 &quot;-r&quot; 或者 &quot;-R&quot;, 只复制文件，而略过目录</p>
<h4 id="-93"><a class="markdownIt-Anchor" href="#-93">#</a> <a href="#rm"></a>rm</h4>
<p>rm 命令用于删除一个文件或者目录。</p>
<p>命令：rm [options] name…</p>
<ul>
<li>-i 删除前逐一询问确认。</li>
<li>-f 即使原档案属性设为唯读，亦直接删除，无需逐一确认</li>
<li>-r 将目录及以下之档案亦逐一删除，递归删除</li>
</ul>
<p>注：文件一旦通过 rm 命令删除，则无法恢复，所以必须格外小心地使用该命令</p>
<h4 id="-94"><a class="markdownIt-Anchor" href="#-94">#</a> <a href="#mv"></a>mv</h4>
<p>mv 命令用来为文件或目录改名、或将文件或目录移入其它位置</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">mv</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token builtin class-name">source</span> dest
<span class="token function">mv</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> source<span class="token punctuation">..</span>. directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>
<p>-i: 若指定目录已有同名文件，则先询问是否覆盖旧文件；</p>
</li>
<li>
<p>-f: 在 mv 操作要覆盖某已有的目标文件时不给任何指示；</p>
<table>
<thead>
<tr>
<th>令格式</th>
<th>运行结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>v 文件名 文件名</td>
<td>将源文件名改为目标文件名</td>
</tr>
<tr>
<td>v 文件名 目录名</td>
<td>将文件移动到目标目录</td>
</tr>
<tr>
<td>v 目录名 目录名</td>
<td>目标目录已存在，将源目录移动到目标目录。目标目录不存在则改名</td>
</tr>
<tr>
<td>v 目录名 文件名</td>
<td>出错</td>
</tr>
</tbody>
</table>
</li>
</ul>
<hr>
<h3 id="-95"><a class="markdownIt-Anchor" href="#-95">#</a> <a href="#%E6%96%87%E4%BB%B6%E5%B1%9E%E6%80%A7"></a>文件属性</h3>
<h4 id="-96"><a class="markdownIt-Anchor" href="#-96">#</a> <a href="#%E5%9F%BA%E6%9C%AC%E5%B1%9E%E6%80%A7"></a>基本属性</h4>
<p>Linux 系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。为了保护系统的安全性，Linux 系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。</p>
<p>[<img src="https://camo.githubusercontent.com/9cb0e4462b2207c1d970d9f477c851eaf589ab1fd5b34ac0022c8113a4e022bf/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372539342541382545362538382542372545372539422541452545352542442539352545342542382538422545372539412538342545362539362538372545342542422542362e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/9cb0e4462b2207c1d970d9f477c851eaf589ab1fd5b34ac0022c8113a4e022bf/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372539342541382545362538382542372545372539422541452545352542442539352545342542382538422545372539412538342545362539362538372545342542422542362e706e67">https://camo.githubusercontent.com/9cb0e4462b2207c1d970d9f477c851eaf589ab1fd5b34ac0022c8113a4e022bf/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372539342541382545362538382542372545372539422541452545352542442539352545342542382538422545372539412538342545362539362538372545342542422542362e706e67</a>)</p>
<p>在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等。</p>
<ul>
<li>当为 [ <strong>d</strong> ] 则是目录</li>
<li>当为 [ <strong>-</strong> ] 则是文件；</li>
<li>若是 [ <strong>l</strong> ] 则表示为链接文档 (link file)；</li>
<li>若是 [ <strong>b</strong> ] 则表示为装置文件里面的可供储存的接口设备 (可随机存取装置)；</li>
<li>若是 [ <strong>c</strong> ] 则表示为装置文件里面的串行端口设备，例如键盘、鼠标 (一次性读取装置)。</li>
</ul>
<p>接下来的字符，以三个为一组，均为 [rwx] 的三个参数组合。其中，[ r ] 代表可读 (read)、[ w ] 代表可写 (write)、[ x ] 代表可执行 (execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现 [ - ]。</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69687e4bbb6e69d83e999902e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/00025702485178ca413b594d3b62282c39b644465e83d681bcce3fb81f6c8860/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69687e4bbb6e69d83e999902e706e67">https://camo.githubusercontent.com/00025702485178ca413b594d3b62282c39b644465e83d681bcce3fb81f6c8860/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69687e4bbb6e69d83e999902e706e67</a>)</p>
<p>从左至右用 0-9 这些数字来表示： 第 0 位确定文件类型，第 1-3 位确定属主（该文件的所有者）拥有该文件的权限。 第 4-6 位确定属组（所有者的同组用户）拥有该文件的权限， 第 7-9 位确定其他用户拥有该文件的权限。</p>
<p>其中，第 1、4、7 位表示读权限，如果用 &quot;r&quot; 字符表示，则有读权限，如果用 &quot;-“字符表示，则没有读权限；第 2、5、8 位表示写权限，如果用&quot;w&quot;字符表示，则有写权限，如果用”-“字符表示没有写权限；第 3、6、9 位表示可执行权限，如果用&quot;x&quot;字符表示，则有执行权限，如果用”-&quot; 字符表示，则没有执行权限。</p>
<h4 id="-97"><a class="markdownIt-Anchor" href="#-97">#</a> <a href="#%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"></a>文件信息</h4>
<blockquote>
<p>对于一个文件来说，它都有一个特定的所有者，也就是对该文件具有所有权的用户。也就是所谓的属主，它属于哪个用户的意思。除了属主，还有属组，也就是说，这个文件是属于哪个组的（用户所属的组）。 文件的【属主】有一套【读写执行权限 rwx】 文件的【属组】有一套【读写执行权限 rwx】</p>
</blockquote>
<p>[<img src="https://camo.githubusercontent.com/613f9ebeb6ee7757267c3d5fb0a26a1ada96a696969d3a6a2f4d0057d1cf9728/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352538382539372545352538372542412545372539422541452545352542442539352545362539362538372545342542422542362e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/613f9ebeb6ee7757267c3d5fb0a26a1ada96a696969d3a6a2f4d0057d1cf9728/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352538382539372545352538372542412545372539422541452545352542442539352545362539362538372545342542422542362e706e67">https://camo.githubusercontent.com/613f9ebeb6ee7757267c3d5fb0a26a1ada96a696969d3a6a2f4d0057d1cf9728/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352538382539372545352538372542412545372539422541452545352542442539352545362539362538372545342542422542362e706e67</a>)</p>
<p><code>ls -l</code>  可以查看文件夹下文件的详细信息，从左到右 依次是:</p>
<ul>
<li><strong>权限（A 区域）</strong>, 第一个字符如果是  <code>d</code>  表示目录</li>
<li><strong>硬链接数（B 区域）</strong>, 通俗的讲就是有多少种方式，可以访问当前目录和文件</li>
<li><strong>属主（C 区域）</strong>, 文件是所有者、或是叫做属主</li>
<li><strong>属组（D 区域）</strong>, 文件属于哪个组</li>
<li><strong>大小（E 区域）</strong>：文件大小</li>
<li><strong>时间（F 区域）</strong>：最后一次访问时间</li>
<li><strong>名称（G 区域）</strong>: 文件的名称</li>
</ul>
<h4 id="-98"><a class="markdownIt-Anchor" href="#-98">#</a> <a href="#%E6%9B%B4%E6%94%B9%E6%9D%83%E9%99%90"></a>更改权限</h4>
<h5 id="-99"><a class="markdownIt-Anchor" href="#-99">#</a> <a href="#%E6%9D%83%E9%99%90%E6%A6%82%E8%BF%B0"></a>权限概述</h5>
<p>Linux 文件属性有两种设置方法，一种是数字，一种是符号</p>
<p>Linux 的文件调用权限分为三级：文件属主、属组、其他，利用 chmod 可以控制文件如何被他人所调用。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">chmod</span> <span class="token punctuation">[</span>-cfvR<span class="token punctuation">]</span> <span class="token punctuation">[</span>--help<span class="token punctuation">]</span> <span class="token punctuation">[</span>--version<span class="token punctuation">]</span> mode file<span class="token punctuation">..</span>.
mode <span class="token builtin class-name">:</span> 权限设定字串,格式: <span class="token punctuation">[</span>ugoa<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">[</span>+-<span class="token operator">=</span><span class="token punctuation">]</span><span class="token punctuation">[</span>rwxX<span class="token punctuation">]</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">[</span>,<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>
<p>u 表示档案的拥有者，g 表示与该档案拥有者属于同一个 group 者，o 表示其他的人，a 表示这三者皆是。</p>
</li>
<li>
<p>+ 表示增加权限、- 表示取消权限、= 表示唯一设定权限。</p>
</li>
<li>
<p>r 表示可读取，w 表示可写入，x 表示可执行，X 表示只有该档案是个子目录或者该档案已经被设定过为可执行。</p>
</li>
</ul>
<h5 id="-100"><a class="markdownIt-Anchor" href="#-100">#</a> <a href="#%E6%95%B0%E5%AD%97%E6%9D%83%E9%99%90"></a>数字权限</h5>
<p>命令：chmod [-R] xyz 文件或目录</p>
<ul>
<li>xyz : 就是刚刚提到的数字类型的权限属性，为 rwx 属性数值的相加。</li>
<li>-R : 进行递归 (recursive) 的持续变更，亦即连同次目录下的所有文件都会变更</li>
</ul>
<p>文件的权限字符为：[-rwxrwxrwx]， 这九个权限是三三一组的，我们使用数字来代表各个权限。</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69d83e99990e695b0e5ad97e8a1a82e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/5d6f33d18432470d63ecdaa54e59228a6c55175e82856cd45b9bed0cd891e1f1/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69d83e99990e695b0e5ad97e8a1a82e706e67">https://camo.githubusercontent.com/5d6f33d18432470d63ecdaa54e59228a6c55175e82856cd45b9bed0cd891e1f1/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69d83e99990e695b0e5ad97e8a1a82e706e67</a>)</p>
<p>各权限的数字对照表：[r]:4; [w]:2; [x]:1; [-]:0</p>
<p>每种身份 (owner/group/others) 的三个权限 (r/w/x) 分数是需要累加的，例如权限为： [-rwxrwx—] 分数是：</p>
<ul>
<li>owner = rwx = 4+2+1 = 7</li>
<li>group = rwx = 4+2+1 = 7</li>
<li>others= — = 0+0+0 = 0</li>
</ul>
<p>表示为： <code>chmod -R 770 文件名</code></p>
<h5 id="-101"><a class="markdownIt-Anchor" href="#-101">#</a> <a href="#%E7%AC%A6%E5%8F%B7%E6%9D%83%E9%99%90"></a>符号权限</h5>
<p>[<img src="https://camo.githubusercontent.com/af2a9ef742468b8bb346ac8b0584fd05d1c2046cb7c1e21d586e7a0d0e03e588/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539442538332545392539392539302545372541432541362545352538462542372545382541312541382e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/af2a9ef742468b8bb346ac8b0584fd05d1c2046cb7c1e21d586e7a0d0e03e588/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539442538332545392539392539302545372541432541362545352538462542372545382541312541382e706e67">https://camo.githubusercontent.com/af2a9ef742468b8bb346ac8b0584fd05d1c2046cb7c1e21d586e7a0d0e03e588/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362539442538332545392539392539302545372541432541362545352538462542372545382541312541382e706e67</a>)</p>
<ul>
<li>user 属主权限</li>
<li>group 属组权限</li>
<li>others 其他权限</li>
<li>all 全部的身份</li>
</ul>
<p>我们就可以使用 <strong>u, g, o，a</strong> 来代表身份的权限！读写的权限可以写成 <strong>r, w, x</strong>。</p>
<p><code>chmod u=rwx,g=rx,o=r a.txt</code> ：将 as.txt 的权限设置为 **-rwxr-xr–**</p>
<p><code>chmod a-r a.txt</code> ：将文件的所有权限去除<strong> r</strong></p>
<h4 id="-102"><a class="markdownIt-Anchor" href="#-102">#</a> <a href="#%E6%9B%B4%E6%94%B9%E5%B1%9E%E7%BB%84"></a>更改属组</h4>
<p>chgrp 命令用于变更文件或目录的所属群组。</p>
<p>文件或目录权限的的拥有者由所属群组来管理。可以使用 chgrp 指令去变更文件与目录的所属群组。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">chgrp</span> <span class="token punctuation">[</span>-cfhRv<span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>--version<span class="token punctuation">]</span><span class="token punctuation">[</span>所属群组<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
<span class="token function">chgrp</span> <span class="token punctuation">[</span>-cfhRv<span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>--reference<span class="token operator">=</span><span class="token operator">&lt;</span>参考文件或目录<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>--version<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>chgrp -v root aaa：将文件 aaa 的属组更改成 root（其他也可以）</p>
<h4 id="-103"><a class="markdownIt-Anchor" href="#-103">#</a> <a href="#%E6%9B%B4%E6%94%B9%E5%B1%9E%E4%B8%BB"></a>更改属主</h4>
<p>利用 chown 可以将档案的拥有者加以改变。</p>
<p>使用权限：管理员账户</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">chown</span> <span class="token punctuation">[</span>–R<span class="token punctuation">]</span> 属主名 文件名
<span class="token function">chown</span> <span class="token punctuation">[</span>-R<span class="token punctuation">]</span> 属主名:属组名 文件名<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>chown root aaa：将文件 aaa 的属主更改成 root</p>
<p>chown seazean:seazean aaa：将文件 aaa 的属主和属组更改为 seazean</p>
<hr>
<h3 id="-104"><a class="markdownIt-Anchor" href="#-104">#</a> <a href="#%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C-2"></a>文件操作</h3>
<h4 id="-105"><a class="markdownIt-Anchor" href="#-105">#</a> <a href="#touch"></a>touch</h4>
<p>touch 命令用于创建文件、修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。ls -l 可以显示档案的时间记录</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">touch</span> <span class="token punctuation">[</span>-acfm<span class="token punctuation">]</span><span class="token punctuation">[</span>-d<span class="token operator">&lt;</span>日期时间<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-r<span class="token operator">&lt;</span>参考文件或目录<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-t<span class="token operator">&lt;</span>日期时间<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>--version<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录…<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-a 改变档案的读取时间记录。</li>
<li>-m 改变档案的修改时间记录。</li>
<li>-c 假如目的档案不存在，不会建立新的档案。与 --no-create 的效果一样。</li>
<li>-f 不使用，是为了与其他 unix 系统的相容性而保留。</li>
<li>-r 使用参考档的时间记录，与 --file 的效果一样。</li>
<li>-d 设定时间与日期，可以使用各种不同的格式。</li>
<li>-t 设定档案的时间记录，格式与 date 指令相同。</li>
<li>–no-create 不会建立新档案。</li>
<li>–help 列出指令格式。</li>
<li>–version 列出版本讯息。</li>
</ul>
<p><code>touch t.txt</code> ：创建 t.txt 文件</p>
<p><code>touch t&#123;1..10&#125;.txt</code> ：创建 10 个名为 t1.txt 到 t10.txt 的空文件</p>
<p><code>touch t.txt</code> ：更改 t.txt 的访问时间为现在</p>
<h4 id="-106"><a class="markdownIt-Anchor" href="#-106">#</a> <a href="#stat"></a>stat</h4>
<p>stat 命令用于显示 inode 内容。stat 以文字的格式来显示 inode 的内容。</p>
<p>命令：stat [文件或目录]</p>
<h4 id="-107"><a class="markdownIt-Anchor" href="#-107">#</a> <a href="#cat"></a>cat</h4>
<p>cat 是一个文本文件查看和连接工具。用于小文件</p>
<p>命令：cat [-AbeEnstTuv] [–help] [–version] Filename</p>
<ul>
<li>-n 显示文件加上行号</li>
<li>-b 和 -n 相似，只不过对于空白行不编号</li>
</ul>
<h4 id="-108"><a class="markdownIt-Anchor" href="#-108">#</a> <a href="#less"></a>less</h4>
<p>less 用于查看文件，但是 less 在查看之前不会加载整个文件。用于大文件</p>
<p>命令：less [options] Filename</p>
<ul>
<li>-N 显示每行行号</li>
</ul>
<h4 id="-109"><a class="markdownIt-Anchor" href="#-109">#</a> <a href="#tail"></a>tail</h4>
<p>tail 命令可用于查看文件的内容，有一个常用的参数 <strong>-f</strong> 常用于查阅正在改变的日志文件。</p>
<p>命令：tail [options] Filename</p>
<ul>
<li>-f 循环读取，动态显示文档的最后内容</li>
<li>-n (行数) 显示文件的尾部 n 行内容</li>
<li>-c (数目)&gt; 显示的字节数</li>
<li>-nf 查看最后几行日志信息</li>
</ul>
<p><code>tail -f filename</code> ：动态显示最尾部的内容</p>
<p><code>tail -n +2 txtfile.txt</code> ：显示文件 txtfile.txt 的内容，从第 2 行至文件末尾</p>
<p><code>tail -n 2 txtfile.txt</code> ：显示文件 txtfile.txt 的内容，最后 2 行</p>
<h4 id="-110"><a class="markdownIt-Anchor" href="#-110">#</a> <a href="#head"></a>head</h4>
<p>head 命令可用于查看文件的开头部分的内容，有一个常用的参数 <strong>-n</strong> 用于显示行数，默认为 10</p>
<ul>
<li>-q 隐藏文件名</li>
<li>-v 显示文件名</li>
<li>-c &lt;数目&gt; 显示的字节数。</li>
<li>-n &lt;行数&gt; 显示的行数。</li>
</ul>
<p><code>head -n Filename</code> ：查看文件的前一部分</p>
<p><code>head -n 20 Filename</code> ：查看文件的前 20 行</p>
<h4 id="-111"><a class="markdownIt-Anchor" href="#-111">#</a> <a href="#grep"></a>grep</h4>
<p>grep 指令用于查找内容包含指定的范本样式的文件，若不指定任何文件名称，或是所给予的文件名为 -，则 grep 指令会从标准输入设备读取数据。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">grep</span> <span class="token punctuation">[</span>-abcEFGhHilLnqrsvVwxy<span class="token punctuation">]</span><span class="token punctuation">[</span>-A<span class="token operator">&lt;</span>显示列数<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-B<span class="token operator">&lt;</span>显示列数<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-C<span class="token operator">&lt;</span>显示列数<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-d<span class="token operator">&lt;</span>进行动作<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-e<span class="token operator">&lt;</span>范本样式<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-f<span class="token operator">&lt;</span>范本文件<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>范本样式<span class="token punctuation">]</span><span class="token punctuation">[</span>文件或目录<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-c：只输出匹配行的计数</li>
<li>-i：不区分大小写</li>
<li>-h：查询多文件时不显示文件名</li>
<li>-l：查询多文件时只输出包含匹配字符的文件名</li>
<li>-n：显示匹配行及行号</li>
<li>-s：不显示不存在或无匹配文本的错误信息</li>
<li>-v：显示不包含匹配文本的所有行</li>
<li>–color=auto ：可以将找到的关键词部分加上颜色的显示</li>
</ul>
<p><strong>管道符 |</strong>：表示将前一个命令处理的结果传递给后面的命令处理。</p>
<p><code>grep aaaa Filename</code>  ：显示存在关键字 aaaa 的行</p>
<p><code>grep -n aaaa Filename</code> ：显示存在关键字 aaaa 的行，且显示行号</p>
<p><code>grep -i aaaa Filename</code> ：忽略大小写，显示存在关键字 aaaa 的行</p>
<p><code>grep -v aaaa Filename</code> ：显示存在关键字 aaaa 的所有行</p>
<p><code>ps -ef | grep sshd</code> ：查找包含 sshd 进程的进程信息</p>
<p><code>ps -ef | grep -c sshd</code> ：查找 sshd 相关的进程个数</p>
<h4 id="-112"><a class="markdownIt-Anchor" href="#-112">#</a> <a href="#echo"></a>echo</h4>
<p>将字符串输出到控制台，通常和 <strong>重定向</strong> 联合使用</p>
<p>命令：echo string # 如果字符串有空格，为了避免歧义 请增加 双引号 或者 单引号</p>
<ul>
<li>通过  <code>命令 &gt; 文件</code>  将<strong>命令的成功结果</strong> <strong>覆盖</strong> 指定文件内容</li>
<li>通过  <code>命令 &gt;&gt; 文件</code>  将<strong>命令的成功结果</strong> <strong>追加</strong> 指定文件的后面</li>
<li>通过  <code>命令 &amp;&gt;&gt; 文件</code>  将 <strong>命令的失败结果</strong> <strong>追加</strong> 指定文件的后面</li>
</ul>
<p><code>echo &quot;程序员&quot; &gt;&gt; a.txt</code> ：将程序员追加到 a.txt 后面</p>
<p><code>cat 不存在的目录 &amp;&gt;&gt; error.log</code> ：将错误信息追加到 error.log 文件</p>
<h4 id="-113"><a class="markdownIt-Anchor" href="#-113">#</a> <a href="#awk"></a>awk</h4>
<p>AWK 是一种处理文本文件的语言，是一个强大的文本分析工具。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">awk</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token string">'script'</span> <span class="token assign-left variable">var</span><span class="token operator">=</span>value file<span class="token punctuation">(</span>s<span class="token punctuation">)</span>
<span class="token function">awk</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> -f scriptfile <span class="token assign-left variable">var</span><span class="token operator">=</span>value file<span class="token punctuation">(</span>s<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<ul>
<li>
<p>-F fs：指定输入文件折分隔符，fs 是一个字符串或者是一个正则表达式</p>
</li>
<li>
<p>-v：var=value 赋值一个用户定义变量</p>
</li>
<li>
<p>-f：从脚本文件中读取 awk 命令</p>
</li>
<li>
<p>$n (数字)：获取<strong>第几段</strong>内容</p>
</li>
<li>
<p>$0：获取<strong>当前行</strong> 内容</p>
</li>
<li>
<p>NF：表示当前行共有多少个字段</p>
</li>
<li>
<p>$NF：代表最后一个字段</p>
</li>
<li>
<p>$(NF-1)：代表倒数第二个字段</p>
</li>
<li>
<p>NR：代表处理的是第几行</p>
</li>
<li>
<figure class="highlight shell"><figcaption data-lang="Bash"></figcaption><table><tr><td data-num="1"></td><td><pre>命令：awk <span class="token string">'BEGIN&#123;初始化操作&#125;&#123;每行都执行&#125; END&#123;结束时操作&#125;'</span>   </pre></td></tr><tr><td data-num="2"></td><td><pre>文件名BEGIN<span class="token punctuation">&#123;</span> 这里面放的是执行前的语句 <span class="token punctuation">&#125;</span><span class="token punctuation">&#123;</span>这里面放的是处理每一行时要执行的语句<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>END <span class="token punctuation">&#123;</span>这里面放的是处理完所有的行后要执行的语句 <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">!</span>--code￼10--<span class="token operator">></span></pre></td></tr></table></figure></li>
</ul>
<p>// 准备数据<br>
 zhangsan 68 99 26<br>
lisi 98 66 96<br>
wangwu 38 33 86<br>
zhaoliu 78 44 36<br>
maq 88 22 66<br>
zhouba 98 44 46</p>
<pre class="line-numbers language-none"><code class="language-none">
*   &#96;cat a.txt | awk &#39;&#x2F;zhang|li&#x2F;&#39;&#96;：搜索含有 zhang 和 li 的学生成绩

*   &#96;awk &quot;&#x2F;zhang|li&#x2F;&quot; a.txt&#96; ：同上一个命令，效果一样
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre><code>zhangsan 68 99 26
lisi 98 66 96
zhaoliu 78 44 36

<pre class="line-numbers language-none"><code class="language-none">
*   &#96;cat a.txt | awk -F &#39; &#39; &#39;&#123;print $1,$2,$3&#125;&#39;&#96;：按照空格分割, 打印 一二三列 内容

*   &#96;awk -F &#39; &#39; &#39;&#123;OFS&#x3D;&quot;\t&quot;&#125;&#123;print $1,$2,$3&#125;&#39;&#96;：按照制表符tab 进行分割, 打印一二三列 \\b：退格 \\f：换页 \\n：换行 \\r：回车 \\t：制表符
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
zhangsan	68	99
lisi	98	66
wangwu	38	33
zhaoliu	78	44
maq	88	22
zhouba	98	44

<pre class="line-numbers language-none"><code class="language-none">
*   &#96;awk -F &#39;,&#39; &#39;&#123;print toupper($1)&#125;&#39; a.txt&#96;：根据逗号分割, 打印内容，第一段大写

	| 函数名    | 含义   | 作用           |
	| --------- | ------ | -------------- |
	| toupper() | upper  | 字符 转成 大写 |
	| tolower() | lower  | 字符 转成小写  |
	| length()  | length | 返回 字符长度  |

*   &#96;awk -F &#39; &#39; &#39;BEGIN&#123;&#125;&#123;total&#x3D;total+$4&#125; END&#123;print total&#125;&#39; a.txt&#96;：计算的是第4列的总分

*   &#96;awk -F &#39; &#39; &#39;BEGIN&#123;&#125;&#123;total&#x3D;total+$4&#125; END&#123;print total, NR&#125;&#39; a.txt&#96; ：查看总分, 总人数

*   &#96;awk -F &#39; &#39; &#39;BEGIN&#123;&#125;&#123;total&#x3D;total+$4&#125; END&#123;print total, NR, (total&#x2F;NR)&#125;&#39; a.txt&#96;：查看总分, 总人数，平均数

*   &#96;cat a.txt | awk -F &#39; &#39; &#39;BEGIN&#123;&#125;&#123;total&#x3D;total+$4&#125; END&#123;print total&#125;&#39;&#96; ：可以这样写

#### [](#find)find

find 命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为查找的目录名。如果使用该命令不设置任何参数，将在当前目录下查找子目录与文件，并且将查找到的子目录和文件全部进行显示

命令：find &lt;指定目录&gt; &lt;指定条件&gt; &lt;指定内容&gt;

*   &#96;find . -name &quot;*.gz&quot;&#96;：将目前目录及其子目录下所有延伸档名是 gz 的文件查询出来
*   &#96;find . -ctime -1&#96;：将目前目录及其子目录下所有最近 1 天内更新过的文件查询出来
*   &#96;find &#x2F; -name &#39;seazean&#39;&#96;：全局搜索 seazean

#### [](#read)read

read 命令用于从标准输入读取数值。

read 内部命令被用来从标准输入读取单行数据。这个命令可以用来读取键盘输入，当使用重定向的时候，可以读取文件中的一行数据。

&#96;&#96;&#96;shell
read [-ers] [-a aname] [-d delim] [-i text] [-n nchars] [-N nchars] [-p prompt] [-t timeout] [-u fd] [name ...]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</code></pre>
<h4 id="-114"><a class="markdownIt-Anchor" href="#-114">#</a> <a href="#sort"></a>sort</h4>
<p>Linux sort 命令用于将文本文件内容加以排序</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sort</span> <span class="token punctuation">[</span>-bcdfimMnr<span class="token punctuation">]</span><span class="token punctuation">[</span>文件<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-n 依照数值的大小排序</li>
<li>-r 以相反的顺序来排序（sort 默认的排序方式是<strong>升序</strong>，改成降序，加 -r）</li>
<li>-u 去掉重复</li>
</ul>
<p>面试题：一列数字，输出最大的 4 个不重复的数</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sort</span> -ur a.txt <span class="token operator">|</span> <span class="token function">head</span> -n <span class="token number">4</span>
<span class="token function">sort</span> -r a.txt <span class="token operator">|</span> <span class="token function">uniq</span> <span class="token operator">|</span>  <span class="token function">head</span> -n <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="-115"><a class="markdownIt-Anchor" href="#-115">#</a> <a href="#uniq"></a>uniq</h4>
<p>uniq 用于重复数据处理，使用前先 sort 排序</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">uniq</span> <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>INPUT <span class="token punctuation">[</span>OUTPUT<span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-c 在数据行前出现的次数</li>
<li>-d 只打印重复的行，重复的行只显示一次</li>
<li>-D 只打印重复的行，重复的行出现多少次就显示多少次</li>
<li>-f 忽略行首的几个字段</li>
<li>-i 忽略大小写</li>
<li>-s 忽略行首的几个字母</li>
<li>-u 只打印唯一的行</li>
<li>-w 比较不超过 n 个字母</li>
</ul>
<hr>
<h3 id="-116"><a class="markdownIt-Anchor" href="#-116">#</a> <a href="#%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9"></a>文件压缩</h3>
<h4 id="-117"><a class="markdownIt-Anchor" href="#-117">#</a> <a href="#tar"></a>tar</h4>
<p>tar 的主要功能是打包、压缩和解压文件，tar 本身不具有压缩功能，是调用压缩功能实现的。</p>
<p>命令：tar [必要参数] [选择参数] [文件]</p>
<ul>
<li>-c 产生.tar 文件</li>
<li>-v 显示详细信息</li>
<li>-z 打包同时压缩</li>
<li>-f 指定压缩后的文件名</li>
<li>-x 解压.tar 文件</li>
<li>-t 列出 tar 文件中包含的文件的信息</li>
<li>-r 附加新的文件到 tar 文件中</li>
</ul>
<p><code>tar -cvf txt.tar txtfile.txt</code>  ：将 txtfile.txt 文件打包（仅打包，不压缩）</p>
<p><code>tar -zcvf combine.tar.gz 1.txt 2.txt 3.txt</code> ：将 123.txt 文件打包压缩（gzip）</p>
<p><code>tar -ztvf txt.tar.gz</code> ：查看 tar 中有哪些文件</p>
<p><code>tar -zxvf Filename -C 目标路径</code> ：<strong>解压</strong></p>
<blockquote>
<p>参数 f 之后的文件档名是自己取的，习惯上都用 .tar 来作为辨识。 如果加 z 参数，则以 .tar.gz 或 .tgz 来代表 gzip 压缩过的 tar 包</p>
</blockquote>
<h4 id="-118"><a class="markdownIt-Anchor" href="#-118">#</a> <a href="#gzip"></a>gzip</h4>
<p>gzip 命令用于压缩文件。</p>
<p>gzip 是个使用广泛的压缩程序，文件经它压缩过后，其名称后面会多出 &quot;.gz&quot; 的扩展名</p>
<ul>
<li>gzip * ：压缩目录下的所有文件，删除源文件。不支持直接压缩目录</li>
<li>gzip -rv 目录名：递归压缩目录</li>
<li>gzip -dv *：解压文件并列出详细信息</li>
</ul>
<h4 id="-119"><a class="markdownIt-Anchor" href="#-119">#</a> <a href="#gunzip"></a>gunzip</h4>
<p>gunzip 命令用于解压文件。用于解开被 gzip 压缩过的文件</p>
<p>命令：gunzip [options] [文件或者目录]</p>
<p>gunzip 001.gz ：解压 001.gz 文件</p>
<h4 id="-120"><a class="markdownIt-Anchor" href="#-120">#</a> <a href="#zip"></a>zip</h4>
<p>zip 命令用于压缩文件。</p>
<p>zip 是个使用广泛的压缩程序，文件经它压缩后会另外产生具有 &quot;.zip&quot; 扩展名的压缩文件。</p>
<p>命令：zip [必要参数] [选择参数] [文件]</p>
<ul>
<li>-q 不显示指令执行过程</li>
<li>-r 递归处理，将指定目录下的所有文件和子目录一并处理</li>
</ul>
<p><code>zip -q -r z.zip *</code> ：将该目录的文件全部压缩</p>
<h4 id="-121"><a class="markdownIt-Anchor" href="#-121">#</a> <a href="#unzip"></a>unzip</h4>
<p>unzip 命令用于解压缩 zip 文件，unzip 为.zip 压缩文件的解压缩程序</p>
<p>命令：unzip [必要参数] [选择参数] [文件]</p>
<ul>
<li>
<p>-l 查看压缩文件内所包含的文件</p>
</li>
<li>
<p>-d &lt;目录&gt; 指定文件解压缩后所要存储的目录。</p>
</li>
</ul>
<p><code>unzip -l z.zip</code>  ：查看压缩文件中包含的文件</p>
<p><code>unzip -d ./unFiles z.zip</code> ：把文件解压到指定的目录下</p>
<h4 id="-122"><a class="markdownIt-Anchor" href="#-122">#</a> <a href="#bzip2"></a>bzip2</h4>
<p>bzip2 命令是.bz2 文件的压缩程序。</p>
<p>bzip2 采用新的压缩演算法，压缩效果比传统的 LZ77/LZ78 压缩演算法来得好。若没有加上任何参数，bzip2 压缩完文件后会产生.bz2 的压缩文件，并删除原始的文件。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">bzip2</span> <span class="token punctuation">[</span>-cdfhkLstvVz<span class="token punctuation">]</span><span class="token punctuation">[</span>--repetitive-best<span class="token punctuation">]</span><span class="token punctuation">[</span>--repetitive-fast<span class="token punctuation">]</span><span class="token punctuation">[</span>- 压缩等级<span class="token punctuation">]</span><span class="token punctuation">[</span>要压缩的文件<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>压缩：bzip2 a.txt</p>
<h4 id="-123"><a class="markdownIt-Anchor" href="#-123">#</a> <a href="#bunzip2"></a>bunzip2</h4>
<p>bunzip2 命令是.bz2 文件的解压缩程序。</p>
<p>命令：bunzip2 [-fkLsvV] [.bz2 压缩文件]</p>
<ul>
<li>-v　解压缩文件时，显示详细的信息。</li>
</ul>
<p>解压：bunzip2 -v a.bz2</p>
<hr>
<h3 id="-124"><a class="markdownIt-Anchor" href="#-124">#</a> <a href="#%E6%96%87%E4%BB%B6%E7%BC%96%E8%BE%91"></a>文件编辑</h3>
<h4 id="-125"><a class="markdownIt-Anchor" href="#-125">#</a> <a href="#vim"></a>Vim</h4>
<p><strong>vim</strong>: 是从 vi （系统内置命令）发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。</p>
<p>简单的来说， vi 是老式的字处理器，不过功能已经很齐全了，但是还是有可以进步的地方。</p>
<p><strong>命令模式</strong>：在 Linux 终端中输入 “vim 文件名” 就进入了命令模式，但不能输入文字。 ** 编辑模式：** 在命令模式下按 i 就会进入编辑模式，此时就可以写入程式，按 Esc 可回到命令模式。 ** 末行模式：** 在命令模式下按：进入末行模式，左下角会有一个冒号出现，此时可以敲入命令并执行</p>
<h4 id="-126"><a class="markdownIt-Anchor" href="#-126">#</a> <a href="#%E6%89%93%E5%BC%80%E6%96%87%E4%BB%B6"></a>打开文件</h4>
<p>Ubuntu 默认没有安装 vim，需要先安装 vim，安装命令：<strong>sudo apt-get install vim</strong></p>
<p>Vim 有三种模式：命令模式（Command mode）、插入模式（Insert mode）、末行模式（Last Line mode）</p>
<table>
<thead>
<tr>
<th style="text-align:center">Vim 使用的选项</th>
<th style="text-align:center">说明</th>
<th style="text-align:center">常用</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">vim filename</td>
<td style="text-align:center">打开或新建一个文件，将光标置于第一行首部</td>
<td style="text-align:center">常用</td>
</tr>
<tr>
<td style="text-align:center">vim -r filename</td>
<td style="text-align:center">恢复上次 vim 打开时崩溃的文件</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">vim -R filename</td>
<td style="text-align:center">把指定的文件以只读的方式放入 Vim 编辑器</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">vim + filename</td>
<td style="text-align:center">打开文件，将光标置于最后一行的首部</td>
<td style="text-align:center">常用</td>
</tr>
<tr>
<td style="text-align:center">vim +n filename</td>
<td style="text-align:center">打开文件，将光标置于 n 行的首部</td>
<td style="text-align:center">常用</td>
</tr>
<tr>
<td style="text-align:center">vim +/pattern filename</td>
<td style="text-align:center">打开文件，将光标置于第一个与 pattern 匹配的位置</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">vim -c command filename</td>
<td style="text-align:center">对文件编辑前，先执行指定的命令</td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
<hr>
<h4 id="-127"><a class="markdownIt-Anchor" href="#-127">#</a> <a href="#%E6%8F%92%E5%85%A5%E6%A8%A1%E5%BC%8F"></a>插入模式</h4>
<p>在命令模式下，通过按下 i、I、a、A、o、O 这 6 个字母进入插入模式</p>
<table>
<thead>
<tr>
<th style="text-align:center">快捷键</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">i</td>
<td style="text-align:center">在光标所在位置插入文本，光标后的文本向右移动</td>
</tr>
<tr>
<td style="text-align:center">I</td>
<td style="text-align:center">在光标所在行的行首插入文本，行首是该行的第一个非空白字符</td>
</tr>
<tr>
<td style="text-align:center">o</td>
<td style="text-align:center">在光标所在行的下面插入新的一行，光标停在空行首</td>
</tr>
<tr>
<td style="text-align:center">O</td>
<td style="text-align:center">在光标所在行的上面插入新的一行，光标停在空行首</td>
</tr>
<tr>
<td style="text-align:center">a</td>
<td style="text-align:center">在光标所在位置之后插入文本</td>
</tr>
<tr>
<td style="text-align:center">A</td>
<td style="text-align:center">在光标所在行的行尾插入文本</td>
</tr>
</tbody>
</table>
<p>按下 ESC 键，离开插入模式，进入命令模式</p>
<p>因为我们是一个空文件，所以使用【I】或者【i】都可以</p>
<p>如果里面的文本很多，要使用【A】进入编辑模式，即在行末添加文本</p>
<hr>
<h4 id="-128"><a class="markdownIt-Anchor" href="#-128">#</a> <a href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"></a>命令模式</h4>
<p>Vim 打开一个文件（文件可以存在，也可以不存在），默认就是进入命令模式。在该模式下， 输入的字符会被当做指令，而不会被当做要输入的文字。在该模式下，可以使用指令进行跳至文章开头、文章结尾、删除某行、复制、粘贴等内容。</p>
<h5 id="-129"><a class="markdownIt-Anchor" href="#-129">#</a> <a href="#%E7%A7%BB%E5%8A%A8%E5%85%89%E6%A0%87"></a>移动光标</h5>
<table>
<thead>
<tr>
<th style="text-align:center">快捷键</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">w</td>
<td style="text-align:center">光标移动至下一个单词的单词首</td>
</tr>
<tr>
<td style="text-align:center">b</td>
<td style="text-align:center">光标移动至上一个单词的单词首</td>
</tr>
<tr>
<td style="text-align:center">e</td>
<td style="text-align:center">光标移动至下一个单词的单词尾</td>
</tr>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">光标移动至当前行的行首</td>
</tr>
<tr>
<td style="text-align:center">^</td>
<td style="text-align:center">行首，第一个不是空白字符的位置</td>
</tr>
<tr>
<td style="text-align:center">$</td>
<td style="text-align:center">光标移动至当前行的行尾</td>
</tr>
<tr>
<td style="text-align:center">gg</td>
<td style="text-align:center">光标移动至文件开头</td>
</tr>
<tr>
<td style="text-align:center">G</td>
<td style="text-align:center">光标移动至文件末尾</td>
</tr>
<tr>
<td style="text-align:center">ngg</td>
<td style="text-align:center">光标移动至第 n 行</td>
</tr>
<tr>
<td style="text-align:center">nG</td>
<td style="text-align:center">光标移动至第 n 行</td>
</tr>
<tr>
<td style="text-align:center">:n</td>
<td style="text-align:center">光标移动至第 n 行</td>
</tr>
</tbody>
</table>
<hr>
<h5 id="-130"><a class="markdownIt-Anchor" href="#-130">#</a> <a href="#%E9%80%89%E4%B8%AD%E6%96%87%E6%9C%AC"></a>选中文本</h5>
<p>在 vi/vim 中要选择文本，需要显示 visual 命令切换到 <strong>可视模式</strong></p>
<p>vi/vim 中提供了 <strong>三种</strong> 可视模式，可以方便程序员的选择 <strong>选中文本的方式</strong></p>
<p>按 ESC 可以放弃选中，返回到 <strong>命令模式</strong></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>模式</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>v</td>
<td>可视模式</td>
<td>从光标位置开始按照正常模式选择文本</td>
</tr>
<tr>
<td>V</td>
<td>可视化模式</td>
<td>选中光标经过的完整行</td>
</tr>
<tr>
<td>Ctrl + v</td>
<td>可是块模式</td>
<td>垂直方向选中文本</td>
</tr>
</tbody>
</table>
<h5 id="-131"><a class="markdownIt-Anchor" href="#-131">#</a> <a href="#%E6%92%A4%E9%94%80%E5%88%A0%E9%99%A4"></a>撤销删除</h5>
<p>在学习编辑命令之前，先要知道怎样撤销之前一次 错误的 编辑操作</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>英文</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>u</td>
<td>undo</td>
<td>撤销上次的命令 (ctrl + z)</td>
</tr>
<tr>
<td>Ctrl + r</td>
<td>uredo</td>
<td>恢复撤销的命令</td>
</tr>
</tbody>
</table>
<p>删除的内容此时并没有真正的被删除，在剪切板中，按下 p 键，可以将删除的内容粘贴回来</p>
<table>
<thead>
<tr>
<th style="text-align:center">快捷键</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">x</td>
<td style="text-align:center">删除光标所在位置的字符</td>
</tr>
<tr>
<td style="text-align:center">d (移动命令)</td>
<td style="text-align:center">删除移动命令对应的内容</td>
</tr>
<tr>
<td style="text-align:center">dd</td>
<td style="text-align:center">删除光标所在行的内容</td>
</tr>
<tr>
<td style="text-align:center">D</td>
<td style="text-align:center">删除光标位置到行尾的内容</td>
</tr>
<tr>
<td style="text-align:center">:n1,n2</td>
<td style="text-align:center">删除从 a1 到 a2 行的文本内容</td>
</tr>
</tbody>
</table>
<p><strong>删除命令可以和移动命令连用，以下是常见的组合命令 (扩展):</strong></p>
<table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>dw</td>
<td>删除从光标位置到单词末尾</td>
</tr>
<tr>
<td>d}</td>
<td>删除从光标位置到段落末尾</td>
</tr>
<tr>
<td>dG</td>
<td>删除光标所行到文件末尾的所有内容</td>
</tr>
<tr>
<td>ndd</td>
<td>删除当前行（包括此行）到后 n 行内容</td>
</tr>
</tbody>
</table>
<hr>
<h5 id="-132"><a class="markdownIt-Anchor" href="#-132">#</a> <a href="#%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4"></a>复制粘贴</h5>
<p>vim 中提供有一个 被复制文本的缓冲区</p>
<ul>
<li>复制 命令会将选中的文字保存在缓冲区</li>
<li>删除 命令删除的文字会被保存在缓冲区</li>
<li>在需要的位置，使用 粘贴 命令可以将缓冲对的文字插入到光标所在的位置</li>
<li>vim 中的文本缓冲区只有一个，如果后续做过 复制、剪切操作，之前缓冲区中的内容会被替换.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">快捷键</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">y</td>
<td style="text-align:center">复制已选中的文本到剪切板</td>
</tr>
<tr>
<td style="text-align:center">yy</td>
<td style="text-align:center">将光标所在行复制到剪切板</td>
</tr>
<tr>
<td style="text-align:center">nyy</td>
<td style="text-align:center">复制从光标所在行到向下 n 行</td>
</tr>
<tr>
<td style="text-align:center">p</td>
<td style="text-align:center">将剪切板中的内容粘贴到光标后</td>
</tr>
<tr>
<td style="text-align:center">P (大写)</td>
<td style="text-align:center">将剪切板中的内容粘贴到光标前</td>
</tr>
</tbody>
</table>
<p>注意：vi 中的 <strong>文本缓冲区</strong>和系统的<strong>剪切板</strong>不是同一个，在其他软件中使用 Ctrl + C 复制的内容，不能在 vim 中通过  <code>p</code>  命令粘贴，可以在 <strong>编辑模式</strong> 下使用 <strong>鼠标右键粘贴</strong>。</p>
<hr>
<h5 id="-133"><a class="markdownIt-Anchor" href="#-133">#</a> <a href="#%E6%9F%A5%E6%89%BE%E6%9B%BF%E6%8D%A2"></a>查找替换</h5>
<p>查找</p>
<table>
<thead>
<tr>
<th style="text-align:center">快捷键</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">/abc</td>
<td style="text-align:center">从光标所在位置向后查找字符串 abc</td>
</tr>
<tr>
<td style="text-align:center">/^abc</td>
<td style="text-align:center">查找以 abc 为行首的行</td>
</tr>
<tr>
<td style="text-align:center">/abc$</td>
<td style="text-align:center">查找以 abc 为行尾的行</td>
</tr>
<tr>
<td style="text-align:center">?abc</td>
<td style="text-align:center">从光标所在位置向前查找字符串 abc</td>
</tr>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">向后查找当前光标所在单词</td>
</tr>
<tr>
<td style="text-align:center">#</td>
<td style="text-align:center">向前查找当前光标所在单词</td>
</tr>
<tr>
<td style="text-align:center">n</td>
<td style="text-align:center">查找下一个，向同一方向重复上次的查找指令</td>
</tr>
<tr>
<td style="text-align:center">N</td>
<td style="text-align:center">查找上一个，向相反方向重复上次的查找指令</td>
</tr>
</tbody>
</table>
<p>替换：</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
<th>工作模式</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>替换当前字符</td>
<td>命令模式</td>
</tr>
<tr>
<td>R</td>
<td>替换当前行光标后的字符</td>
<td>替换模式</td>
</tr>
</tbody>
</table>
<ul>
<li>光标选中要替换的字符</li>
<li><code>R</code>  命令可以进入 <strong>替换模式</strong>，替换完成后，按下 ESC, 按下 ESC 可以回到 <strong>命令模式</strong></li>
<li><strong>替换命令</strong> 的作用就是不用进入 <strong>编辑模式</strong>，对文件进行 <strong>轻量级的修改</strong></li>
</ul>
<hr>
<h4 id="-134"><a class="markdownIt-Anchor" href="#-134">#</a> <a href="#%E6%9C%AB%E8%A1%8C%E6%A8%A1%E5%BC%8F"></a>末行模式</h4>
<p>在命令模式下，按下：键进入末行模式</p>
<table>
<thead>
<tr>
<th style="text-align:center">命令</th>
<th style="text-align:center">功能描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">:wq</td>
<td style="text-align:center">保存并退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:wq!</td>
<td style="text-align:center">保存并强制退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:q</td>
<td style="text-align:center">不保存且退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:q!</td>
<td style="text-align:center">不保存且强制退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:w</td>
<td style="text-align:center">保存但是不退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:w!</td>
<td style="text-align:center">强制保存但是不退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:w filename</td>
<td style="text-align:center">另存到 filename 文件</td>
</tr>
<tr>
<td style="text-align:center">x!</td>
<td style="text-align:center">保存文本，退出保存但是不退出 Vim 编辑器，更通用的命令</td>
</tr>
<tr>
<td style="text-align:center">ZZ</td>
<td style="text-align:center">直接退出保存但是不退出 Vim 编辑器</td>
</tr>
<tr>
<td style="text-align:center">:n</td>
<td style="text-align:center">光标移动至第 n 行行首</td>
</tr>
</tbody>
</table>
<h4 id="-135"><a class="markdownIt-Anchor" href="#-135">#</a> <a href="#%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86"></a>异常处理</h4>
<ul>
<li>
<p>如果 vim 异常退出，在磁盘上可能会保存有 交换文件</p>
</li>
<li>
<p>下次再使用 vim 编辑文件时，会看到以下屏幕信息，</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f76696d2545352542432538322545352542382542382e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/282431e2afc4979f3c4bd3c41de0e4c7c40678fb437b3fa83b799f76fde4162c/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f76696d2545352542432538322545352542382542382e706e67">https://camo.githubusercontent.com/282431e2afc4979f3c4bd3c41de0e4c7c40678fb437b3fa83b799f76fde4162c/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f76696d2545352542432538322545352542382542382e706e67</a>)</p>
</li>
<li>
<p>ls -a 一下，会看到隐藏的.swp 文件 删除了此文件即可。</p>
</li>
</ul>
<hr>
<h3 id="-136"><a class="markdownIt-Anchor" href="#-136">#</a> <a href="#%E9%93%BE%E6%8E%A5"></a>链接</h3>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ln</span> <span class="token punctuation">[</span>-sf<span class="token punctuation">]</span> source_filename dist_filename<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-s：默认是实体链接，加 -s 为符号链接</li>
<li>-f：如果目标文件存在时，先删除目标文件</li>
</ul>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69687e4bbb6e993bee68ea52e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/a97033ee57140e1d3eedeca9d9d78b79a97cf25ce3fee44e412474e0fba3b0c7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69687e4bbb6e993bee68ea52e706e67">https://camo.githubusercontent.com/a97033ee57140e1d3eedeca9d9d78b79a97cf25ce3fee44e412474e0fba3b0c7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe69687e4bbb6e993bee68ea52e706e67</a>)</p>
<p><strong>实体链接</strong>：</p>
<ul>
<li>在目录下创建一个条目，记录着文件名与 inode 编号，这个 inode 就是源文件的 inode</li>
<li>删除任意一个条目，文件还是存在，只要引用数量不为 0</li>
<li>不能跨越文件系统、不能对目录进行链接</li>
</ul>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ln</span> /etc/crontab <span class="token builtin class-name">.</span>
ll
<span class="token number">34474855</span> -rw-r--r--. <span class="token number">2</span> root root <span class="token number">451</span> Jun <span class="token number">10</span> <span class="token number">2014</span> <span class="token function">crontab</span>
<span class="token number">34474855</span> -rw-r--r--. <span class="token number">2</span> root root <span class="token number">451</span> Jun <span class="token number">10</span> <span class="token number">2014</span> /etc/crontab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>符号链接</strong>：</p>
<ul>
<li>
<p>符号链接文件保存着源文件所在的绝对路径，在读取时会定位到源文件上，可以理解为 Windows 的快捷方式</p>
</li>
<li>
<p>当源文件被删除了，链接文件就打不开了</p>
</li>
<li>
<p>记录的是路径，所以可以为目录建立符号链接</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token number">34474855</span> -rw-r--r--. <span class="token number">2</span> root root <span class="token number">451</span> Jun <span class="token number">10</span> <span class="token number">2014</span> /etc/crontab
<span class="token number">53745909</span> lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">12</span> Jun <span class="token number">23</span> <span class="token number">22</span>:31 /root/crontab2 -<span class="token operator">></span> /etc/crontab<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<h2 id="-137"><a class="markdownIt-Anchor" href="#-137">#</a> <a href="#%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86"></a>进程管理</h2>
<h3 id="-138"><a class="markdownIt-Anchor" href="#-138">#</a> <a href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B"></a>查看进程</h3>
<p>ps 指令：查看某个时间点的进程信息</p>
<p>top 指令：实时显示进程信息</p>
<p>pstree：查看进程树</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">pstree -A	<span class="token comment">#查看所有进程树</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<hr>
<h3 id="-139"><a class="markdownIt-Anchor" href="#-139">#</a> <a href="#%E8%BF%9B%E7%A8%8Bid"></a>进程 ID</h3>
<p>进程号：</p>
<ul>
<li>
<p>进程号为 0 的进程通常是调度进程，常常被称为交换进程（swapper），该进程是内核的一部分，它并不执行任何磁盘上的程序，因此也被称为系统进程</p>
</li>
<li>
<p>进程号为 1 是 init 进程，是一个守护进程，在自举过程结束时由内核调用，init 进程绝不会终止，是一个普通的用户进程，但是它以超级用户特权运行</p>
</li>
</ul>
<p>父进程 ID 为 0 的进程通常是内核进程，它们作为系统自举过程的一部分而启动，init 进程是个例外，它的父进程是 0，但它是用户进程</p>
<p>主存 = RAM + BIOS 部分的 ROM</p>
<p>自举程序存储在内存中 ROM（BIOS 芯片），用来加载操作系统。CPU 的程序计数器指向 ROM 中自举程序第一条指令，当计算机<strong>通电</strong>，CPU 开始读取并执行自举程序，将操作系统（不是全部，只是启动计算机的那部分程序）装入 RAM 中，这个过程是自举过程。装入完成后 CPU 的程序计数器就被设置为 RAM 中操作系统的第一条指令所对应的位置，接下来 CPU 将开始执行操作系统的指令</p>
<p>存储在 ROM 中保留很小的自举装入程序，完整功能的自举程序保存在磁盘的启动块上，启动块位于磁盘的固定位，拥有启动分区的磁盘称为启动磁盘或系统磁盘（C 盘）</p>
<hr>
<h3 id="-140"><a class="markdownIt-Anchor" href="#-140">#</a> <a href="#%E8%BF%9B%E7%A8%8B%E7%8A%B6%E6%80%81"></a>进程状态</h3>
<table>
<thead>
<tr>
<th>状态</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>R</td>
<td>running or runnable (on run queue) 正在执行或者可执行，此时进程位于执行队列中</td>
</tr>
<tr>
<td>D</td>
<td>uninterruptible sleep (usually I/O) 不可中断阻塞，通常为 IO 阻塞</td>
</tr>
<tr>
<td>S</td>
<td>interruptible sleep (waiting for an event to complete) 可中断阻塞，此时进程正在等待某个事件完成</td>
</tr>
<tr>
<td>Z</td>
<td>zombie (terminated but not reaped by its parent) 僵死，进程已经终止但是尚未被其父进程获取信息</td>
</tr>
<tr>
<td>T</td>
<td>stopped (either by a job control signal or because it is being traced) 结束，进程既可以被作业控制信号结束，也可能是正在被追踪</td>
</tr>
</tbody>
</table>
<p>孤儿进程：</p>
<ul>
<li>
<p>一个父进程退出，而它的一个或多个子进程还在运行，那么这些子进程将成为孤儿进程</p>
</li>
<li>
<p>孤儿进程将被 init 进程所收养，并由 init 进程对它们完成状态收集工作</p>
</li>
<li>
<p>孤儿进程会被 init 进程收养，所以孤儿进程不会对系统造成危害</p>
</li>
</ul>
<p>僵尸进程：</p>
<ul>
<li>一个子进程的进程描述符在子进程退出时不会释放，只有当父进程通过 wait () 或 waitpid () 获取了子进程信息后才会释放。如果子进程退出，而父进程并没有调用 wait () 或 waitpid ()，那么子进程的进程描述符仍然保存在系统中，这种进程称之为僵尸进程</li>
<li>僵尸进程通过 ps 命令显示出来的状态为 Z（zombie）</li>
<li>系统所能使用的进程号是有限的，产生大量僵尸进程，会导致系统没有可用的进程号而不能产生新的进程</li>
<li>要消灭系统中大量的僵尸进程，只需要将其父进程杀死，此时僵尸进程就会变成孤儿进程，从而被 init 进程所收养，这样 init 进程就会释放所有的僵尸进程所占有的资源，从而结束僵尸进程</li>
</ul>
<p>补充：</p>
<ul>
<li>守护进程 (daemon) 是一类在后台运行的特殊进程，用于执行特定的系统任务。</li>
<li>守护进程是脱离于终端并且在后台运行的进程，脱离终端是为了避免在执行的过程中的信息在终端上显示，并且进程也不会被任何终端所产生的终端信息所打断</li>
<li>很多守护进程在系统引导的时候启动，并且一直运行直到系统关闭；另一些只在需要的时候才启动，完成任务后就自动结束</li>
</ul>
<hr>
<h3 id="-141"><a class="markdownIt-Anchor" href="#-141">#</a> <a href="#%E7%8A%B6%E6%80%81%E6%94%B9%E5%8F%98"></a>状态改变</h3>
<h4 id="-142"><a class="markdownIt-Anchor" href="#-142">#</a> <a href="#sigchld"></a>SIGCHLD</h4>
<p>当一个子进程改变了它的状态时（停止运行，继续运行或者退出），有两件事会发生在父进程中：</p>
<ul>
<li>得到 SIGCHLD 信号</li>
<li>waitpid () 或者 wait () 调用会返回</li>
</ul>
<p>子进程发送的 SIGCHLD 信号包含了子进程的信息，比如进程 ID、进程状态、进程使用 CPU 的时间等；在子进程退出时，它的进程描述符不会立即释放，这是为了让父进程得到子进程信息，父进程通过 wait () 和 waitpid () 来获得一个已经退出的子进程的信息</p>
<hr>
<h4 id="-143"><a class="markdownIt-Anchor" href="#-143">#</a> <a href="#wait"></a>wait</h4>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token class-name">pid_t</span> <span class="token function">wait</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">*</span>status<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>参数：status 用来保存被收集的子进程退出时的状态，如果不关心子进程<strong>如何</strong>销毁，可以设置这个参数为 NULL</p>
<p>父进程调用 wait () 会一直阻塞，直到收到一个子进程退出的 SIGCHLD 信号，wait () 函数就会销毁子进程并返回</p>
<ul>
<li>成功，返回被收集的子进程的进程 ID</li>
<li>失败，返回 -1，同时 errno 被置为 ECHILD（如果调用进程没有子进程，调用就会失败）</li>
</ul>
<hr>
<h4 id="-144"><a class="markdownIt-Anchor" href="#-144">#</a> <a href="#waitpid"></a>waitpid</h4>
<pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token class-name">pid_t</span> <span class="token function">waitpid</span><span class="token punctuation">(</span><span class="token class-name">pid_t</span> pid<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">*</span>status<span class="token punctuation">,</span> <span class="token keyword">int</span> options<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>作用和 wait () 完全相同，只是多了两个可控制的参数 pid 和 options</p>
<ul>
<li>pid：指示一个子进程的 ID，表示只关心这个子进程退出的 SIGCHLD 信号；如果 pid=-1 时，那么和 wait () 作用相同，都是关注所有子进程退出的 SIGCHLD 信号</li>
<li>options：主要有 WNOHANG 和 WUNTRACED 两个，WNOHANG 可以使 waitpid () 调用变成非阻塞的，就是会立即返回，父进程可以继续执行其它任务</li>
</ul>
<hr>
<h2 id="-145"><a class="markdownIt-Anchor" href="#-145">#</a> <a href="#%E7%BD%91%E7%BB%9C%E7%AE%A1%E7%90%86"></a>网络管理</h2>
<h3 id="-146"><a class="markdownIt-Anchor" href="#-146">#</a> <a href="#network"></a>network</h3>
<ul>
<li>
<p>启动：service network start</p>
</li>
<li>
<p>停止：service network stop</p>
</li>
<li>
<p>重启：service network restart</p>
</li>
</ul>
<hr>
<h3 id="-147"><a class="markdownIt-Anchor" href="#-147">#</a> <a href="#ifconfig"></a>ifconfig</h3>
<p>ifconfig 是 Linux 中用于显示或配置网络设备的命令，英文全称是 network interfaces configuring</p>
<p>ifconfig 命令用于显示或设置网络设备。ifconfig 可设置网络设备的状态，或是显示目前的设置</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ifconfig</span> <span class="token punctuation">[</span>网络设备<span class="token punctuation">]</span><span class="token punctuation">[</span>down up -allmulti -arp -promisc<span class="token punctuation">]</span><span class="token punctuation">[</span>add<span class="token operator">&lt;</span>地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>del<span class="token operator">&lt;</span>地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">&lt;</span>hw<span class="token operator">&lt;</span>网络设备类型<span class="token operator">></span><span class="token operator">&lt;</span>硬件地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>io_addr<span class="token operator">&lt;</span>I/O地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>irq<span class="token operator">&lt;</span>IRQ地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>media<span class="token operator">&lt;</span>网络媒介类型<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>mem_start<span class="token operator">&lt;</span>内存地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>metric<span class="token operator">&lt;</span>数目<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>mtu<span class="token operator">&lt;</span>字节<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>netmask<span class="token operator">&lt;</span>子网掩码<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>tunnel<span class="token operator">&lt;</span>地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-broadcast<span class="token operator">&lt;</span>地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-pointopoint<span class="token operator">&lt;</span>地址<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>IP地址<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>
<p><code>ifconfig</code> ：显示激活的网卡信息 ens [<img src="https://camo.githubusercontent.com/17d1ab04390cc4c8a7101665719cb16324a0eb00aacb0de7b96c133deffc427f/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe7bd91e58da1e4bfa1e681af2e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/17d1ab04390cc4c8a7101665719cb16324a0eb00aacb0de7b96c133deffc427f/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe7bd91e58da1e4bfa1e681af2e706e67">https://camo.githubusercontent.com/17d1ab04390cc4c8a7101665719cb16324a0eb00aacb0de7b96c133deffc427f/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2fe7bd91e58da1e4bfa1e681af2e706e67</a>)</p>
<p>**ens33（有的是 eth0）** 表示第一块网卡。 表示 ens33 网卡的 IP 地址是 192.168.0.137，广播地址，broadcast 192.168.0.255，掩码地址 netmask:255.255.255.0 ，inet6 对应的是 ipv6</p>
<p><strong>lo</strong> 是表示主机的回坏地址，这个一般是用来测试一个网络程序，但又不想让局域网或外网的用户能够查看，只能在此台主机上运行和查看所用的网络接口</p>
</li>
<li>
<p>ifconfig ens33 down：关闭网卡</p>
</li>
<li>
<p>ifconfig ens33 up：启用网卡</p>
</li>
</ul>
<hr>
<h3 id="-148"><a class="markdownIt-Anchor" href="#-148">#</a> <a href="#ping"></a>ping</h3>
<p>ping 命令用于检测主机。</p>
<p>执行 ping 指令会使用 ICMP 传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">ping</span> <span class="token punctuation">[</span>-dfnqrRv<span class="token punctuation">]</span><span class="token punctuation">[</span>-c<span class="token operator">&lt;</span>完成次数<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-i<span class="token operator">&lt;</span>间隔秒数<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-I<span class="token operator">&lt;</span>网络界面<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-l<span class="token operator">&lt;</span>前置载入<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-p<span class="token operator">&lt;</span>范本样式<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-s<span class="token operator">&lt;</span>数据包大小<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-t<span class="token operator">&lt;</span>存活数值<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>主机名称或IP地址<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>
<p>-c &lt;完成次数&gt;：设置完成要求回应的次数；</p>
</li>
<li>
<p><code>ping -c 2 www.baidu.com</code>  [<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f70696e672545372539392542452545352542412541362e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/4d19ccc9a66cc3689848a3cdcda1aed65f2807b914281841b59ffb198643af15/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f70696e672545372539392542452545352542412541362e706e67">https://camo.githubusercontent.com/4d19ccc9a66cc3689848a3cdcda1aed65f2807b914281841b59ffb198643af15/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f70696e672545372539392542452545352542412541362e706e67</a>)</p>
<p>icmp_seq：ping 序列，从 1 开始</p>
<p>ttl：IP 生存时间值</p>
<p>time：响应时间，数值越小，联通速度越快</p>
</li>
</ul>
<hr>
<h3 id="-149"><a class="markdownIt-Anchor" href="#-149">#</a> <a href="#netstat"></a>netstat</h3>
<p>netstat 命令用于显示网络状态</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">netstat</span> <span class="token punctuation">[</span>-acCeFghilMnNoprstuvVwx<span class="token punctuation">]</span><span class="token punctuation">[</span>-A<span class="token operator">&lt;</span>网络类型<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>--ip<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>-a 显示所有连线中的 Socket，显示详细的连接状况</li>
<li>-i 显示网络界面信息表单，显示网卡列表</li>
<li>-p 显示正在使用 Socket 的程序识别码和程序名称</li>
<li>-n 显示使用 IP 地址，而不通过域名服务器</li>
<li>-t 显示 TCP 传输协议的连线状况。</li>
<li>-u 显示 UDP 传输协议的连线状况</li>
<li><strong>-aptn：查看所有 TCP 开启端口</strong></li>
<li><strong>-apun：查看所有 UDP 开启端口</strong></li>
</ul>
<p>补充：</p>
<ul>
<li>netstat -apn | grep port：查看指定端口号</li>
<li>lsof -i:port ：查看指定端口号</li>
</ul>
<hr>
<h2 id="-150"><a class="markdownIt-Anchor" href="#-150">#</a> <a href="#%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"></a>磁盘管理</h2>
<h3 id="-151"><a class="markdownIt-Anchor" href="#-151">#</a> <a href="#%E6%8C%82%E8%BD%BD%E6%A6%82%E5%BF%B5"></a>挂载概念</h3>
<p>在安装 Linux 系统时设立的各个分区，如根分区、/boot 分区等都是自动挂载的，也就是说不需要我们人为操作，开机就会自动挂载。但是光盘、U 盘等存储设备如果需要使用，就必须人为的进行挂载。</p>
<p>在 Windows 下插入 U 盘也是需要挂载（分配盘符）的，只不过 Windows 下分配盘符是自动的。其实挂载可以理解为 Windows 当中的分配盘符（重要），只不过 Windows 当中是以英文字母 ABCD 等作为盘符，而 Linux 是拿系统目录作为盘符，当然 Linux 当中也不叫盘符，而是称为挂载点，而把为分区或者光盘等存储设备分配一个挂载点的过程称为挂载</p>
<p>Linux 中的根目录以外的文件要想被访问，需要将其 “关联” 到根目录下的某个目录来实现，这种关联操作就是挂载，这个目录就是挂载点，解除次关联关系的过程称之为卸载</p>
<p><strong>注意：“挂载点” 的目录需要以下几个要求：</strong></p>
<ul>
<li>目录要先存在，可以用 mkdir 命令新建目录</li>
<li>挂载点目录不可被其他进程使用到</li>
<li>挂载点下原有文件将被隐藏</li>
</ul>
<hr>
<h3 id="-152"><a class="markdownIt-Anchor" href="#-152">#</a> <a href="#lsblk"></a>lsblk</h3>
<p>lsblk 命令的英文是 list block，即用于列出所有可用块设备的信息，而且还能显示他们之间的依赖关系，但是不会列出 RAM 盘的信息</p>
<p>命令：lsblk [参数]</p>
<ul>
<li>
<p><code>lsblk</code> ：以树状列出所有块设备 [<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352538462541462545372539342541382545352539442539372545382541452542452545352541342538372e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/046d712ca47d2591c5d28b8e05f268a498ea78ddeb3e06236a5b808cd16c9408/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352538462541462545372539342541382545352539442539372545382541452542452545352541342538372e706e67">https://camo.githubusercontent.com/046d712ca47d2591c5d28b8e05f268a498ea78ddeb3e06236a5b808cd16c9408/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545352538462541462545372539342541382545352539442539372545382541452542452545352541342538372e706e67</a>)</p>
<p>NAME：这是块设备名。</p>
<p>MAJ：MIN : 本栏显示主要和次要设备号。</p>
<p>RM：本栏显示设备是否可移动设备。注意，在上面设备 sr0 的 RM 值等于 1，这说明他们是可移动设备。</p>
<p>SIZE：本栏列出设备的容量大小信息。</p>
<p>RO：该项表明设备是否为只读。在本案例中，所有设备的 RO 值为 0，表明他们不是只读的。</p>
<p>TYPE：本栏显示块设备是否是磁盘或磁盘上的一个分区。在本例中，sda 和 sdb 是磁盘，而 sr0 是只读存储（rom）。</p>
<p>MOUNTPOINT：本栏指出设备挂载的挂载点。</p>
</li>
<li>
<p><code>lsblk -f</code> ：不会列出所有空设备 [<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545342542382538442545352538432538352545352539302541422545372541392542412545382541452542452545352541342538372e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/4dcac9668858738e7ffe713112d76e713562eb0f9b923b49ed6f0a391062b480/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545342542382538442545352538432538352545352539302541422545372541392542412545382541452542452545352541342538372e706e67">https://camo.githubusercontent.com/4dcac9668858738e7ffe713112d76e713562eb0f9b923b49ed6f0a391062b480/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545342542382538442545352538432538352545352539302541422545372541392542412545382541452542452545352541342538372e706e67</a>)</p>
<p>NAME 表示设备名称</p>
<p>FSTYPE 表示文件类型</p>
<p>LABEL 表示设备标签</p>
<p>UUID 设备编号</p>
<p>MOUNTPOINT 表示设备的挂载点</p>
</li>
</ul>
<hr>
<h3 id="-153"><a class="markdownIt-Anchor" href="#-153">#</a> <a href="#df"></a>df</h3>
<p>df 命令用于显示目前在 Linux 系统上的文件系统的磁盘使用情况统计。</p>
<p>命令：df [options]… [FILE]…</p>
<ul>
<li>-h, 使用人类可读的格式 (预设值是不加这个选项的…)</li>
<li>–total 计算所有的数据之和</li>
</ul>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372541332538312545372539422539382545372541452541312545372539302538362e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/71f05b99726d05e84941051b0e8f2409687288fc372b5850d18c5ee547ca166a/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372541332538312545372539422539382545372541452541312545372539302538362e706e67">https://camo.githubusercontent.com/71f05b99726d05e84941051b0e8f2409687288fc372b5850d18c5ee547ca166a/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545372541332538312545372539422539382545372541452541312545372539302538362e706e67</a>)</p>
<p>第一列指定文件系统的名称；第二列指定一个特定的文件系统，1K 是 1024 字节为单位的总容量；已用和可用列分别指定的容量；最后一个已用列指定使用的容量的百分比；最后一栏指定的文件系统的挂载点</p>
<hr>
<h3 id="-154"><a class="markdownIt-Anchor" href="#-154">#</a> <a href="#mount"></a>mount</h3>
<p>mount 命令是经常会使用到的命令，它用于挂载 Linux 系统外的文件</p>
<p>使用者权限：所有用户，设置级别的需要管理员</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">mount</span> <span class="token punctuation">[</span>-hV<span class="token punctuation">]</span>
<span class="token function">mount</span> -a <span class="token punctuation">[</span>-fFnrsvw<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t vfstype<span class="token punctuation">]</span>
<span class="token function">mount</span> <span class="token punctuation">[</span>-fnrsvw<span class="token punctuation">]</span> <span class="token punctuation">[</span>-o options <span class="token punctuation">[</span>,<span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token punctuation">]</span> device <span class="token operator">|</span> <span class="token function">dir</span>
<span class="token function">mount</span> <span class="token punctuation">[</span>-fnrsvw<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t vfstype<span class="token punctuation">]</span> <span class="token punctuation">[</span>-o options<span class="token punctuation">]</span> device <span class="token function">dir</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>-t：指定档案系统的型态，通常不必指定。mount 会自动选择正确的型态。</li>
</ul>
<p>通过挂载的方式查看 Linux CD/DVD 光驱，查看 ubuntu-20.04.1-desktop-amd64.iso 的文件</p>
<ul>
<li>
<p>进入【虚拟机】–【设置】，设置 CD/DVD 的内容，ubuntu-20.04.1-desktop-amd64.iso</p>
</li>
<li>
<p>创建挂载点（注意：一般用户无法挂载 cdrom，只有 root 用户才可以操作）  <code>mkdir -p /mnt/cdrom</code>  ：切换到 root 下创建一个挂载点（其实就是创建一个目录）</p>
</li>
<li>
<p>开始挂载  <code>mount -t auto /dev/cdrom /mnt/cdrom</code> ：通过挂载点的方式查看上面的【ISO 文件内容】 [<img src="https://camo.githubusercontent.com/b2268d7b271c7a2ce3aceff7cffc0359a72515872f0b337548a8f8f3a39b1605/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362538432538322545382542442542442545362538382539302545352538412539462e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/b2268d7b271c7a2ce3aceff7cffc0359a72515872f0b337548a8f8f3a39b1605/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362538432538322545382542442542442545362538382539302545352538412539462e706e67">https://camo.githubusercontent.com/b2268d7b271c7a2ce3aceff7cffc0359a72515872f0b337548a8f8f3a39b1605/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f2545362538432538322545382542442542442545362538382539302545352538412539462e706e67</a>)</p>
</li>
<li>
<p>查看挂载内容： <code>ls -l -a ./mnt/cdrom/</code></p>
</li>
<li>
<p>卸载 cdrom： <code>umount /mnt/cdrom/</code></p>
</li>
</ul>
<hr>
<h2 id="-155"><a class="markdownIt-Anchor" href="#-155">#</a> <a href="#%E9%98%B2%E7%81%AB%E5%A2%99"></a>防火墙</h2>
<h3 id="-156"><a class="markdownIt-Anchor" href="#-156">#</a> <a href="#%E6%A6%82%E8%BF%B0"></a>概述</h3>
<p>防火墙技术是通过有机结合各类用于安全管理与筛选的软件和硬件设备，帮助计算机网络于其内、外网之间构建一道相对隔绝的保护屏障，以保护用户资料与信息安全性的一种技术。</p>
<p>在默认情况下，Linux 系统的防火墙状态是打开的，已经启动。</p>
<h3 id="-157"><a class="markdownIt-Anchor" href="#-157">#</a> <a href="#%E7%8A%B6%E6%80%81"></a>状态</h3>
<p><strong>启动语法：service 服务 status</strong></p>
<ul>
<li>
<p>查看防火墙状态： <code>service iptables status</code></p>
</li>
<li>
<p>临时开启： <code>service iptables start</code></p>
</li>
<li>
<p>临时关闭： <code>service iptables stop</code></p>
</li>
<li>
<p>开机启动： <code>chkconfig iptables on</code></p>
</li>
<li>
<p>开机关闭： <code>chkconfig iptables off</code></p>
</li>
</ul>
<h3 id="-158"><a class="markdownIt-Anchor" href="#-158">#</a> <a href="#%E6%94%BE%E8%A1%8C"></a>放行</h3>
<p>设置端口防火墙放行</p>
<ul>
<li>修改配置文件： <code>vim /etc/sysconfig/iptables</code></li>
<li>添加放行端口： <code>-A INPUT -m state --state NEW -m tcp -p tcp --dport 端口号 -j ACCEPT</code></li>
<li>重新加载防火墙规则： <code>service iptables reload</code></li>
</ul>
<p>备注：默认情况下 22 端口号是放行的</p>
<hr>
<h2 id="-159"><a class="markdownIt-Anchor" href="#-159">#</a> <a href="#shell"></a>Shell</h2>
<blockquote>
<p>shell 脚本类似于我们在 Windows 中编写的批处理文件，它的扩展名是.bat，比如我们启动 Tomcat（后面的课程我们会详细讲解）的时候经常启动的 startup.bat，就是 Windows 下的批处理文件。 而在 Linux 中，shell 脚本编写的文件是以 .sh 结尾的。比如 Tomcat 下我们经常使用 <a target="_blank" rel="noopener" href="http://startup.sh">startup.sh</a> 来启动我们的 Tomcat，这个 <a target="_blank" rel="noopener" href="http://startup.sh">startup.sh</a> 文件就是 shell 编写的。</p>
</blockquote>
<h3 id="-160"><a class="markdownIt-Anchor" href="#-160">#</a> <a href="#%E5%85%A5%E9%97%A8"></a>入门</h3>
<h4 id="-161"><a class="markdownIt-Anchor" href="#-161">#</a> <a href="#%E6%A6%82%E5%BF%B5"></a>概念</h4>
<p>Shell 脚本（shell script），是一种为 shell 编写的脚本程序。</p>
<p><a target="_blank" rel="noopener" href="https://www.leiue.com/tags/shell">Shell</a> <a target="_blank" rel="noopener" href="https://www.leiue.com/tags/%E8%84%9A%E6%9C%AC">脚本</a>（<a target="_blank" rel="noopener" href="https://www.leiue.com/tags/shell-script">Shell Script</a>）又称 Shell 命令稿、程序化脚本，是一种计算机程序使用的文本文件，内容由一连串的 shell 命令组成，经由 Unix Shell 直译其内容后运作。Shell 被当成是一种脚本语言来设计，其运作方式与解释型语言相当，由 Unix shell 扮演命令行解释器的角色，在读取 shell 脚本之后，依序运行其中的 shell 命令，之后输出结果。利用 shell 脚本可以进行系统管理，文件操作等。</p>
<h4 id="-162"><a class="markdownIt-Anchor" href="#-162">#</a> <a href="#%E7%8E%AF%E5%A2%83"></a>环境</h4>
<p>Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</p>
<p><code>cat /etc/shells</code> ：查看解释器 [<img src="https://camo.githubusercontent.com/5bd5c95b6297af2d28f8b5acef41964e48abd5d766b36863b34ab1bbedfef950/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f7368656c6c2545372538452541462545352541322538332e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/5bd5c95b6297af2d28f8b5acef41964e48abd5d766b36863b34ab1bbedfef950/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f7368656c6c2545372538452541462545352541322538332e706e67">https://camo.githubusercontent.com/5bd5c95b6297af2d28f8b5acef41964e48abd5d766b36863b34ab1bbedfef950/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f7368656c6c2545372538452541462545352541322538332e706e67</a>)</p>
<p>Linux 的 Shell 种类众多，常见的有：</p>
<ul>
<li>
<p>Bourne Shell（/usr/bin/sh 或 /bin/sh）</p>
</li>
<li>
<p>Bourne Again Shell（/bin/bash）</p>
</li>
<li>
<p>C Shell（/usr/bin/csh）</p>
</li>
<li>
<p>K Shell（/usr/bin/ksh）</p>
</li>
<li>
<p>Shell for Root（/sbin/sh）</p>
</li>
<li>
<p>等等……</p>
</li>
</ul>
<p>我们当前课程使用的是 Bash，也就是 Bourne Again Shell，由于易用和免费，Bash 在日常工作中被广泛使用。同时，Bash 也是大多数 Linux 系统默认的 Shell</p>
<h4 id="-163"><a class="markdownIt-Anchor" href="#-163">#</a> <a href="#%E7%AC%AC%E4%B8%80%E4%B8%AAshell"></a>第一个 shell</h4>
<ul>
<li>
<p>新建 s.sh 文件：touch <a target="_blank" rel="noopener" href="http://s.sh">s.sh</a></p>
</li>
<li>
<p>编辑 s.sh 文件：vim <a target="_blank" rel="noopener" href="http://s.sh">s.sh</a></p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash  --- 指定脚本解释器</span>
<span class="token builtin class-name">echo</span> <span class="token string">"你好，shell !"</span>   ---向窗口输入文本

:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
写shell的习惯 第一行指定解释器
文件是sh为后缀名
括号成对书写
注释的时候尽量不用中文注释。不友好。
<span class="token punctuation">[</span><span class="token punctuation">]</span> 括号两端要要有空格。  <span class="token punctuation">[</span> neirong <span class="token punctuation">]</span>
习惯代码索引，增加阅读性
写语句的时候，尽量写全了，比如if。。。
<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>查看 s.sh 文件：ls -l s.sh 文件权限是【-rw-rw-r–】</p>
</li>
<li>
<p>chmod a+x <a target="_blank" rel="noopener" href="http://s.sh">s.sh</a> s.sh 文件权限是【-rwxrwxr-x】</p>
</li>
<li>
<p>执行文件：./s.sh</p>
</li>
<li>
<p>或者直接  <code>bash s.sh</code></p>
</li>
</ul>
<p><strong>注意：</strong></p>
<p><strong>#!</strong> 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</p>
<p>echo 命令用于向窗口输出文本。</p>
<hr>
<h3 id="-164"><a class="markdownIt-Anchor" href="#-164">#</a> <a href="#%E6%B3%A8%E9%87%8A"></a>注释</h3>
<ul>
<li>
<p>单行注释：以 <strong>#</strong> 开头的行就是注释，会被解释器忽略</p>
</li>
<li>
<p>多行注释：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">:<span class="token operator">&lt;&lt;</span><span class="token string">EOF
注释内容...
注释内容...
EOF</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">:<span class="token operator">&lt;&lt;</span><span class="token operator">!</span>      -----这里的符号要和结尾处的一样
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
注释内容<span class="token punctuation">..</span>.
<span class="token operator">!</span>        <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<h3 id="-165"><a class="markdownIt-Anchor" href="#-165">#</a> <a href="#%E5%8F%98%E9%87%8F"></a>变量</h3>
<h4 id="-166"><a class="markdownIt-Anchor" href="#-166">#</a> <a href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"></a>定义变量</h4>
<p>变量名和等号之间不能有空格，这可能和你熟悉的所有编程语言都不一样。同时，变量名的命名须遵循如下规则：</p>
<ul>
<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>
<li>中间不能有空格，可以使用下划线（_）。</li>
<li>不能使用标点符号。</li>
<li>不能使用 bash 里的关键字（可用 help 命令查看保留关键字）。</li>
</ul>
<h4 id="-167"><a class="markdownIt-Anchor" href="#-167">#</a> <a href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F"></a>使用变量</h4>
<p>使用一个定义过的变量，只要在变量名前面加美元符号 $ 即可</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"seazean"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$name</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$&#123;name&#125;</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">"zhy"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>已定义的变量，可以被重新定义变量名</p>
</li>
<li>
<p>外面的花括号是可选的，加不加都行，加花括号是为了帮助解释器识别变量的边界。推荐加！！</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">比如：echo <span class="token string">"I am good at <span class="token variable">$&#123;shell-t&#125;</span>Script"</span>
通过上面的脚本我们发现，如果不给shell-t变量加花括号，写成echo <span class="token string">"I am good at <span class="token variable">$shell</span>-tScript"</span>，解释器shell就会把<span class="token variable">$shell</span>-tScript当成一个变量，由于我们前面没有定义shell-t变量，那么解释器执行执行的结果自然就为空了。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="-168"><a class="markdownIt-Anchor" href="#-168">#</a> <a href="#%E5%8F%AA%E8%AF%BB%E5%8F%98%E9%87%8F"></a>只读变量</h4>
<p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。(类似于 final)</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"https://www.baidu.com"</span>
<span class="token builtin class-name">readonly</span> myUrl
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"https://cn.bing.com/"</span>  
<span class="token comment">#报错 myUrl readonly</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-169"><a class="markdownIt-Anchor" href="#-169">#</a> <a href="#%E5%88%A0%E9%99%A4%E5%8F%98%E9%87%8F"></a>删除变量</h4>
<p>使用 unset 命令可以删除变量，变量被删除后不能再次使用。</p>
<p>语法： <code>unset variable_name</code></p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#!/bin/sh</span>
<span class="token assign-left variable">myUrl</span><span class="token operator">=</span><span class="token string">"https://www.baidu.com"</span>
<span class="token builtin class-name">unset</span> myUrl
<span class="token builtin class-name">echo</span> <span class="token variable">$myUrl</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>定义 myUrl 变量，通过 unset 删除变量，然后通过 echo 进行输出，<strong>结果是为空</strong>，没有任何的结果输出。</p>
<h4 id="-170"><a class="markdownIt-Anchor" href="#-170">#</a> <a href="#%E5%AD%97%E7%AC%A6%E5%8F%98%E9%87%8F"></a>字符变量</h4>
<blockquote>
<p>字符串是 shell 编程中最常用也是最有用的数据类型，字符串可以用单引号，也可以用双引号，也可以不用引号，在 Java SE 中我们定义一个字符串通过 Stirng s=“abc&quot; 双引号的形式进行定义，而在 shell 中也是可以的。</p>
</blockquote>
<h5 id="-171"><a class="markdownIt-Anchor" href="#-171">#</a> <a href="#%E5%BC%95%E5%8F%B7"></a>引号</h5>
<ul>
<li>
<p><strong>单引号</strong></p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">'this is a string variable'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>单引号字符串的限制：</p>
<ul>
<li>单引号里的任何字符都会原样输出，单引号字符串中的<strong>变量是无效的</strong>；</li>
<li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li>
</ul>
</li>
<li>
<p>双引号</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">'frank'</span>
<span class="token assign-left variable">str</span><span class="token operator">=</span><span class="token string">"Hello,<span class="token entity" title="\&quot;">\"</span><span class="token variable">$your_name</span><span class="token entity" title="\&quot;">\"</span>! <span class="token entity" title="\n">\n</span>"</span>
<span class="token builtin class-name">echo</span> -e <span class="token variable">$str</span>     <span class="token comment">#Hello, "frank"!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>双引号的优点：</p>
<ul>
<li>双引号里可以有变量</li>
<li>双引号里可以出现转义字符</li>
</ul>
</li>
</ul>
<h5 id="-172"><a class="markdownIt-Anchor" href="#-172">#</a> <a href="#%E6%8B%BC%E6%8E%A5%E5%AD%97%E7%AC%A6%E4%B8%B2"></a>拼接字符串</h5>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">your_name</span><span class="token operator">=</span><span class="token string">"frank"</span>
<span class="token comment"># 使用双引号拼接</span>
<span class="token assign-left variable">greeting</span><span class="token operator">=</span><span class="token string">"hello, "</span><span class="token variable">$your_name</span><span class="token string">" !"</span>
<span class="token assign-left variable">greeting_1</span><span class="token operator">=</span><span class="token string">"hello, <span class="token variable">$&#123;your_name&#125;</span> !"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$greeting</span>  <span class="token variable">$greeting_1</span>
<span class="token comment">#hello,frank! hello,frank</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="-173"><a class="markdownIt-Anchor" href="#-173">#</a> <a href="#%E8%8E%B7%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6"></a>获取字符串长度</h5>
<p>命令： <code>$&#123;#variable_name&#125;</code></p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">"seazean"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$&#123;<span class="token operator">#</span>string&#125;</span> <span class="token comment">#7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h5 id="-174"><a class="markdownIt-Anchor" href="#-174">#</a> <a href="#%E6%8F%90%E5%8F%96%E5%AD%97%E7%AC%A6%E4%B8%B2"></a>提取字符串</h5>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">string</span><span class="token operator">=</span><span class="token string">"abcdefghijklmn"</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$&#123;string<span class="token operator">:</span>1<span class="token operator">:</span>4&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>输出为【bcde】，通过截取我们发现，它的下标和我们在 java 中的读取方式是一样的，下标也是从 0 开始。</p>
<hr>
<h3 id="-175"><a class="markdownIt-Anchor" href="#-175">#</a> <a href="#%E6%95%B0%E7%BB%84"></a>数组</h3>
<p>bash 支持一维数组（不支持多维数组），并且没有限定数组的大小。</p>
<h4 id="-176"><a class="markdownIt-Anchor" href="#-176">#</a> <a href="#%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84"></a>定义数组</h4>
<p>在 Shell 中，用括号来表示数组，数组元素用 &quot;空格&quot; 符号分割开</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">数组名<span class="token operator">=</span><span class="token punctuation">(</span>值1 值2 <span class="token punctuation">..</span>. 值n<span class="token punctuation">)</span>
<span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>value0 value1 value2 value3<span class="token punctuation">)</span> 
<span class="token assign-left variable">array_name</span><span class="token operator">=</span><span class="token punctuation">(</span>
value0
value1
value2
value3
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>通过下标定义数组中的其中一个元素：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">array_name<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span>value0
array_name<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>value1
array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token operator">=</span>valuen<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>可以不使用连续的下标，而且下标的范围没有限制</p>
<h4 id="-177"><a class="markdownIt-Anchor" href="#-177">#</a> <a href="#%E8%AF%BB%E5%8F%96%E6%95%B0%E7%BB%84"></a>读取数组</h4>
<p>读取数组元素值的一般格式是：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token variable">$&#123;数组名<span class="token punctuation">[</span>下标<span class="token punctuation">]</span>&#125;</span>

<span class="token assign-left variable">value</span><span class="token operator">=</span><span class="token variable">$&#123;array_name<span class="token punctuation">[</span>n<span class="token punctuation">]</span>&#125;</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$&#123;value&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用 <strong>@</strong> 符号可以获取数组中的所有元素，例如： <code>echo $&#123;array_name[@]&#125;</code></p>
<h4 id="-178"><a class="markdownIt-Anchor" href="#-178">#</a> <a href="#%E8%8E%B7%E5%8F%96%E9%95%BF%E5%BA%A6"></a>获取长度</h4>
<p>获取数组长度的方法与获取字符串长度的方法相同，数组前加#</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 取得数组元素的个数</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">$&#123;<span class="token operator">#</span>array_name<span class="token punctuation">[</span>@<span class="token punctuation">]</span>&#125;</span>
<span class="token comment"># 或者</span>
<span class="token assign-left variable">length</span><span class="token operator">=</span><span class="token variable">$&#123;<span class="token operator">#</span>array_name<span class="token punctuation">[</span>*<span class="token punctuation">]</span>&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#! /bin/bash</span>
<span class="token assign-left variable">g</span><span class="token operator">=</span><span class="token punctuation">(</span>a b c d e f<span class="token punctuation">)</span>
<span class="token builtin class-name">echo</span> <span class="token string">"数组下标为2的数据为:"</span> <span class="token variable">$&#123;g<span class="token punctuation">[</span>2<span class="token punctuation">]</span>&#125;</span>  <span class="token comment">#c</span>
<span class="token builtin class-name">echo</span>  <span class="token string">"数组所有数据为:"</span>  <span class="token variable">$&#123;<span class="token operator">#</span>g<span class="token punctuation">[</span>@<span class="token punctuation">]</span>&#125;</span>   <span class="token comment">#6</span>
<span class="token builtin class-name">echo</span>  <span class="token string">"数组所有数据为:"</span>   <span class="token variable">$&#123;<span class="token operator">#</span>g<span class="token punctuation">[</span>*<span class="token punctuation">]</span>&#125;</span>  <span class="token comment">#6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h3 id="-179"><a class="markdownIt-Anchor" href="#-179">#</a> <a href="#%E8%BF%90%E7%AE%97%E7%AC%A6"></a>运算符</h3>
<p>Shell 和其他编程一样，<strong>支持</strong>包括：算术、关系、布尔、字符串等运算符。原生 bash ** 不支持 ** 简单的数学运算，但是可以通过其他命令来实现，例如 expr。expr 是一款表达式计算工具，使用它能完成表达式的求值操作。</p>
<h4 id="-180"><a class="markdownIt-Anchor" href="#-180">#</a> <a href="#%E8%A7%84%E5%88%99"></a>规则</h4>
<ul>
<li><strong>表达式和运算符之间要有空格</strong>，例如 2+2 是不对的，必须写成 2 + 2</li>
<li><strong>完整的表达式要被 `` 包含，注意不是单引号</strong></li>
<li><strong>条件表达式要放在方括号之间，并且要有空格</strong>，例如:  <code>[$a==$b]</code>  是错误的，必须写成  <code>[ $a == $b ]</code></li>
<li><strong>(()) 双括号里可以跟表达式</strong>，例如 ((i++))，((a+b))</li>
</ul>
<h4 id="-181"><a class="markdownIt-Anchor" href="#-181">#</a> <a href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"></a>算术运算符</h4>
<table>
<thead>
<tr>
<th><strong>运算符</strong></th>
<th><strong>说明</strong></th>
<th><strong>举例</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>加法</td>
<td><code>expr $a + $b</code>  结果为 30。</td>
</tr>
<tr>
<td>-</td>
<td>减法</td>
<td><code>expr $a - $b</code>  结果为 -10。</td>
</tr>
<tr>
<td>*</td>
<td>乘法</td>
<td><code>expr $a \* $b</code>  结果为 200。</td>
</tr>
<tr>
<td>/</td>
<td>除法</td>
<td><code>expr $b / $a</code>  结果为 2。</td>
</tr>
<tr>
<td>%</td>
<td>取余</td>
<td><code>expr $b % $a</code>  结果为 0。</td>
</tr>
<tr>
<td>=</td>
<td>赋值</td>
<td>a=$b 将把变量 b 的值赋给 a。</td>
</tr>
<tr>
<td>==</td>
<td>相等。用于比较两个数字，相同则返回 true。</td>
<td><code>[ $a == $b ]</code>  返回 false。</td>
</tr>
<tr>
<td>!=</td>
<td>不相等。用于比较两个数字，不相同则返回 true。</td>
<td><code>[ $a != $b ]</code>  返回 true。</td>
</tr>
</tbody>
</table>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#! /bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">4</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token builtin class-name">echo</span> <span class="token string">"加法运算"</span>  <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $a + $b<span class="token variable">`</span></span> 
<span class="token builtin class-name">echo</span> <span class="token string">"乘法运算，注意*号前面需要反斜杠"</span> <span class="token variable"><span class="token variable">`</span> <span class="token function">expr</span> $a <span class="token punctuation">\</span>* $b<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"加法运算"</span>  <span class="token variable"><span class="token variable">`</span><span class="token function">expr</span>  $b / $a<span class="token variable">`</span></span>
<span class="token variable"><span class="token punctuation">((</span>a<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>
<span class="token assign-left variable">c</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$((</span>a <span class="token operator">+</span> b<span class="token variable">))</span></span> 
<span class="token assign-left variable">d</span><span class="token operator">=</span>$<span class="token punctuation">[</span>a + b<span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token string">"c = <span class="token variable">$c</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"d = <span class="token variable">$d</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">&#x2F;&#x2F;结果
加法运算 24
减法运算 -16
乘法运算，注意*号前面需要反斜杠 80
加法运算 5
a &#x3D; 5
c &#x3D; 25
d &#x3D; 25
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-182"><a class="markdownIt-Anchor" href="#-182">#</a> <a href="#%E5%AD%97%E7%AC%A6%E8%BF%90%E7%AE%97%E7%AC%A6"></a>字符运算符</h4>
<p>假定变量 a 为 “abc”，变量 b 为 “efg”，true=0，false=1。</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">举例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">检测两个字符串是否相等，相等返回 true。</td>
<td style="text-align:left"><code>[ $a = $b ]</code>  返回 false。</td>
</tr>
<tr>
<td style="text-align:left">!=</td>
<td style="text-align:left">检测两个字符串是否相等，不相等返回 true。</td>
<td style="text-align:left"><code>[ $a != $b ]</code>  返回 true。</td>
</tr>
<tr>
<td style="text-align:left">-z</td>
<td style="text-align:left">检测字符串长度是否为 0，为 0 返回 true。</td>
<td style="text-align:left"><code>[ -z $a ]</code>  返回 false。</td>
</tr>
<tr>
<td style="text-align:left">-n</td>
<td style="text-align:left">检测字符串长度是否为 0，不为 0 返回 true。</td>
<td style="text-align:left"><code>[ -n &quot;$a&quot; ]</code>  返回 true。</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left">检测字符串是否为空，不为空返回 true。</td>
<td style="text-align:left"><code>[ $a ]</code>  返回 true。</td>
</tr>
</tbody>
</table>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token string">"abc"</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token string">"efg"</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> = <span class="token variable">$b</span> : a 等于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> = <span class="token variable">$b</span>: a 不等于 b"</span>
<span class="token keyword">fi</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span> : a 不等于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> != <span class="token variable">$b</span>: a 等于 b"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-183"><a class="markdownIt-Anchor" href="#-183">#</a> <a href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"></a>关系运算符</h4>
<p>关系运算符只支持数字，不支持字符串，除非字符串的值是数字。</p>
<p>下表列出了常用的关系运算符，假定变量 a 为 10，变量 b 为 20：</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">举例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-eq</td>
<td style="text-align:left">检测两个数是否相等，相等返回 true。</td>
<td style="text-align:left"><code>[ $a -eq $b ]</code>  返回 false。</td>
</tr>
<tr>
<td style="text-align:left">-ne</td>
<td style="text-align:left">检测两个数是否不相等，不相等返回 true。</td>
<td style="text-align:left"><code>[ $a -ne $b ]</code>  返回 true。</td>
</tr>
<tr>
<td style="text-align:left">-gt</td>
<td style="text-align:left">检测左边的数是否大于右边的，如果是，则返回 true。</td>
<td style="text-align:left"><code>[ $a -gt $b ]</code>  返回 false。</td>
</tr>
<tr>
<td style="text-align:left">-lt</td>
<td style="text-align:left">检测左边的数是否小于右边的，如果是，则返回 true。</td>
<td style="text-align:left"><code>[ $a -lt $b ]</code>  返回 true。</td>
</tr>
<tr>
<td style="text-align:left">-ge</td>
<td style="text-align:left">检测左边的数是否大于等于右边的，如果是，则返回 true。</td>
<td style="text-align:left"><code>[ $a -ge $b ]</code>  返回 false。</td>
</tr>
<tr>
<td style="text-align:left">-le</td>
<td style="text-align:left">检测左边的数是否小于等于右边的，如果是，则返回 true。</td>
<td style="text-align:left"><code>[ $a -le $b ]</code>  返回 true。</td>
</tr>
</tbody>
</table>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -eq <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> -eq <span class="token variable">$b</span> : a 等于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$a</span> -eq <span class="token variable">$b</span>: a 不等于 b"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-184"><a class="markdownIt-Anchor" href="#-184">#</a> <a href="#%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E7%AC%A6"></a>布尔运算符</h4>
<p>下表列出了常用的布尔运算符，假定变量 a 为 10，变量 b 为 20：</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">举例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">非运算，表达式为 true 则返回 false，否则返回 true。</td>
<td style="text-align:left">[! false] 返回 true。</td>
</tr>
<tr>
<td style="text-align:left">-o</td>
<td style="text-align:left">或运算，有一个表达式为 true 则返回 true。</td>
<td style="text-align:left"><code>[ $a -lt 20 -o $b -gt 100 ]</code> true</td>
</tr>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">与运算，两个表达式都为 true 才返回 true。</td>
<td style="text-align:left"><code>[ $a -lt 20 -a $b -gt 100 ]</code> false</td>
</tr>
</tbody>
</table>
<h4 id="-185"><a class="markdownIt-Anchor" href="#-185">#</a> <a href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"></a>逻辑运算符</h4>
<p>假定变量 a 为 10，变量 b 为 20:</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">举例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">&amp;&amp;</td>
<td style="text-align:left">逻辑的 AND</td>
<td style="text-align:left"><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</code>  返回 false</td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
</tr>
</tbody>
</table>
<hr>
<h3 id="-186"><a class="markdownIt-Anchor" href="#-186">#</a> <a href="#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"></a>流程控制</h3>
<h4 id="-187"><a class="markdownIt-Anchor" href="#-187">#</a> <a href="#if"></a>if</h4>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1 
    command2
    <span class="token punctuation">..</span>.
    commandN 
<span class="token keyword">fi</span>
<span class="token comment">#末尾的fi就是if倒过来拼写</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">if</span> condition
<span class="token keyword">then</span>
    command1 
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">else</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">if</span> condition1
<span class="token keyword">then</span>
    command1
<span class="token keyword">elif</span> condition2 
<span class="token keyword">then</span> 
    command2
<span class="token keyword">else</span>
    commandN
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>查找一个进程，如果进程存在就打印 true</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable"><span class="token variable">$(</span><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> -c <span class="token string">"ssh"</span><span class="token variable">)</span></span> -gt <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token keyword">then</span> 
	<span class="token builtin class-name">echo</span> <span class="token string">"true"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>判断两个变量是否相等</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">10</span>
<span class="token assign-left variable">b</span><span class="token operator">=</span><span class="token number">20</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> <span class="token operator">==</span> <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"a 等于 b"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -gt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"a 大于 b"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$a</span> -lt <span class="token variable">$b</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"a 小于 b"</span>
<span class="token keyword">else</span>
   <span class="token builtin class-name">echo</span> <span class="token string">"没有符合的条件"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h4 id="-188"><a class="markdownIt-Anchor" href="#-188">#</a> <a href="#for"></a>for</h4>
<p>for 循环格式为：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">var</span> <span class="token keyword">in</span> item1 item2 <span class="token punctuation">..</span>. itemN
<span class="token keyword">do</span>
    command1
    command2
    <span class="token punctuation">..</span>.
    commandN
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>顺序输出当前列表中的字母：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">for</span> <span class="token for-or-select variable">loop</span> <span class="token keyword">in</span> A B C D E F G 
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"顺序输出字母为: <span class="token variable">$loop</span>"</span>
<span class="token keyword">done</span>

顺序输出字母为:A
顺序输出字母为:B
<span class="token punctuation">..</span><span class="token punctuation">..</span>
顺序输出字母为:G<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-189"><a class="markdownIt-Anchor" href="#-189">#</a> <a href="#while"></a>while</h4>
<p>while 循环用于不断执行一系列命令，也用于从输入文件中读取数据</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">while</span> condition
<span class="token keyword">do</span>
    <span class="token builtin class-name">command</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>需求：如果 int 小于等于 10，那么条件返回真。int 从 0 开始，每次循环处理时，int 加 1。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$&#123;a&#125;</span>"</span> -le <span class="token number">10</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"输出的值为："</span> <span class="token variable">$a</span>
    <span class="token variable"><span class="token punctuation">((</span>a<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">done</span>
输出的值为：1
输出的值为：2
<span class="token punctuation">..</span>.
输出的值为：10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-190"><a class="markdownIt-Anchor" href="#-190">#</a> <a href="#caseesac"></a>case…esac</h4>
<p>与 switch … case 语句类似，是一种多分枝选择结构，每个 case 分支用右圆括号开始，用两个分号 <strong>;;</strong> 表示 break，即执行结束，跳出整个 case … esac 语句，esac（就是 case 反过来）作为结束标记。</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token keyword">case</span> 值 <span class="token keyword">in</span>  
模式1<span class="token punctuation">)</span>
    command1
    command2
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
模式2）
    command1
    command2
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
    command1
    command2
    command3
    <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span>  <span class="token comment">#case反过来</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>case 后为取值，值可以为变量或常数。</p>
</li>
<li>
<p>值后为关键字 in，接下来是匹配的各种模式，每一模式最后必须以右括号结束，模式支持正则表达式。</p>
</li>
</ul>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token assign-left variable">v</span><span class="token operator">=</span><span class="token string">"czbk"</span>

<span class="token keyword">case</span> <span class="token string">"<span class="token variable">$v</span>"</span> <span class="token keyword">in</span>
<span class="token string">"czbk"</span><span class="token punctuation">)</span> 
	<span class="token builtin class-name">echo</span> <span class="token string">"传智播客"</span>
   	<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"baidu"</span><span class="token punctuation">)</span> 
	<span class="token builtin class-name">echo</span> <span class="token string">"baidu 搜索"</span>
	<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"google"</span><span class="token punctuation">)</span> 
	<span class="token builtin class-name">echo</span> <span class="token string">"google 搜索"</span>
   	<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h3 id="-191"><a class="markdownIt-Anchor" href="#-191">#</a> <a href="#%E5%87%BD%E6%95%B0"></a>函数</h3>
<h4 id="-192"><a class="markdownIt-Anchor" href="#-192">#</a> <a href="#%E8%BE%93%E5%85%A5"></a>输入</h4>
<p>函数语法如下：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token punctuation">[</span> <span class="token keyword">function</span> <span class="token punctuation">]</span> funname <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token punctuation">&#123;</span>
    action<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>1、可以使用 function fun () 定义函数，也可以直接 fun () 定义，不带任何参数。</li>
<li>2、函数参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return 后跟数值 n (0-255</li>
</ul>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment">#无参无返回值的方法</span>
<span class="token function-name function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"函数执行了!"</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">#方法的调用</span>
<span class="token comment">#method</span>



<span class="token comment">#有参无返回值的方法</span>
<span class="token function-name function">method2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"接收到的第一个参数<span class="token variable">$1</span>"</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"接收到的第二个参数<span class="token variable">$2</span>"</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">#方法的调用</span>
<span class="token comment">#method2 1 2</span>

<span class="token comment">#有参有返回值方法的定义</span>
<span class="token function-name function">method3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"接收到的第一个参数<span class="token variable">$1</span>"</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"接收到的第二个参数<span class="token variable">$2</span>"</span>
	<span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>$<span class="token number">1</span> <span class="token operator">+</span> $<span class="token number">2</span><span class="token variable">))</span></span>
<span class="token punctuation">&#125;</span>

<span class="token comment">#方法的调用</span>
method3 <span class="token number">10</span> <span class="token number">20</span>
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="-193"><a class="markdownIt-Anchor" href="#-193">#</a> <a href="#%E8%AF%BB%E5%8F%96"></a>读取</h4>
<p><code>read 变量名</code>  — 表示把键盘录入的数据复制给这个变量</p>
<p>需求：在方法中键盘录入两个整数，返回这两个整数的和</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function-name function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token builtin class-name">echo</span> <span class="token string">"请录入第一个数"</span>
	<span class="token builtin class-name">read</span> number1
	<span class="token builtin class-name">echo</span> <span class="token string">"请录入第二个数"</span>
	<span class="token builtin class-name">read</span> number2
	<span class="token builtin class-name">echo</span> <span class="token string">"两个数字分别为<span class="token variable">$&#123;number1&#125;</span>,<span class="token variable">$&#123;number2&#125;</span>"</span>
	<span class="token builtin class-name">return</span> <span class="token variable"><span class="token variable">$((</span>number1<span class="token operator">+</span>number2<span class="token variable">))</span></span>
<span class="token punctuation">&#125;</span>

method
<span class="token builtin class-name">echo</span> <span class="token variable">$?</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h1 id="-194"><a class="markdownIt-Anchor" href="#-194">#</a> <a href="#docker"></a>Docker</h1>
<h2 id="-195"><a class="markdownIt-Anchor" href="#-195">#</a> <a href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0"></a>基本概述</h2>
<p>Docker 是一个开源的应用容器引擎，诞生于 2013 年初，基于 Go 语言实现， dotCloud 公司出品</p>
<p>Docker 让开发者打包开发应用以及依赖包到一个轻量级、可移植的容器中，可以发布到任何 Linux 机器上</p>
<ul>
<li>
<p>容器是完全使用沙箱机制，相互隔离</p>
</li>
<li>
<p>容器性能开销极低。</p>
</li>
</ul>
<p>Docker 架构：</p>
<ul>
<li>
<p>** 镜像（Image）：**Docker 镜像，就相当于一个 root 文件系统。比如官方镜像 ubuntu:16.04 就包含了完整的一套 Ubuntu16.04 最小系统的 root 文件系统</p>
</li>
<li>
<p><strong>容器（Container）</strong>：镜像（Image）和容器（Container）的关系，就像是面向对象程序设计中的类和对象一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以被创建、启动、停止、删除、暂停等</p>
</li>
<li>
<p><strong>仓库（Repository）</strong>：仓库可看成一个代码控制中心，用来保存镜像</p>
</li>
</ul>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d646f636b65722545362539452542362545362539452538342e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/7b7acd99ee8ea35cb008494ac2547da81a40503c0ee3f68bc371c7aa007392ad/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d646f636b65722545362539452542362545362539452538342e706e67">https://camo.githubusercontent.com/7b7acd99ee8ea35cb008494ac2547da81a40503c0ee3f68bc371c7aa007392ad/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d646f636b65722545362539452542362545362539452538342e706e67</a>)</p>
<p>安装步骤：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># step 1: 安装必要的一些系统工具</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> apt-transport-https ca-certificates <span class="token function">curl</span> software-properties-common
<span class="token comment"># step 2: 安装GPG证书</span>
<span class="token function">curl</span> -fsSL https://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg <span class="token operator">|</span> <span class="token function">sudo</span> apt-key <span class="token function">add</span> -
<span class="token comment"># Step 3: 写入软件源信息</span>
<span class="token function">sudo</span> add-apt-repository <span class="token string">"deb [arch=amd64] https://mirrors.aliyun.com/docker-ce/linux/ubuntu <span class="token variable"><span class="token variable">$(</span>lsb_release -cs<span class="token variable">)</span></span> stable"</span>
<span class="token comment"># Step 4: 更新并安装Docker-CE</span>
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y update
<span class="token function">sudo</span> <span class="token function">apt-get</span> -y <span class="token function">install</span> docker-ce<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>配置镜像加速器：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">'EOF'
&#123;
  "registry-mirrors": ["https://hicqe4pi.mirror.aliyuncs.com"]
&#125;
EOF</span>
<span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="-196"><a class="markdownIt-Anchor" href="#-196">#</a> <a href="#%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"></a>操作命令</h2>
<h3 id="-197"><a class="markdownIt-Anchor" href="#-197">#</a> <a href="#%E8%BF%9B%E7%A8%8B%E7%9B%B8%E5%85%B3"></a>进程相关</h3>
<ul>
<li>
<p>启动 docker 服务：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>停止 docker 服务：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">systemctl stop docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>重启 doker 服务：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">systemctl restart docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>查看 doker 服务状态：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">systemctl status docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>设置开机启动 docker 服务：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">systemctl <span class="token builtin class-name">enable</span> docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<h3 id="-198"><a class="markdownIt-Anchor" href="#-198">#</a> <a href="#%E9%95%9C%E5%83%8F%E7%9B%B8%E5%85%B3"></a>镜像相关</h3>
<ul>
<li>
<p>查看镜像：查看本地所有的镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker images
docker images –q <span class="token comment"># 查看所用镜像的id</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p>搜索镜像：从网络中查找需要的镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker search 镜像名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>拉取镜像：从 Docker 仓库下载镜像到本地，镜像名称格式为 名称：版本号，如果版本号不指定则是最新的版本。如果不知道镜像版本，可以去 docker hub 搜索对应镜像查看</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker pull 镜像名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>删除镜像：删除本地镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker rmi 镜像id <span class="token comment"># 删除指定本地镜像</span>
docker rmi <span class="token variable"><span class="token variable">`</span>docker images -q<span class="token variable">`</span></span>  <span class="token comment"># 删除所有本地镜像 tab上面的键</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<h3 id="-199"><a class="markdownIt-Anchor" href="#-199">#</a> <a href="#%E5%AE%B9%E5%99%A8%E7%9B%B8%E5%85%B3"></a>容器相关</h3>
<ul>
<li>
<p>查看容器：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker <span class="token function">ps</span> <span class="token comment"># 查看正在运行的容器</span>
docker <span class="token function">ps</span> –a <span class="token comment"># 查看所有容器</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p>创建并启动容器：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run 参数  --name<span class="token operator">=</span><span class="token punctuation">..</span>. /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>参数说明：</p>
<ul>
<li>-i：保持容器运行，通常与 -t 同时使用，加入 it 这两个参数后，容器创建后自动进入容器中，退出容器后，容器自动关闭</li>
<li>-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用</li>
<li>-d：以守护（后台）模式运行容器。创建一个容器在后台运行，需要使用 docker exec 进入容器。退出后，容器不会关闭</li>
<li><strong>-it 创建的容器一般称为交互式容器，-id 创建的容器一般称为守护式容器</strong></li>
<li><strong>–name：为创建的容器命名</strong></li>
</ul>
</li>
<li>
<p>进入容器：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker <span class="token builtin class-name">exec</span> 参数 <span class="token comment"># 退出容器，容器不会关闭</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>停止容器：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker stop 容器名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>启动容器：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker start 容器名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>删除容器：如果容器是运行状态则删除失败，需要停止容器才能删除</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker <span class="token function">rm</span> 容器名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>查看容器信息：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker inspect 容器名称<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ul>
<hr>
<h2 id="-200"><a class="markdownIt-Anchor" href="#-200">#</a> <a href="#%E6%95%B0%E6%8D%AE%E5%8D%B7"></a>数据卷</h2>
<blockquote>
<p>Docker 容器删除后，在容器中产生的数据也会随之销毁 Docker 容器和外部机器可以直接交换文件吗？ 容器之间想要进行数据交互？</p>
</blockquote>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722de5aeb9e599a8e79a84e695b0e68daee58db72e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/ac345d963b7b47cb7c9a952f76edbd10b5f212b9657071c1e82006631c1e1469/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722de5aeb9e599a8e79a84e695b0e68daee58db72e706e67">https://camo.githubusercontent.com/ac345d963b7b47cb7c9a952f76edbd10b5f212b9657071c1e82006631c1e1469/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722de5aeb9e599a8e79a84e695b0e68daee58db72e706e67</a>)</p>
<p><strong>数据卷</strong>：数据卷是宿主机中的一个目录或文件，当容器目录和数据卷目录绑定后，对方的修改会立即同步</p>
<ul>
<li>
<p>一个数据卷可以被多个容器同时挂载</p>
</li>
<li>
<p>一个容器也可以被挂载多个数据卷</p>
</li>
</ul>
<p>数据卷的作用：</p>
<ul>
<li>容器数据持久化</li>
<li>外部机器和容器间接通信</li>
<li>容器之间数据交换</li>
</ul>
<p>配置数据卷</p>
<ul>
<li>
<p>创建启动容器时，使用 - v 参数设置数据卷</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run <span class="token punctuation">..</span>. –v 宿主机目录<span class="token punctuation">(</span>文件<span class="token punctuation">)</span>:容器内目录<span class="token punctuation">(</span>文件<span class="token punctuation">)</span> <span class="token punctuation">..</span>. 
docker run -it --name<span class="token operator">=</span>c1 -v /root<span class="token punctuation">(</span>or~<span class="token punctuation">)</span>/data:/root/data_container centos:7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>注意事项：</p>
<ol>
<li>
<p>目录必须是绝对路径</p>
</li>
<li>
<p>如果目录不存在，会自动创建</p>
</li>
<li>
<p>可以挂载多个数据卷</p>
</li>
</ol>
</li>
</ul>
<p>多容器进行数据交换：</p>
<ul>
<li>多个容器挂载同一个数据卷</li>
<li>数据卷容器</li>
</ul>
<p>[<img src="https://camo.githubusercontent.com/38bb340e008dcfd6aef5fc67484c7629532eef584681c48a2571bdd2e8dad2c7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722de5a49ae5aeb9e599a8e695b0e68daee4baa4e68da22e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/38bb340e008dcfd6aef5fc67484c7629532eef584681c48a2571bdd2e8dad2c7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722de5a49ae5aeb9e599a8e695b0e68daee4baa4e68da22e706e67">https://camo.githubusercontent.com/38bb340e008dcfd6aef5fc67484c7629532eef584681c48a2571bdd2e8dad2c7/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722de5a49ae5aeb9e599a8e695b0e68daee4baa4e68da22e706e67</a>)</p>
<ul>
<li>
<p>创建启动 c3 数据卷容器，使用 –v 参数设置数据卷</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run –it --name<span class="token operator">=</span>c3 –v /volume centos:7 /bin/bash <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>创建启动 c1 c2 容器，使用 –-volumes-from 参数设置数据卷</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run –it --name<span class="token operator">=</span>c1 --volumes-from c3 centos:7 /bin/bash
docker run –it --name<span class="token operator">=</span>c2 --volumes-from c3 centos:7 /bin/bash  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<h2 id="-201"><a class="markdownIt-Anchor" href="#-201">#</a> <a href="#%E5%BA%94%E7%94%A8%E9%83%A8%E7%BD%B2"></a>应用部署</h2>
<h3 id="-202"><a class="markdownIt-Anchor" href="#-202">#</a> <a href="#mysql"></a>MySQL</h3>
<p>在 Docker 容器中部署 MySQL，通过外部 mysql 客户端操作 MySQL Server</p>
<p>端口映射：</p>
<ul>
<li>
<p>容器内的网络服务和外部机器不能直接通信，外部机器和宿主机可以直接通信，宿主机和容器可以直接通信</p>
</li>
<li>
<p>当容器中的网络服务需要被外部机器访问时，可以将容器中提供服务的端口映射到宿主机的端口上。外部机器访问宿主机的该端口，从而间接访问容器的服务。这种操作称为：<strong>端口映射</strong></p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d4d7953514c2545392538332541382545372542442542322e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/4f6b6ed635cf264c23b033c7b706ffcff0b52558939c637c0d64662ea01e4f2a/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d4d7953514c2545392538332541382545372542442542322e706e67">https://camo.githubusercontent.com/4f6b6ed635cf264c23b033c7b706ffcff0b52558939c637c0d64662ea01e4f2a/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d4d7953514c2545392538332541382545372542442542322e706e67</a>)</p>
</li>
</ul>
<p>MySQL 部署步骤：搜索 mysql 镜像，拉取 mysql 镜像，创建容器，操作容器中的 mysql</p>
<ol>
<li>
<p>搜索 mysql 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker search mysql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>拉取 mysql 镜像</p>
<pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">docker pull mysql:<span class="token number">5.6</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>创建容器，设置端口映射、目录映射</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 在/root目录下创建mysql目录用于存储mysql数据信息</span>
<span class="token function">mkdir</span> ~/mysql
<span class="token builtin class-name">cd</span> ~/mysql<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run -id <span class="token punctuation">\</span>
-p <span class="token number">3307</span>:3306 <span class="token punctuation">\</span>
--name<span class="token operator">=</span>c_mysql <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>/conf:/etc/mysql/conf.d <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>/logs:/logs <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>/data:/var/lib/mysql <span class="token punctuation">\</span>
-e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token punctuation">\</span>
mysql:5.6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>参数说明：</p>
<ul>
<li><code>-p 3307:3306</code> ：将容器的 3306 端口映射到宿主机的 3307 端口</li>
<li><code>-v $PWD/conf:/etc/mysql/conf.d</code> ：将主机当前目录下的 conf/my.cnf 挂载到容器的 /etc/mysql/my.cnf，配置目录</li>
<li><code>-v $PWD/logs:/logs</code> ：将主机当前目录下的 logs 目录挂载到容器的 /logs，日志目录</li>
<li><code>-v $PWD/data:/var/lib/mysql</code>  ：将主机当前目录下的 data 目录挂载到容器的 /var/lib/mysql 。数据目录</li>
<li><code>-e MYSQL_ROOT_PASSWORD=123456</code> **：** 初始化 root 用户的密码。</li>
</ul>
</li>
<li>
<p>进入容器，操作 mysql</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker <span class="token builtin class-name">exec</span> –it c_mysql /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>使用外部机器连接容器中的 mysql</p>
</li>
</ol>
<hr>
<h3 id="-203"><a class="markdownIt-Anchor" href="#-203">#</a> <a href="#tomcat"></a>Tomcat</h3>
<ol>
<li>
<p>搜索 tomcat 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker search tomcat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>拉取 tomcat 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker pull tomcat<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>创建容器，设置端口映射、目录映射</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 在/root目录下创建tomcat目录用于存储tomcat数据信息</span>
<span class="token function">mkdir</span> ~/tomcat
<span class="token builtin class-name">cd</span> ~/tomcat<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run -id --name<span class="token operator">=</span>c_tomcat <span class="token punctuation">\</span>
-p <span class="token number">8080</span>:8080 <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>:/usr/local/tomcat/webapps <span class="token punctuation">\</span>
tomcat <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>参数说明：</p>
<ul>
<li>
<p><code>-p 8080:8080</code> ：将容器的 8080 端口映射到主机的 8080 端口</p>
</li>
<li>
<p><code>-v $PWD:/usr/local/tomcat/webapps</code> ：将主机中当前目录挂载到容器的 webapps</p>
</li>
</ul>
</li>
<li>
<p>使用外部机器访问 tomcat</p>
</li>
</ol>
<hr>
<h3 id="-204"><a class="markdownIt-Anchor" href="#-204">#</a> <a href="#nginx"></a>Nginx</h3>
<ol>
<li>
<p>搜索 nginx 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker search nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>拉取 nginx 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker pull nginx<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>创建容器，设置端口映射、目录映射</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 在/root目录下创建nginx目录用于存储nginx数据信息</span>
<span class="token function">mkdir</span> ~/nginx
<span class="token builtin class-name">cd</span> ~/nginx
<span class="token function">mkdir</span> conf
<span class="token builtin class-name">cd</span> conf
<span class="token comment"># 在~/nginx/conf/下创建nginx.conf文件,粘贴下面内容</span>
<span class="token function">vim</span> nginx.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">user  nginx<span class="token punctuation">;</span>
worker_processes  <span class="token number">1</span><span class="token punctuation">;</span>

error_log  /var/log/nginx/error.log warn<span class="token punctuation">;</span>
pid        /var/run/nginx.pid<span class="token punctuation">;</span>


events <span class="token punctuation">&#123;</span>
    worker_connections  <span class="token number">1024</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>


http <span class="token punctuation">&#123;</span>
    include       /etc/nginx/mime.types<span class="token punctuation">;</span>
    default_type  application/octet-stream<span class="token punctuation">;</span>

    log_format  main  <span class="token string">'$remote_addr - $remote_user [$time_local] "$request" '</span>
                      <span class="token string">'$status $body_bytes_sent "$http_referer" '</span>
                      <span class="token string">'"$http_user_agent" "$http_x_forwarded_for"'</span><span class="token punctuation">;</span>

    access_log  /var/log/nginx/access.log  main<span class="token punctuation">;</span>

    sendfile        on<span class="token punctuation">;</span>
    <span class="token comment">#tcp_nopush     on;</span>

    keepalive_timeout  <span class="token number">65</span><span class="token punctuation">;</span>

    <span class="token comment">#gzip  on;</span>

    include /etc/nginx/conf.d/*.conf<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run -id --name<span class="token operator">=</span>c_nginx <span class="token punctuation">\</span>
-p <span class="token number">80</span>:80 <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>/conf/nginx.conf:/etc/nginx/nginx.conf <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>/logs:/var/log/nginx <span class="token punctuation">\</span>
-v <span class="token environment constant">$PWD</span>/html:/usr/share/nginx/html <span class="token punctuation">\</span>
nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>参数说明：</p>
<ul>
<li><code>-p 80:80</code> ：将容器的 80 端口映射到宿主机的 80 端口</li>
<li><code>-v $PWD/conf/nginx.conf:/etc/nginx/nginx.conf</code> ：将主机当前目录下的 /conf/nginx.conf 挂载到容器的 :/etc/nginx/nginx.conf，配置目录</li>
<li><code>-v $PWD/logs:/var/log/nginx</code> ：将主机当前目录下的 logs 目录挂载到容器的 /var/log/nginx，日志目录</li>
</ul>
</li>
<li>
<p>使用外部机器访问 nginx</p>
</li>
</ol>
<hr>
<h3 id="-205"><a class="markdownIt-Anchor" href="#-205">#</a> <a href="#redis"></a>Redis</h3>
<ol>
<li>
<p>搜索 redis 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker search redis<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>拉取 redis 镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker pull redis:5.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>创建容器，设置端口映射</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker run -id --name<span class="token operator">=</span>c_redis -p <span class="token number">6379</span>:6379 redis:5.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>使用外部机器连接 redis</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">./redis-cli.exe -h <span class="token number">192.168</span>.149.135 -p <span class="token number">6379</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<hr>
<h2 id="-206"><a class="markdownIt-Anchor" href="#-206">#</a> <a href="#%E9%95%9C%E5%83%8F%E5%8E%9F%E7%90%86"></a>镜像原理</h2>
<h3 id="-207"><a class="markdownIt-Anchor" href="#-207">#</a> <a href="#%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"></a>底层原理</h3>
<blockquote>
<p>Docker 镜像本质是什么？ Docker 中一个 centos 镜像为什么只有 200MB，而一个 centos 操作系统的 iso 文件要几个个 G？ Docker 中一个 tomcat 镜像为什么有 500MB，而一个 tomcat 安装包只有 70 多 MB？</p>
</blockquote>
<p>操作系统的组成部分：进程调度子系统、进程通信子系统、内存管理子系统、设备管理子系统、文件管理子系统、网络通信子系统、作业控制子系统</p>
<p>Linux 文件系统由 bootfs 和 rootfs 两部分组成：</p>
<ul>
<li>
<p>bootfs：包含 bootloader（引导加载程序）和 kernel（内核）</p>
</li>
<li>
<p>rootfs： root 文件系统，包含的就是典型 Linux 系统中的 /dev，/proc，/bin，/etc 等标准目录和文件</p>
</li>
<li>
<p>不同的 linux 发行版，bootfs 基本一样，而 rootfs 不同，如 ubuntu，centos</p>
</li>
</ul>
<p>Docker 镜像原理：</p>
<ul>
<li>
<p>Docker 镜像是一个<strong>分层文件系统</strong>，是由特殊的文件系统叠加而成，最底端是 bootfs，并复用宿主机的 bootfs ，第二层是 root 文件系统 rootfs 称为 base image，然后再往上可以叠加其他的镜像文件</p>
</li>
<li>
<p>统一文件系统（Union File System）技术能够将不同的层整合成一个文件系统，为这些层提供了一个统一的视角，这样就隐藏了多层的存在，在用户的角度看来，只存在一个文件系统</p>
</li>
<li>
<p>一个镜像可以放在另一个镜像的上面。位于下面的镜像称为父镜像，最底部的镜像成为基础镜像。</p>
</li>
<li>
<p>当从一个镜像启动容器时，Docker 会在最顶层加载一个读写文件系统作为容器</p>
</li>
</ul>
<p>问题：</p>
<ul>
<li>Docker 中一个 Ubuntu 镜像为什么只有 200MB，而一个 Ubuntu 操作系统的 iso 文件要几个个 G？ Ubuntu 的 iso 镜像文件包含 bootfs 和 rootfs，而 docker 的 Ubuntu 镜像复用操作系统的 bootfs，只有 rootfs 和其他镜像层</li>
<li>Docker 中一个 tomcat 镜像为什么有 500MB，而一个 tomcat 安装包只有 70 多 MB？ 由于 docker 中镜像是分层的，tomcat 虽然只有 70 多 MB，但他需要依赖于父镜像和基础镜像，所有整个对外暴露的 tomcat 镜像大小 500 多 MB</li>
</ul>
<hr>
<h3 id="-208"><a class="markdownIt-Anchor" href="#-208">#</a> <a href="#%E9%95%9C%E5%83%8F%E5%88%B6%E4%BD%9C"></a>镜像制作</h3>
<p>[<img src="https://camo.githubusercontent.com/531804cb062fa8c0b1d067935fbc62ae667faa848e564aa82deba7bdf1388363/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d446f636b65722545392539352539432545352538332538462545352538452539462545372539302538362e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/531804cb062fa8c0b1d067935fbc62ae667faa848e564aa82deba7bdf1388363/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d446f636b65722545392539352539432545352538332538462545352538452539462545372539302538362e706e67">https://camo.githubusercontent.com/531804cb062fa8c0b1d067935fbc62ae667faa848e564aa82deba7bdf1388363/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d446f636b65722545392539352539432545352538332538462545352538452539462545372539302538362e706e67</a>)</p>
<hr>
<h3 id="-209"><a class="markdownIt-Anchor" href="#-209">#</a> <a href="#dockerfile"></a>Dockerfile</h3>
<h4 id="-210"><a class="markdownIt-Anchor" href="#-210">#</a> <a href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E8%BF%B0-1"></a>基本概述</h4>
<p>Dockerfile 是一个文本文件，包含一条条的指令，每一条指令构建一层，基于基础镜像最终构建出新的镜像</p>
<ul>
<li>
<p>对于开发人员：可以为开发团队提供一个完全一致的开发环境</p>
</li>
<li>
<p>对于测试人员：可以直接拿开发时所构建的镜像或者通过 Dockerfile 文件构建一个新的镜像开始工作了</p>
</li>
<li>
<p>对于运维人员：在部署时，可以实现应用的无缝移植</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>关键字</th>
<th>作用</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>FROM</td>
<td>指定父镜像</td>
<td>指定 dockerfile 基于那个 image 构建</td>
</tr>
<tr>
<td>MAINTAINER</td>
<td>作者信息</td>
<td>用来标明这个 dockerfile 谁写的</td>
</tr>
<tr>
<td>LABEL</td>
<td>标签</td>
<td>用来标明 dockerfile 的标签 可以使用 Label 代替 Maintainer 最终都是在 docker image 基本信息中可以查看</td>
</tr>
<tr>
<td>RUN</td>
<td>执行命令</td>
<td>执行一段命令 默认是 /bin/sh 格式: RUN command 或者 RUN [“command” , “param1”,“param2”]</td>
</tr>
<tr>
<td>CMD</td>
<td>容器启动命令</td>
<td>提供启动容器时候的默认命令 和 ENTRYPOINT 配合使用。格式 CMD command param1 param2 或者 CMD [“command” , “param1”,“param2”]</td>
</tr>
<tr>
<td>ENTRYPOINT</td>
<td>入口</td>
<td>一般在制作一些执行就关闭的容器中会使用</td>
</tr>
<tr>
<td>COPY</td>
<td>复制文件</td>
<td>build 的时候复制文件到 image 中</td>
</tr>
<tr>
<td>ADD</td>
<td>添加文件</td>
<td>build 的时候添加文件到 image 中 不仅仅局限于当前 build 上下文 可以来源于远程服务</td>
</tr>
<tr>
<td>ENV</td>
<td>环境变量</td>
<td>指定 build 时候的环境变量 可以在启动的容器的时候 通过 - e 覆盖 格式 ENV name=value</td>
</tr>
<tr>
<td>ARG</td>
<td>构建参数</td>
<td>构建参数 只在构建的时候使用的参数 如果有 ENV 那么 ENV 的相同名字的值始终覆盖 arg 的参数</td>
</tr>
<tr>
<td>VOLUME</td>
<td>定义外部可以挂载的数据卷</td>
<td>指定 build 的 image 那些目录可以启动的时候挂载到文件系统中 启动容器的时候使用 -v 绑定 格式 VOLUME [“目录”]</td>
</tr>
<tr>
<td>EXPOSE</td>
<td>暴露端口</td>
<td>定义容器运行的时候监听的端口 启动容器的使用 - p 来绑定暴露端口 格式: EXPOSE 8080 或者 EXPOSE 8080/udp</td>
</tr>
<tr>
<td>WORKDIR</td>
<td>工作目录</td>
<td>指定容器内部的工作目录 如果没有创建则自动创建 如果指定 / 使用的是绝对地址 如果不是 / 开头那么是在上一条 workdir 的路径的相对路径</td>
</tr>
<tr>
<td>USER</td>
<td>指定执行用户</td>
<td>指定 build 或者启动的时候 用户 在 RUN CMD ENTRYPONT 执行的时候的用户</td>
</tr>
<tr>
<td>HEALTHCHECK</td>
<td>健康检查</td>
<td>指定监测当前容器的健康监测的命令 基本上没用 因为很多时候 应用本身有健康监测机制</td>
</tr>
<tr>
<td>ONBUILD</td>
<td>触发器</td>
<td>当存在 ONBUILD 关键字的镜像作为基础镜像的时候 当执行 FROM 完成之后 会执行 ONBUILD 的命令 但是不影响当前镜像 用处也不怎么大</td>
</tr>
<tr>
<td>STOPSIGNAL</td>
<td>发送信号量到宿主机</td>
<td>该 STOPSIGNAL 指令设置将发送到容器的系统调用信号以退出。</td>
</tr>
<tr>
<td>SHELL</td>
<td>指定执行脚本的 shell</td>
<td>指定 RUN CMD ENTRYPOINT 执行命令的时候 使用的 shell</td>
</tr>
</tbody>
</table>
<h4 id="-211"><a class="markdownIt-Anchor" href="#-211">#</a> <a href="#centos"></a>Centos</h4>
<p>自定义 centos7 镜像：</p>
<ol>
<li>
<p>默认登录路径为 /usr</p>
</li>
<li>
<p>可以使用 vim</p>
</li>
</ol>
<p>实现步骤：</p>
<ol>
<li>定义父镜像：FROM centos:7</li>
<li>定义作者信息：MAINTAINER seazean &lt; <a href="mailto:zhyzhyang@sina.com">zhyzhyang@sina.com</a>&gt;</li>
<li>执行安装 vim 命令： RUN yum install -y vim</li>
<li>定义默认的工作目录：WORKDIR /usr</li>
<li>定义容器启动执行的命令：CMD /bin/bash</li>
<li>通过 dockerfile 构建镜像：docker bulid –f dockerfile 文件路径 –t 镜像名称：版本</li>
</ol>
<h4 id="-212"><a class="markdownIt-Anchor" href="#-212">#</a> <a href="#boot"></a>Boot</h4>
<p>定义 dockerfile，发布 springboot 项目：</p>
<p>实现步骤：</p>
<ol>
<li>
<p>定义父镜像：FROM java:8</p>
</li>
<li>
<p>定义作者信息：MAINTAINER seazean &lt; <a href="mailto:zhyzhyang@sina.com">zhyzhyang@sina.com</a>&gt;</p>
</li>
<li>
<p>将 jar 包添加到容器： ADD springboot.jar app.jar</p>
</li>
<li>
<p>定义容器启动执行的命令：CMD java–jar app.jar</p>
</li>
<li>
<p>通过 dockerfile 构建镜像：docker bulid –f dockerfile 文件路径 –t 镜像名称：版本</p>
</li>
</ol>
<hr>
<h2 id="-213"><a class="markdownIt-Anchor" href="#-213">#</a> <a href="#%E6%9C%8D%E5%8A%A1%E7%BC%96%E6%8E%92"></a>服务编排</h2>
<h3 id="-214"><a class="markdownIt-Anchor" href="#-214">#</a> <a href="#%E5%9F%BA%E6%9C%AC%E4%BB%8B%E7%BB%8D"></a>基本介绍</h3>
<p>微服务架构的应用系统中一般包含若干个微服务，每个微服务一般都会部署多个实例，如果每个微服务都要手动启停，维护的工作量会很大。</p>
<ul>
<li>从 Dockerfile build image 或者去 dockerhub 拉取 image；</li>
<li>创建多个 container，管理这些 container（启动停止删除）</li>
</ul>
<p><strong>服务编排</strong>：按照一定的业务规则批量管理容器</p>
<p>Docker Compose 是一个编排多容器分布式部署的工具，提供命令集管理容器化应用的完整开发周期，包括服务构建，启动和停止。使用步骤：</p>
<ol>
<li>
<p>利用 Dockerfile 定义运行环境镜像</p>
</li>
<li>
<p>使用 docker-compose.yml 定义组成应用的各服务</p>
</li>
<li>
<p>运行 docker-compose up 启动应用</p>
</li>
</ol>
<p>[<img src="https://camo.githubusercontent.com/d02d930d6c8c6a7f114c6a3cfba2f3c54d61f2f1229d2b1b2882d25d9a0a4ef2/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d436f6d706f73652545352538452539462545372539302538362e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/d02d930d6c8c6a7f114c6a3cfba2f3c54d61f2f1229d2b1b2882d25d9a0a4ef2/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d436f6d706f73652545352538452539462545372539302538362e706e67">https://camo.githubusercontent.com/d02d930d6c8c6a7f114c6a3cfba2f3c54d61f2f1229d2b1b2882d25d9a0a4ef2/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d436f6d706f73652545352538452539462545372539302538362e706e67</a>)</p>
<hr>
<h3 id="-215"><a class="markdownIt-Anchor" href="#-215">#</a> <a href="#%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"></a>功能实现</h3>
<p>使用 docker compose 编排 nginx+springboot 项目</p>
<ol>
<li>
<p>安装 Docker Compose</p>
</li>
<li>
<p>创建 docker-compose 目录</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">mkdir</span> ~/docker-compose
<span class="token builtin class-name">cd</span> ~/docker-compose<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li>
<p>编写 docker-compose.yml 文件</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">version: <span class="token string">'3'</span>
services:
  nginx:
   image: nginx
   ports:
    - <span class="token number">80</span>:80
   links:
    - app
   volumes:
    - ./nginx/conf.d:/etc/nginx/conf.d
  app:
    image: app
    expose:
      - <span class="token string">"8080"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>创建./nginx/conf.d 目录</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">mkdir</span> -p ./nginx/conf.d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>在./nginx/conf.d 目录下编写 ***.conf 文件</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">server <span class="token punctuation">&#123;</span>
    listen <span class="token number">80</span><span class="token punctuation">;</span>
    access_log off<span class="token punctuation">;</span>

    location / <span class="token punctuation">&#123;</span>
        proxy_pass http://app:8080<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>在～/docker-compose 目录下使用 docker-compose 启动容器</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">docker-compose up<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li>
<p>测试访问</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">http://192.168.0.137/hello<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<hr>
<h2 id="-216"><a class="markdownIt-Anchor" href="#-216">#</a> <a href="#%E7%A7%81%E6%9C%89%E4%BB%93%E5%BA%93"></a>私有仓库</h2>
<p>Docker 官方的 Docker hub（<a target="_blank" rel="noopener" href="https://hub.docker.com%EF%BC%89%E6%98%AF%E4%B8%80%E4%B8%AA%E7%94%A8%E4%BA%8E%E7%AE%A1%E7%90%86%E5%85%AC%E5%85%B1%E9%95%9C%E5%83%8F%E7%9A%84%E4%BB%93%E5%BA%93%EF%BC%8C%E6%88%91%E4%BB%AC%E5%8F%AF%E4%BB%A5%E4%BB%8E%E4%B8%8A%E9%9D%A2%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F">https://hub.docker.com）是一个用于管理公共镜像的仓库，我们可以从上面拉取镜像</a> 到本地，也可以把我们自己的镜像推送上去。但是当服务器无法访问互联网，或者不希望将自己的镜像放到公网当中，那么我们就需要搭建自己的私有仓库来存储和管理自己的镜像</p>
<ul>
<li>
<p>私有仓库搭建</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 1、拉取私有仓库镜像 </span>
docker pull registry
<span class="token comment"># 2、启动私有仓库容器 </span>
docker run -id --name<span class="token operator">=</span>registry -p <span class="token number">5000</span>:5000 registry
<span class="token comment"># 3、输入地址http://私有仓库服务器ip:5000/v2/_catalog，显示&#123;"repositories":[]&#125; </span>
<span class="token comment"># 4、修改daemon.json   </span>
<span class="token function">vim</span> /etc/docker/daemon.json    
<span class="token comment"># 在上述文件中添加一个key，保存退出。此步用于让 docker 信任私有仓库地址；注意将私有仓库服务器ip修改为自己私有仓库服务器真实ip </span>
<span class="token punctuation">&#123;</span><span class="token string">"insecure-registries"</span>:<span class="token punctuation">[</span><span class="token string">"192.168.0.137:5000"</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span> 
<span class="token comment"># 5、重启docker 服务 </span>
systemctl restart docker
docker start registry<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>将镜像上传至私有仓库</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment"># 1、标记镜像为私有仓库的镜像     </span>
docker tag centos:7 私有仓库服务器IP:5000/centos:7
 
<span class="token comment"># 2、上传标记的镜像     </span>
docker push 私有仓库服务器IP:5000/centos:7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>从私有仓库拉取镜像</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token comment">#拉取镜像 </span>
docker pull 私有仓库服务器ip:5000/centos:7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
</ul>
<hr>
<h2 id="-217"><a class="markdownIt-Anchor" href="#-217">#</a> <a href="#%E8%99%9A%E6%8B%9F%E6%9C%BA"></a>虚拟机</h2>
<p>容器：</p>
<ul>
<li>
<p>容器是将软件打包成标准化单元，以用于开发、交付和部署</p>
</li>
<li>
<p>容器镜像是轻量的、可执行的独立软件包 ，包含软件运行所需的所有内容：代码、运行时环境、系统工具、系统库和设置</p>
</li>
<li>
<p>容器化软件在任何环境中都能够始终如一地运行。</p>
</li>
<li>
<p>容器赋予了软件独立性，使其免受外在环境差异的影响，从而有助于减少团队间在相同基础设施上运行不同软件时的冲突</p>
</li>
</ul>
<p>容器和虚拟机对比：</p>
<ul>
<li>
<p>相同：容器和虚拟机具有相似的资源隔离和分配优势</p>
</li>
<li>
<p>不同：</p>
<ul>
<li>容器虚拟化的是操作系统，虚拟机虚拟化的是硬件。</li>
<li>传统虚拟机可以运行不同的操作系统，容器只能运行同一类型操作系统</li>
</ul>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d2545352541452542392545352539392541382545352539322538432545382539392539412545362538422539462545362539432542412545352541462542392545362541462539342e706e67" alt=""></p>
<p>](<a target="_blank" rel="noopener" href="https://camo.githubusercontent.com/2a084387a4cd0b1d88ff59908cf55c6f9e8e379c24d970e79bc5e1035b7fcd79/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d2545352541452542392545352539392541382545352539322538432545382539392539412545362538422539462545362539432542412545352541462542392545362541462539342e706e67">https://camo.githubusercontent.com/2a084387a4cd0b1d88ff59908cf55c6f9e8e379c24d970e79bc5e1035b7fcd79/68747470733a2f2f67697465652e636f6d2f7365617a65616e2f696d616765732f7261772f6d61737465722f546f6f6c2f446f636b65722d2545352541452542392545352539392541382545352539322538432545382539392539412545362538422539462545362539432542412545352541462542392545362541462539342e706e67</a>)</p>
<table>
<thead>
<tr>
<th>性</th>
<th>容器</th>
<th>虚拟机</th>
</tr>
</thead>
<tbody>
<tr>
<td>动</td>
<td>秒级</td>
<td>分钟</td>
</tr>
<tr>
<td>盘使用</td>
<td>一般为 MB</td>
<td>一般为 GB</td>
</tr>
<tr>
<td>能</td>
<td>接近原生</td>
<td>弱于原生</td>
</tr>
<tr>
<td>统支持量</td>
<td>单机支持上千个容器</td>
<td>一般几十个</td>
</tr>
</tbody>
</table>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Harry Qu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://harryqu1229.github.io/2022/01/01/git+linux+docker/">https://harryqu1229.github.io/2022/01/01/git+linux+docker/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/build/">build</a><a class="post-meta__tags" href="/tags/tools/">tools</a><a class="post-meta__tags" href="/tags/git/">git</a><a class="post-meta__tags" href="/tags/maven/">maven</a><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-621848f44e1c3724" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/12/12/JavaWeb%E7%8B%82%E7%A5%9E%E8%AF%B4/"><img class="prev-cover" src="https://w.wallhaven.cc/full/v9/wallhaven-v9v9o5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">JavaWeb 狂神说</div></div></a></div><div class="next-post pull-right"><a href="/2022/01/01/%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/"><img class="next-cover" src="https://c.pxhere.com/photos/e5/15/watercolour_painting_technique_soluble_in_water_not_opaque_color_image_color_sketch_turquoise-1110070.jpg!d" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Frontend Interview Quesitions</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/01/01/Git%E5%B0%8F%E5%B0%8F%E7%AC%94%E8%AE%B0/" title="Build tool -> git quick notes"><img class="cover" src="https://w.wallhaven.cc/full/wq/wallhaven-wqvov7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">Build tool -> git quick notes</div></div></a></div><div><a href="/2022/01/01/Git%E5%B0%8F%E7%AC%94%E8%AE%B0/" title="Build tool -> git"><img class="cover" src="https://w.wallhaven.cc/full/28/wallhaven-28wymm.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">Build tool -> git</div></div></a></div><div><a href="/2022/02/25/maven%E5%B0%9A%E7%A1%85%E8%B0%B7/" title="My Maven notes 尚硅谷"><img class="cover" src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">My Maven notes 尚硅谷</div></div></a></div><div><a href="/2022/01/01/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/" title="Build tool -> Maven"><img class="cover" src="https://w.wallhaven.cc/full/q2/wallhaven-q257x7.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">Build tool -> Maven</div></div></a></div><div><a href="/2022/02/25/Maven/" title="My Maven notes"><img class="cover" src="https://w.wallhaven.cc/full/28/wallhaven-28wymm.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">My Maven notes</div></div></a></div><div><a href="/2022/02/25/maven,netty,rocketmq/" title="Maven + Netty + Rocketmq"><img class="cover" src="https://raw.githubusercontent.com/HarryQu1229/image-host/9575054fd0f7d407d7b7d5343dfc530a06ed4104/notes-img/cat.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">Maven + Netty + Rocketmq</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="comment-switch"><span class="first-comment">Disqus</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/6aca34ee52f40fe1b2d637474f90111e2c151939/notes-img/%E5%85%B6%E4%B8%AD%E5%8C%85%E6%8B%AC%E5%9B%BE%E7%89%87%EF%BC%9A%7B%7B%20pinTitle%20%7D%7D_m6kogp.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Harry Qu</div><div class="author-info__description">Software Engineering Student</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">171</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">89</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">60</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HarryQu1229"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.linkedin.com/in/harry-qu-a0a38220a" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://github.com/HarryQu1229" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Harryqu666@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="weixin://dl/chat?harry666ya" target="_blank" title="Wechat"><i class="fab fa-weixin"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">be healthy, stay safe</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text"> Git</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#-2"><span class="toc-number">1.1.</span> <span class="toc-text"> Git 概述</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-3"><span class="toc-number">1.1.1.</span> <span class="toc-text"> 版本系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-4"><span class="toc-number">1.1.2.</span> <span class="toc-text"> 工作流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-5"><span class="toc-number">1.1.3.</span> <span class="toc-text"> Git 安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-6"><span class="toc-number">1.1.4.</span> <span class="toc-text"> 代码托管</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-7"><span class="toc-number">1.2.</span> <span class="toc-text"> 环境配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-8"><span class="toc-number">1.3.</span> <span class="toc-text"> 本地仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-9"><span class="toc-number">1.3.1.</span> <span class="toc-text"> 获取仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-10"><span class="toc-number">1.3.2.</span> <span class="toc-text"> 工作过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-11"><span class="toc-number">1.3.3.</span> <span class="toc-text"> 文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-12"><span class="toc-number">1.3.3.1.</span> <span class="toc-text"> 常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-13"><span class="toc-number">1.3.3.2.</span> <span class="toc-text"> 文件状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-14"><span class="toc-number">1.3.3.3.</span> <span class="toc-text"> 文件忽略</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-15"><span class="toc-number">1.4.</span> <span class="toc-text"> 远程仓库</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-16"><span class="toc-number">1.4.1.</span> <span class="toc-text"> 工作流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-17"><span class="toc-number">1.4.2.</span> <span class="toc-text"> 查看仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-18"><span class="toc-number">1.4.3.</span> <span class="toc-text"> 添加仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-19"><span class="toc-number">1.4.4.</span> <span class="toc-text"> 克隆仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-20"><span class="toc-number">1.4.5.</span> <span class="toc-text"> 删除仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-21"><span class="toc-number">1.4.6.</span> <span class="toc-text"> 拉取仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-22"><span class="toc-number">1.4.7.</span> <span class="toc-text"> 推送仓库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-23"><span class="toc-number">1.5.</span> <span class="toc-text"> 版本管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-24"><span class="toc-number">1.6.</span> <span class="toc-text"> 分支管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-25"><span class="toc-number">1.6.1.</span> <span class="toc-text"> 查看分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-26"><span class="toc-number">1.6.2.</span> <span class="toc-text"> 创建分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-27"><span class="toc-number">1.6.3.</span> <span class="toc-text"> 推送分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-28"><span class="toc-number">1.6.4.</span> <span class="toc-text"> 切换分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-29"><span class="toc-number">1.6.5.</span> <span class="toc-text"> 合并分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-30"><span class="toc-number">1.6.6.</span> <span class="toc-text"> 删除分支</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-31"><span class="toc-number">1.7.</span> <span class="toc-text"> 标签管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-32"><span class="toc-number">1.7.1.</span> <span class="toc-text"> 查看标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-33"><span class="toc-number">1.7.2.</span> <span class="toc-text"> 新建标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-34"><span class="toc-number">1.7.3.</span> <span class="toc-text"> 推送标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-35"><span class="toc-number">1.7.4.</span> <span class="toc-text"> 切换标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-36"><span class="toc-number">1.7.5.</span> <span class="toc-text"> 删除标签</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-37"><span class="toc-number">1.8.</span> <span class="toc-text"> IDEA 操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-38"><span class="toc-number">1.8.1.</span> <span class="toc-text"> 环境配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-39"><span class="toc-number">1.8.2.</span> <span class="toc-text"> 创建仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-40"><span class="toc-number">1.8.3.</span> <span class="toc-text"> 文件操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-41"><span class="toc-number">1.8.4.</span> <span class="toc-text"> 版本管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-42"><span class="toc-number">1.8.5.</span> <span class="toc-text"> 分支管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-43"><span class="toc-number">1.8.6.</span> <span class="toc-text"> 推送仓库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-44"><span class="toc-number">1.8.7.</span> <span class="toc-text"> 克隆仓库</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-45"><span class="toc-number">2.</span> <span class="toc-text"> Linux</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#-46"><span class="toc-number">2.1.</span> <span class="toc-text"> 操作系统</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-47"><span class="toc-number">2.2.</span> <span class="toc-text"> Linux 系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-48"><span class="toc-number">2.2.1.</span> <span class="toc-text"> 系统介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-49"><span class="toc-number">2.2.2.</span> <span class="toc-text"> 文件系统</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-50"><span class="toc-number">2.3.</span> <span class="toc-text"> 远程连接</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-51"><span class="toc-number">2.3.1.</span> <span class="toc-text"> 设置 IP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-52"><span class="toc-number">2.3.1.1.</span> <span class="toc-text"> NAT</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-53"><span class="toc-number">2.3.1.2.</span> <span class="toc-text"> 静态 IP</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-54"><span class="toc-number">2.3.2.</span> <span class="toc-text"> 远程登陆</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-55"><span class="toc-number">2.4.</span> <span class="toc-text"> 用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-56"><span class="toc-number">2.4.1.</span> <span class="toc-text"> 用户管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-57"><span class="toc-number">2.4.1.1.</span> <span class="toc-text"> 当前用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-58"><span class="toc-number">2.4.1.2.</span> <span class="toc-text"> 切换用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-59"><span class="toc-number">2.4.1.3.</span> <span class="toc-text"> 用户添加</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-60"><span class="toc-number">2.4.1.4.</span> <span class="toc-text"> 用户密码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-61"><span class="toc-number">2.4.1.5.</span> <span class="toc-text"> 用户权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-62"><span class="toc-number">2.4.1.6.</span> <span class="toc-text"> 用户删除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-63"><span class="toc-number">2.4.2.</span> <span class="toc-text"> 用户组管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-64"><span class="toc-number">2.4.2.1.</span> <span class="toc-text"> 组管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-65"><span class="toc-number">2.4.2.2.</span> <span class="toc-text"> 添加用户组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-66"><span class="toc-number">2.4.2.3.</span> <span class="toc-text"> 修改用户组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-67"><span class="toc-number">2.4.2.4.</span> <span class="toc-text"> 删除用户组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-68"><span class="toc-number">2.4.2.5.</span> <span class="toc-text"> 用户所属组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-69"><span class="toc-number">2.4.2.6.</span> <span class="toc-text"> gpasswd</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-70"><span class="toc-number">2.5.</span> <span class="toc-text"> 系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-71"><span class="toc-number">2.5.1.</span> <span class="toc-text"> man</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-72"><span class="toc-number">2.5.2.</span> <span class="toc-text"> date</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-73"><span class="toc-number">2.5.3.</span> <span class="toc-text"> id</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-74"><span class="toc-number">2.5.4.</span> <span class="toc-text"> sudo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-75"><span class="toc-number">2.5.5.</span> <span class="toc-text"> top</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-76"><span class="toc-number">2.5.6.</span> <span class="toc-text"> ps</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-77"><span class="toc-number">2.5.7.</span> <span class="toc-text"> kill</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-78"><span class="toc-number">2.5.8.</span> <span class="toc-text"> shutdown</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-79"><span class="toc-number">2.5.9.</span> <span class="toc-text"> reboot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-80"><span class="toc-number">2.5.10.</span> <span class="toc-text"> who</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-81"><span class="toc-number">2.5.11.</span> <span class="toc-text"> systemctl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-82"><span class="toc-number">2.5.12.</span> <span class="toc-text"> timedatectl</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-83"><span class="toc-number">2.5.13.</span> <span class="toc-text"> clear</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-84"><span class="toc-number">2.5.14.</span> <span class="toc-text"> exit</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-85"><span class="toc-number">2.6.</span> <span class="toc-text"> 文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-86"><span class="toc-number">2.6.1.</span> <span class="toc-text"> 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-87"><span class="toc-number">2.6.1.1.</span> <span class="toc-text"> ls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-88"><span class="toc-number">2.6.1.2.</span> <span class="toc-text"> pwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-89"><span class="toc-number">2.6.1.3.</span> <span class="toc-text"> cd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-90"><span class="toc-number">2.6.1.4.</span> <span class="toc-text"> mkdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-91"><span class="toc-number">2.6.1.5.</span> <span class="toc-text"> rmdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-92"><span class="toc-number">2.6.1.6.</span> <span class="toc-text"> cp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-93"><span class="toc-number">2.6.1.7.</span> <span class="toc-text"> rm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-94"><span class="toc-number">2.6.1.8.</span> <span class="toc-text"> mv</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-95"><span class="toc-number">2.6.2.</span> <span class="toc-text"> 文件属性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-96"><span class="toc-number">2.6.2.1.</span> <span class="toc-text"> 基本属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-97"><span class="toc-number">2.6.2.2.</span> <span class="toc-text"> 文件信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-98"><span class="toc-number">2.6.2.3.</span> <span class="toc-text"> 更改权限</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#-99"><span class="toc-number">2.6.2.3.1.</span> <span class="toc-text"> 权限概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-100"><span class="toc-number">2.6.2.3.2.</span> <span class="toc-text"> 数字权限</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-101"><span class="toc-number">2.6.2.3.3.</span> <span class="toc-text"> 符号权限</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-102"><span class="toc-number">2.6.2.4.</span> <span class="toc-text"> 更改属组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-103"><span class="toc-number">2.6.2.5.</span> <span class="toc-text"> 更改属主</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-104"><span class="toc-number">2.6.3.</span> <span class="toc-text"> 文件操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-105"><span class="toc-number">2.6.3.1.</span> <span class="toc-text"> touch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-106"><span class="toc-number">2.6.3.2.</span> <span class="toc-text"> stat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-107"><span class="toc-number">2.6.3.3.</span> <span class="toc-text"> cat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-108"><span class="toc-number">2.6.3.4.</span> <span class="toc-text"> less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-109"><span class="toc-number">2.6.3.5.</span> <span class="toc-text"> tail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-110"><span class="toc-number">2.6.3.6.</span> <span class="toc-text"> head</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-111"><span class="toc-number">2.6.3.7.</span> <span class="toc-text"> grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-112"><span class="toc-number">2.6.3.8.</span> <span class="toc-text"> echo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-113"><span class="toc-number">2.6.3.9.</span> <span class="toc-text"> awk</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-114"><span class="toc-number">2.6.3.10.</span> <span class="toc-text"> sort</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-115"><span class="toc-number">2.6.3.11.</span> <span class="toc-text"> uniq</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-116"><span class="toc-number">2.6.4.</span> <span class="toc-text"> 文件压缩</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-117"><span class="toc-number">2.6.4.1.</span> <span class="toc-text"> tar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-118"><span class="toc-number">2.6.4.2.</span> <span class="toc-text"> gzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-119"><span class="toc-number">2.6.4.3.</span> <span class="toc-text"> gunzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-120"><span class="toc-number">2.6.4.4.</span> <span class="toc-text"> zip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-121"><span class="toc-number">2.6.4.5.</span> <span class="toc-text"> unzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-122"><span class="toc-number">2.6.4.6.</span> <span class="toc-text"> bzip2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-123"><span class="toc-number">2.6.4.7.</span> <span class="toc-text"> bunzip2</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-124"><span class="toc-number">2.6.5.</span> <span class="toc-text"> 文件编辑</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-125"><span class="toc-number">2.6.5.1.</span> <span class="toc-text"> Vim</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-126"><span class="toc-number">2.6.5.2.</span> <span class="toc-text"> 打开文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-127"><span class="toc-number">2.6.5.3.</span> <span class="toc-text"> 插入模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-128"><span class="toc-number">2.6.5.4.</span> <span class="toc-text"> 命令模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#-129"><span class="toc-number">2.6.5.4.1.</span> <span class="toc-text"> 移动光标</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-130"><span class="toc-number">2.6.5.4.2.</span> <span class="toc-text"> 选中文本</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-131"><span class="toc-number">2.6.5.4.3.</span> <span class="toc-text"> 撤销删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-132"><span class="toc-number">2.6.5.4.4.</span> <span class="toc-text"> 复制粘贴</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-133"><span class="toc-number">2.6.5.4.5.</span> <span class="toc-text"> 查找替换</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-134"><span class="toc-number">2.6.5.5.</span> <span class="toc-text"> 末行模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-135"><span class="toc-number">2.6.5.6.</span> <span class="toc-text"> 异常处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-136"><span class="toc-number">2.6.6.</span> <span class="toc-text"> 链接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-137"><span class="toc-number">2.7.</span> <span class="toc-text"> 进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-138"><span class="toc-number">2.7.1.</span> <span class="toc-text"> 查看进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-139"><span class="toc-number">2.7.2.</span> <span class="toc-text"> 进程 ID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-140"><span class="toc-number">2.7.3.</span> <span class="toc-text"> 进程状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-141"><span class="toc-number">2.7.4.</span> <span class="toc-text"> 状态改变</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-142"><span class="toc-number">2.7.4.1.</span> <span class="toc-text"> SIGCHLD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-143"><span class="toc-number">2.7.4.2.</span> <span class="toc-text"> wait</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-144"><span class="toc-number">2.7.4.3.</span> <span class="toc-text"> waitpid</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-145"><span class="toc-number">2.8.</span> <span class="toc-text"> 网络管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-146"><span class="toc-number">2.8.1.</span> <span class="toc-text"> network</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-147"><span class="toc-number">2.8.2.</span> <span class="toc-text"> ifconfig</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-148"><span class="toc-number">2.8.3.</span> <span class="toc-text"> ping</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-149"><span class="toc-number">2.8.4.</span> <span class="toc-text"> netstat</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-150"><span class="toc-number">2.9.</span> <span class="toc-text"> 磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-151"><span class="toc-number">2.9.1.</span> <span class="toc-text"> 挂载概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-152"><span class="toc-number">2.9.2.</span> <span class="toc-text"> lsblk</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-153"><span class="toc-number">2.9.3.</span> <span class="toc-text"> df</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-154"><span class="toc-number">2.9.4.</span> <span class="toc-text"> mount</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-155"><span class="toc-number">2.10.</span> <span class="toc-text"> 防火墙</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-156"><span class="toc-number">2.10.1.</span> <span class="toc-text"> 概述</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-157"><span class="toc-number">2.10.2.</span> <span class="toc-text"> 状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-158"><span class="toc-number">2.10.3.</span> <span class="toc-text"> 放行</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-159"><span class="toc-number">2.11.</span> <span class="toc-text"> Shell</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-160"><span class="toc-number">2.11.1.</span> <span class="toc-text"> 入门</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-161"><span class="toc-number">2.11.1.1.</span> <span class="toc-text"> 概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-162"><span class="toc-number">2.11.1.2.</span> <span class="toc-text"> 环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-163"><span class="toc-number">2.11.1.3.</span> <span class="toc-text"> 第一个 shell</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-164"><span class="toc-number">2.11.2.</span> <span class="toc-text"> 注释</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-165"><span class="toc-number">2.11.3.</span> <span class="toc-text"> 变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-166"><span class="toc-number">2.11.3.1.</span> <span class="toc-text"> 定义变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-167"><span class="toc-number">2.11.3.2.</span> <span class="toc-text"> 使用变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-168"><span class="toc-number">2.11.3.3.</span> <span class="toc-text"> 只读变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-169"><span class="toc-number">2.11.3.4.</span> <span class="toc-text"> 删除变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-170"><span class="toc-number">2.11.3.5.</span> <span class="toc-text"> 字符变量</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#-171"><span class="toc-number">2.11.3.5.1.</span> <span class="toc-text"> 引号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-172"><span class="toc-number">2.11.3.5.2.</span> <span class="toc-text"> 拼接字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-173"><span class="toc-number">2.11.3.5.3.</span> <span class="toc-text"> 获取字符串长度</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#-174"><span class="toc-number">2.11.3.5.4.</span> <span class="toc-text"> 提取字符串</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-175"><span class="toc-number">2.11.4.</span> <span class="toc-text"> 数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-176"><span class="toc-number">2.11.4.1.</span> <span class="toc-text"> 定义数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-177"><span class="toc-number">2.11.4.2.</span> <span class="toc-text"> 读取数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-178"><span class="toc-number">2.11.4.3.</span> <span class="toc-text"> 获取长度</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-179"><span class="toc-number">2.11.5.</span> <span class="toc-text"> 运算符</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-180"><span class="toc-number">2.11.5.1.</span> <span class="toc-text"> 规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-181"><span class="toc-number">2.11.5.2.</span> <span class="toc-text"> 算术运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-182"><span class="toc-number">2.11.5.3.</span> <span class="toc-text"> 字符运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-183"><span class="toc-number">2.11.5.4.</span> <span class="toc-text"> 关系运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-184"><span class="toc-number">2.11.5.5.</span> <span class="toc-text"> 布尔运算符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-185"><span class="toc-number">2.11.5.6.</span> <span class="toc-text"> 逻辑运算符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-186"><span class="toc-number">2.11.6.</span> <span class="toc-text"> 流程控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-187"><span class="toc-number">2.11.6.1.</span> <span class="toc-text"> if</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-188"><span class="toc-number">2.11.6.2.</span> <span class="toc-text"> for</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-189"><span class="toc-number">2.11.6.3.</span> <span class="toc-text"> while</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-190"><span class="toc-number">2.11.6.4.</span> <span class="toc-text"> case…esac</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-191"><span class="toc-number">2.11.7.</span> <span class="toc-text"> 函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-192"><span class="toc-number">2.11.7.1.</span> <span class="toc-text"> 输入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-193"><span class="toc-number">2.11.7.2.</span> <span class="toc-text"> 读取</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#-194"><span class="toc-number">3.</span> <span class="toc-text"> Docker</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#-195"><span class="toc-number">3.1.</span> <span class="toc-text"> 基本概述</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-196"><span class="toc-number">3.2.</span> <span class="toc-text"> 操作命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-197"><span class="toc-number">3.2.1.</span> <span class="toc-text"> 进程相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-198"><span class="toc-number">3.2.2.</span> <span class="toc-text"> 镜像相关</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-199"><span class="toc-number">3.2.3.</span> <span class="toc-text"> 容器相关</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-200"><span class="toc-number">3.3.</span> <span class="toc-text"> 数据卷</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-201"><span class="toc-number">3.4.</span> <span class="toc-text"> 应用部署</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-202"><span class="toc-number">3.4.1.</span> <span class="toc-text"> MySQL</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-203"><span class="toc-number">3.4.2.</span> <span class="toc-text"> Tomcat</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-204"><span class="toc-number">3.4.3.</span> <span class="toc-text"> Nginx</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-205"><span class="toc-number">3.4.4.</span> <span class="toc-text"> Redis</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-206"><span class="toc-number">3.5.</span> <span class="toc-text"> 镜像原理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-207"><span class="toc-number">3.5.1.</span> <span class="toc-text"> 底层原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-208"><span class="toc-number">3.5.2.</span> <span class="toc-text"> 镜像制作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-209"><span class="toc-number">3.5.3.</span> <span class="toc-text"> Dockerfile</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#-210"><span class="toc-number">3.5.3.1.</span> <span class="toc-text"> 基本概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-211"><span class="toc-number">3.5.3.2.</span> <span class="toc-text"> Centos</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#-212"><span class="toc-number">3.5.3.3.</span> <span class="toc-text"> Boot</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-213"><span class="toc-number">3.6.</span> <span class="toc-text"> 服务编排</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#-214"><span class="toc-number">3.6.1.</span> <span class="toc-text"> 基本介绍</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#-215"><span class="toc-number">3.6.2.</span> <span class="toc-text"> 功能实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-216"><span class="toc-number">3.7.</span> <span class="toc-text"> 私有仓库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#-217"><span class="toc-number">3.8.</span> <span class="toc-text"> 虚拟机</span></a></li></ol></li></ol></div></div><div class="card-widget card-map"><div class="card-content"><div class="item-headline"><i class="fa fa-globe-asia" aria-hidden="true"></i><span>Visitor Map</span></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=4LA950xi3DtQgUHPlkO0mo-n_QgrcOu-1BIiVpExg7k"></script></div></div><div class="card-widget card-pixiv"><div class="card-content"><div class="item-headline"><i class="fa fa-image" aria-hidden="true"></i><span>Pixiv Top50</span><iframe src="https://cloud.mokeyjay.com/pixiv" frameborder="0" style="width:99%;height:380px;margin:0;"></iframe></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/12/03/linux%E7%9A%84%E4%B8%80%E4%BA%9B%E5%91%BD%E4%BB%A4/" title="Linux commands"><img src="https://w.wallhaven.cc/full/3z/wallhaven-3zgdd3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux commands"/></a><div class="content"><a class="title" href="/2022/12/03/linux%E7%9A%84%E4%B8%80%E4%BA%9B%E5%91%BD%E4%BB%A4/" title="Linux commands">Linux commands</a><time datetime="2022-12-02T11:00:00.000Z" title="Created 2022-12-03 00:00:00">2022-12-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/nodejs/" title="Nodejs notes"><img src="https://w.wallhaven.cc/full/rd/wallhaven-rdw8dj.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nodejs notes"/></a><div class="content"><a class="title" href="/2022/03/01/nodejs/" title="Nodejs notes">Nodejs notes</a><time datetime="2022-02-28T11:00:00.000Z" title="Created 2022-03-01 00:00:00">2022-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="Frontend interview questions"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Frontend interview questions"/></a><div class="content"><a class="title" href="/2022/03/01/%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="Frontend interview questions">Frontend interview questions</a><time datetime="2022-02-28T11:00:00.000Z" title="Created 2022-03-01 00:00:00">2022-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/nodejs(express,mysql%E4%BB%A5%E5%8F%8A%E5%A4%A7%E4%BA%8B%E4%BB%B6%E5%90%8E%E5%8F%B0%20API%20%E9%A1%B9%E7%9B%AE)/" title="Nodejs notes + mysql + express + 项目"><img src="https://w.wallhaven.cc/full/e7/wallhaven-e7p2pk.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nodejs notes + mysql + express + 项目"/></a><div class="content"><a class="title" href="/2022/03/01/nodejs(express,mysql%E4%BB%A5%E5%8F%8A%E5%A4%A7%E4%BA%8B%E4%BB%B6%E5%90%8E%E5%8F%B0%20API%20%E9%A1%B9%E7%9B%AE)/" title="Nodejs notes + mysql + express + 项目">Nodejs notes + mysql + express + 项目</a><time datetime="2022-02-28T11:00:00.000Z" title="Created 2022-03-01 00:00:00">2022-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/02/25/rabbitmq/" title="My Rabbitmq notes"><img src="https://w.wallhaven.cc/full/3z/wallhaven-3zgdd3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="My Rabbitmq notes"/></a><div class="content"><a class="title" href="/2022/02/25/rabbitmq/" title="My Rabbitmq notes">My Rabbitmq notes</a><time datetime="2022-02-25T05:43:54.952Z" title="Created 2022-02-25 18:43:54">2022-02-25</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Harry Qu</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://harryqu1229.github.io/2022/01/01/git+linux+docker/'
    this.page.identifier = '2022/01/01/git+linux+docker/'
    this.page.title = 'Linux and Build tool -> git, Maven'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://harry-study-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script><script>if (window.DISQUSWIDGETS === undefined) {
  var d = document, s = d.createElement('script');
  s.src = 'https://harry-study-blog.disqus.com/count.js';
  s.id = 'dsq-count-scr';
  (d.head || d.body).appendChild(s);
} else {
  DISQUSWIDGETS.getCount({reset: true});
}</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '5df1e915e0fa867b50de',
      clientSecret: 'ce1cb793fe49078ee9d0102d3326d0d50ff6937b',
      repo: 'blog-comments-storage',
      owner: 'HarryQu1229',
      admin: ['HarryQu1229'],
      id: '9828e67cde01eb2451184b1e4f70ff0d',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Disqus' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[image]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[link]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[code]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=harry-study-blog&related=thread&limit=6&api_key=B5XFmdGuVaYDW7OIBakffpXoKorvphwRiwONIol4puEtr8YiwYAMAk2K7QcExNLY')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "Unable to get the data, please make sure the settings are correct."
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'No Comment'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="2809513713" data-server="netease" data-type="playlist" data-autoplay="false" data-fixed="true" data-order="random" data-theme="#e9ccd3"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>((window.gitter = {}).chat = {}).options = {
  disableDefaultChat: true,
};
document.addEventListener('gitter-sidecar-ready', (e) => {
  const GitterChat = e.detail.Chat
  let chat

  function initGitter () {
    chat = new GitterChat({
      room: 'HarryStudyBlog/community',
      activationElement: '#chat_btn'
    });
  }

  initGitter()

  if (true) {
    document.addEventListener('pjax:complete', () => {
      chat.destroy()
      initGitter()
    })
  }

})</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="async" defer="defer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v5.4.0"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v3.8.2"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站项目由Github托管"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/footer-beautify-runtime.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://gitcalendar.akilar.top/api?HarryQu1229",['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'],'HarryQu1229')
    }
  </script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":300,"height":450},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>