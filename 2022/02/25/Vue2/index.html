<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>My Vue2 notes | Harry World</title><meta name="keywords" content="frontend,vue2"><meta name="author" content="Harry Qu"><meta name="copyright" content="Harry Qu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="# Vue 简介 # Vue 的特点  采用组件化模式，提高代码复用率，且让代码更好维护  )  声明式编码，让编码人员无需直接操作 DOM，提高开发效率  )  使用虚拟 DOM + 优秀的 Diff 算法，尽量复用 DOM 节点    依靠着一个 diff 算法来看你虚拟 DOM 的改变，然后对真实 DOM 进行改变就行了  # 搭建 Vue 开发环境 # 直接用 script 引入  CDN">
<meta property="og:type" content="article">
<meta property="og:title" content="My Vue2 notes">
<meta property="og:url" content="https://harryqu1229.github.io/2022/02/25/Vue2/index.html">
<meta property="og:site_name" content="Harry World">
<meta property="og:description" content="# Vue 简介 # Vue 的特点  采用组件化模式，提高代码复用率，且让代码更好维护  )  声明式编码，让编码人员无需直接操作 DOM，提高开发效率  )  使用虚拟 DOM + 优秀的 Diff 算法，尽量复用 DOM 节点    依靠着一个 diff 算法来看你虚拟 DOM 的改变，然后对真实 DOM 进行改变就行了  # 搭建 Vue 开发环境 # 直接用 script 引入  CDN">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg">
<meta property="article:published_time" content="2022-02-24T13:31:45.856Z">
<meta property="article:modified_time" content="2022-02-25T15:27:55.998Z">
<meta property="article:author" content="Harry Qu">
<meta property="article:tag" content="frontend">
<meta property="article:tag" content="vue2">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://harryqu1229.github.io/2022/02/25/Vue2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":100,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#C78550","bgDark":"#c08eaf","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'My Vue2 notes',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-02-26 04:27:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/6aca34ee52f40fe1b2d637474f90111e2c151939/notes-img/%E5%85%B6%E4%B8%AD%E5%8C%85%E6%8B%AC%E5%9B%BE%E7%89%87%EF%BC%9A%7B%7B%20pinTitle%20%7D%7D_m6kogp.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">171</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">89</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">60</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Videos/"><i class="fa-fw fa-regular fa-play"></i><span> Videos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Vue.js_Logo_2.svg/1200px-Vue.js_Logo_2.svg.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Harry World</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Videos/"><i class="fa-fw fa-regular fa-play"></i><span> Videos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">My Vue2 notes</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-02-24T13:31:45.856Z" title="Created 2022-02-25 02:31:45">2022-02-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-02-25T15:27:55.998Z" title="Updated 2022-02-26 04:27:55">2022-02-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Frontend/">Frontend</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Frontend/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">52.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>204min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="My Vue2 notes"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">Comments:</span><span class="disqus-comment-count"><a href="https://harryqu1229.github.io/2022/02/25/Vue2/#disqus_thread"></a></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="vue简介"><a class="markdownIt-Anchor" href="#vue简介">#</a> Vue 简介</h1>
<h2 id="vue的特点"><a class="markdownIt-Anchor" href="#vue的特点">#</a> Vue 的特点</h2>
<ul>
<li>采用<strong>组件化</strong>模式，提高代码复用率，且让代码更好维护</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193730.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193730.png" alt="image-20210716094215363">)</a></p>
<ul>
<li><strong>声明式</strong>编码，让编码人员无需直接操作 DOM，提高开发效率</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193731.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193731.png" alt="image-20210716094437585">)</a></p>
<ul>
<li>使用<strong>虚拟 DOM</strong> + 优秀的<strong> Diff 算法</strong>，尽量复用 DOM 节点</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193732.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193732.png" alt="image-20210716094701431"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193733.png"><img src="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193733.png" alt="image-20210716094920922"></a></p>
<p>依靠着一个 diff 算法来看你虚拟 DOM 的改变，然后对真实 DOM 进行改变就行了</p>
<hr>
<h1 id="搭建vue开发环境"><a class="markdownIt-Anchor" href="#搭建vue开发环境">#</a> 搭建 Vue 开发环境</h1>
<h2 id="直接用script引入"><a class="markdownIt-Anchor" href="#直接用script引入">#</a> 直接用 script 引入</h2>
<ul>
<li>CDN</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue@2&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>像这种 Vue,JQuery 引入进来的都是个构造函数对象，这个对象有原型 (上面有着给我们之后实例化这个 Vue 对象的共享方法)</p>
<p>这个构造函数也有属性等.</p>
</blockquote>
<ul>
<li>最好使用 Vue Devtools</li>
</ul>
<hr>
<h1 id="vue核心"><a class="markdownIt-Anchor" href="#vue核心">#</a> Vue 核心</h1>
<h2 id="hello"><a class="markdownIt-Anchor" href="#hello">#</a> Hello</h2>
<ul>
<li>想让 Vue 工作，就必须创建一个 Vue 实例，且要传入一个<strong>配置对象</strong></li>
<li>root 容器里的代码依然符合 HTML 规范，只不过混入了一些特殊的 Vue 语法</li>
<li>root 容器里的代码被称为<strong> Vue 模板</strong>，然后给到我们的这个实例化 Vue 对象 (el 为这个 id 是 root 的容器), 然后检测有没有像下面这种的，要是有就替换对应数据，然后最后产生一个这个容器的新的 html 代码块放到我们页面上</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;&#x2F;title&gt;
    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue@2&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;
&lt;&#x2F;head&gt;

&lt;body&gt;
    &lt;!-- 准备好一个容器 --&gt;
    &lt;div id &#x3D;&quot;root&quot;&gt;
        &lt;h1&gt;hello,&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;
    &lt;&#x2F;div&gt;

    &lt;script&gt;
        &#x2F;&#x2F;创建Vue实例,得到 ViewModel   
       new Vue(&#123;
            el: &#39;#root&#39;, &#x2F;&#x2F;el用于指定当前Vue实例为哪个容器服务，值通常为CSS选择器字符串(或者你也可以用document.querySelector等js原生获取元素方法来获取)
            data: &#123; &#x2F;&#x2F;data中用于存储数据，数据供el所指定的容器去使用，值暂时先写成一个对象
                name:&#39;cez&#39;
            &#125;,
            methods: &#123;&#125;
        &#125;);
    &lt;&#x2F;script&gt;
&lt;&#x2F;body&gt;

&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意实例化一个 Vue 对象里面传一个对象，是配置对象</p>
<p>上方我们实例化 Vue 对象指定了 id 为 root 那个 div 服务，我们可以 data 属性存上一个对象 (之后可能存的不是对象), 这个对象里面的每个键名对应我们在__root div 里面 (不管哪里，可能还会被其他容器包括)__, 只要是的，我们就把这个替换成我们 data 属性存的对象的那个键名的值</p>
</blockquote>
<h2 id="分析hello案例"><a class="markdownIt-Anchor" href="#分析hello案例">#</a> 分析 Hello 案例</h2>
<ul>
<li><mark>Vue 实例和模板是<strong>一一对应</strong>的关系，以下两段代码中，均无法正常解析渲染</mark></li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div class&#x3D;&quot;root&quot;&gt;
        &lt;h1&gt;hello,&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;
&lt;&#x2F;div&gt;

&lt;div class&#x3D;&quot;root&quot;&gt;
    &lt;h1&gt;hello,&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;
&lt;&#x2F;div&gt;

&lt;script&gt;
    new Vue(&#123;
        el: &#39;.root&#39;,
        data: &#123; 
            name:&#39;cez&#39;
        &#125;,
        methods: &#123;&#125;
    &#125;);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>hello,&#123;&#123;name&#125;&#125;,&#123;&#123;address&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span> 
            name<span class="token operator">:</span><span class="token string">'cez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span> 
            address<span class="token operator">:</span><span class="token string">'山东'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<ul>
<li>无法将多个容器 (模板) 给一个 Vue 实例就算这个 Vue 实例的 el 值为一个 classname, 然后那两个容器都有着那个 classname, 这样只会第一个容器 (模板) 才会被 Vue 实例操作</li>
<li>无法给多个 Vue 实例指定一个容器，会报错</li>
</ul>
<p>模板 (容器) 与 Vue 实例需要一对一</p>
</blockquote>
<ul>
<li>注意区分 JS 表达式和 JS 代码 (语句)：
<ul>
<li>表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方
<ul>
<li>比如说:’a’,123, 方法名 (参数), 三元表达式，这种都是表达式 (就算方法里面没写 return…, 默认还是返回的 undefined), 不过注意貌似直接写像是 a 这种的会去你 vue 实例化对象里面找这个键，找不到就报错了</li>
<li>这些假设左面拿个 <code>let x =</code>  这个 x 会接收到值的都算是表达式</li>
</ul>
</li>
<li>js 代码 (语句)： <code>if()&#123;&#125; for()&#123;&#125;等等</code></li>
</ul>
</li>
<li>真实开发中只有一个 Vue 实例，并且会配合组件一起使用</li>
<li>
中的xxx需要写js__表达式__，且xxx__可以自动读取到data中的所有属性__
<ul>
<li>所以这个可以获取 Vue 实例中的数据 (其实这个也可以成为表达式), 可以放 js 表达式，可以两者结合，都可以，比如说 <code>&#123;&#123;name.toUpperCase()&#125;&#125;</code></li>
</ul>
</li>
<li><strong>一旦 data 中的数据发生改变，那么模板中用到该数据的地方也会自动更新，最终变得是最后产出的页面 (模板变了就重新解析，解析完了再重新放到页面，页面就会变了)。</strong></li>
</ul>
<h2 id="模板语法"><a class="markdownIt-Anchor" href="#模板语法">#</a> 模板语法</h2>
<ul>
<li>
<p>Vue 模板语法有两大类：</p>
<ul>
<li>
<p>插值语法：</p>
<ul>
<li>功能：用于解析标签体内容</li>
<li>写法： <code>&#123;&#123;xxx&#125;&#125;</code> ,xxx 是 js 表达式，且可以直接读取到 data 中的所有属性</li>
</ul>
</li>
<li>
<p>指令语法：</p>
<ul>
<li>
<p>功能：用于__解析标签__(<mark>包括：标签属性、标签体内容、绑定事件…</mark>),<strong> 标签属性的值不能直接</strong></p>
</li>
<li>
<p>举例： <code>v-bind:href=”xxx”</code>  或__省略 v-bind 直接用 <code>:</code>  也可以 -&gt; <code>:href=”xxx”</code> __，<strong>xxx 同样要写 js 表达式，且可以直接读取 data 中的所有属性</strong></p>
</li>
<li>
<p>这个 v-bind, 会把后面这个属性 / 标签体内容 / 绑定事件… 的值 (也就是用引号引起来的)<strong> 当做表达式来执行 (所以跟我们同理，都是表达式了，所以表达式那些东西都可以放)</strong>, 那些被当成表达式就会去这个 Vue 实例化对象里面的 data 属性读取对应的键名，然后变成那个键名的值</p>
<blockquote>
<p>Vue 中有很多的指令，且形式都是：v-???，此处只是拿 v-bind 举例子</p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;app&quot;&gt;
        &lt;h1&gt;插值语法&lt;&#x2F;h1&gt;
        &lt;h1&gt;&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;
        &lt;hr&#x2F;&gt;
        &lt;h1&gt;指令语法&lt;&#x2F;h1&gt;
        &lt;a v-bind:href&#x3D;&quot;url&quot;&gt;cez网站&lt;&#x2F;a&gt;
        &lt;a :href&#x3D;&quot;url&quot;&gt;cez网站2&lt;&#x2F;a&gt;
    &lt;&#x2F;div&gt;

&lt;script&gt;
    &#x2F;&#x2F;创建Vue实例,得到 ViewModel
    var vm &#x3D; new Vue(&#123;
        el: &#39;#app&#39;,
        data: &#123;
            name:&#39;cez&#39;,
            url:&quot;http:&#x2F;&#x2F;www.cezzz.top&quot;
        &#125;,
        methods: &#123;&#125;
    &#125;);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="数据绑定"><a class="markdownIt-Anchor" href="#数据绑定">#</a> 数据绑定</h2>
<blockquote>
<p><mark>v-bind 跟 v-model 并不是实现数据代理数据检测等功能！！！他本来就会这么做 (数据一改就会重新解析模板等等等)</mark></p>
<p>v-bind 跟 v-model 作用是为了让在标签属性__⭐️后面被引号括起来的那个 (不包括引号)⭐️__那里当做表达式，如果表达式是我们的 (数据) 就只是会让解析模板的时候解析他那块换还是那个我们的数据</p>
<p>如果表达式只是普通的比如说一个字符串啥的 (引号里面还有引号，不然会被认为是变量), 那__解析模板时还是会被解析到__, 只不过只是解析出来的就是那个表达式的结果，跟我们数据没啥关系</p>
<p><mark>主要作用就是让一个标签的属性后面被引号括起来的值是被当做表达式处理，<strong> 注意这完全不代表那个属性不会，当然会存在，并且他的值就是我们写的表达式。就因为我们想通过表达式而不是 (最原本的方式只给一个值用引号括起来), 所以我们才用的 v-bind (最常用，为了让后面表达式然后表达式的最后值成为我们 v-bind: 的那个属性的值) 和 v-model (主要是 value 属性，可能对于 checkbox 那些不太一样)</strong></mark></p>
</blockquote>
<ul>
<li>
<p>Vue 有两种数据绑定的方式：</p>
<ol>
<li>
<p>单向绑定 (v-bind)：数据只能从 data 流向页面</p>
</li>
<li>
<p>双向绑定 (v-model)：数据不仅能从 data 流向页面，还可以从页面流向 data</p>
</li>
</ol>
<blockquote>
<ol>
<li><strong>双向绑定一般都应用在表单类元素上 (如:input，select 等)</strong></li>
<li><code>v-model:value</code>  可以简写为 <code>v-model</code>  -&gt;  <code>v-model=“xxx”</code> ,<strong> 因为 v-model 默认收集的就是 value 值</strong></li>
</ol>
</blockquote>
</li>
</ul>
<p>⭐️注意如果你在页面上改变了一个 (双向绑定的) 输入框的值，那个值会改变 (Vue 实例化对象的) data, 然后其他任何被这个 (Vue 实例化对象的) data__单向绑定<mark>或者</mark>双向绑定__的元素的 (value 属性) 上，都会做出你在一开始页面上做的改变，连锁反应</p>
<ul>
<li><code>v-model</code>  只能用在表单类元素 (输入类元素) 上</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;app&quot;&gt;
        单向数据绑定:&lt;input type&#x3D;&quot;text&quot; v-bind:value&#x3D;&quot;msg&quot;&gt;
        双向数据绑定:&lt;input type&#x3D;&quot;text&quot; v-model:value&#x3D;&quot;msg&quot;&gt;
    	双向数据绑定:&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;msg&quot;&gt;
&lt;&#x2F;div&gt;

&lt;script&gt;
    &#x2F;&#x2F;创建Vue实例,得到 ViewModel
    var vm &#x3D; new Vue(&#123;
        el: &#39;#app&#39;,
        data: &#123;
            msg:&quot;cez&quot;
        &#125;,
        methods: &#123;&#125;
    &#125;);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="el与data的两种写法"><a class="markdownIt-Anchor" href="#el与data的两种写法">#</a> el 与 data 的两种写法</h2>
<ul>
<li>el 两种写法：
<ul>
<li>new Vue 的时候配置 el 属性</li>
<li>先创建 Vue 实例，随后通过.$mount ()(Vue 构造函数对象 (不是你 new 出来的实例对象！) 的原型对象上的方法) 挂载</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;app&quot;&gt;
    &#123;&#123;name&#125;&#125;
&lt;&#x2F;div&gt;

&lt;script&gt;
    &#x2F;&#x2F;el的两种写法
    const vm &#x3D; new Vue(&#123;
        &#x2F;&#x2F;el: &#39;#app&#39;,   第一种写法
        data: &#123;
            name:&#39;cez&#39;
        &#125;,
        methods: &#123;&#125;
    &#125;);
    vm.$mount(&quot;#app&quot;);  &#x2F;&#x2F;第二种写法 
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>
<p>data 两种写法：</p>
<ul>
<li>
<p>对象式</p>
</li>
<li>
<p>函数式 (<strong>写组件时必须用函数式</strong>), 必须返回一个对象，对象里面有着键值就像是我们第一种写法的那种</p>
<blockquote>
<p><strong>由 Vue 管理的函数，一定不要写箭头函数，一旦写箭头函数，this 就不再是 Vue 实例了</strong></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;app&quot;&gt;
    &#123;&#123;name&#125;&#125;
&lt;&#x2F;div&gt;

&lt;script&gt;
    const vm &#x3D; new Vue(&#123;
        el:&quot;#app&quot;,
        &#x2F;&#x2F;第一种写法
        &#x2F;&#x2F; data: &#123;
        &#x2F;&#x2F;     name:&#39;cez&#39;
        &#x2F;&#x2F; &#125;,

        &#x2F;&#x2F;第二种写法
        data:function()&#123;
            console.log(this)&#x2F;&#x2F;此处的this是Vue实例对象
            return &#123;
                name:&#39;cez&#39;
            &#125;
        &#125;,
        methods: &#123;&#125;
    &#125;);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>上面要是写的是箭头函数那么那个 this 指向的是 window, 这是因为 data 存的这个函数会在 Vue 内部自己调用，调用的时候所在作用域是全局作用域也就是 this 指向的是 window, 那么这个箭头函数里面的 this 会跟当前箭头函数被__调用的__作用域中</p>
<blockquote>
<p>箭头函数不会创建自己的 <code>this</code> , 它只会从自己的作用域链的上一层继承 <code>this</code></p>
</blockquote>
</blockquote>
<h2 id="理解mvvm模型"><a class="markdownIt-Anchor" href="#理解mvvm模型">#</a> 理解 MVVM 模型</h2>
<ul>
<li>
<p>MVVM:Model-View-ViewModel 是一种软件架构模式</p>
<ul>
<li>M：Model 对应 data 中的数据</li>
<li>V： 视图 (View) 模板</li>
<li>VM：视图模式 (ViewModel) Vue 实例对象</li>
</ul>
</li>
<li>
<p><strong>data 中所有的属性，最后都出现在了 vm 身上，(<mark>数据代理</mark>)</strong></p>
</li>
<li>
<p><strong>vm 身上所有的属性，及 Vue 原型上所有属性，在 Vue 模板中都可以直接使用</strong> 如 <code>&#123;&#123;$options&#125;&#125; &#123;&#123;$emit&#125;&#125;</code>  均有结果出现。注意不用写 vm. 什么什么的，默认就是 vm 身上的，直接写就行了</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193734.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193734.png" alt="image-20210717001124214"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193735.png"><img src="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193735.png" alt="image-20210717001930625"></a></p>
<h2 id="objectdefineproperty"><a class="markdownIt-Anchor" href="#objectdefineproperty">#</a> Object.defineProperty</h2>
<ul>
<li><code>Object.defineProperty</code></li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;script&gt;
    let number &#x3D; 18; 

    let person &#x3D; &#123;
        name:&#39;cez&#39;,
        sex:&quot;男&quot;,
    &#125;;
    Object.defineProperty(person,&#39;age&#39;,&#123;
        &#x2F;&#x2F; value:20,
        &#x2F;&#x2F; enumerable:true,  &#x2F;&#x2F;控制属性是否可以枚举，默认为false
        &#x2F;&#x2F; writable:true,     &#x2F;&#x2F;控制属性是否可以修改，默认为false
        &#x2F;&#x2F; configurable:true, &#x2F;&#x2F;控制属性是否可以删除，默认为false

        &#x2F;&#x2F;当有人读取person的age属性时，get函数(getter)就会被调用，且返回值就是age的值
        get:function()&#123;
            console.log(&quot;读取age属性&quot;)
            return number; &#x2F;&#x2F;只有在读取这个age属性才会调用这个函数返回这个值,这个值要是被改变了,然后你读取,显示的当然就是修改之后的值了
        &#125;,

        &#x2F;&#x2F;当有人修改person的age属性时，set函数(setter)就会被调用，且返回值就是修改的具体值
        set:function(value)&#123;
            console.log(&quot;修改了age属性,且值为&quot;,value)
            number &#x3D; value &#x2F;&#x2F;这样才是真正修改了,要是没这一行你直接改是不会有效果的,你改值只是调用这个set方法
        &#125;
    &#125;);
    console.log(person.value);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="数据代理"><a class="markdownIt-Anchor" href="#数据代理">#</a> 数据代理</h2>
<ul>
<li>数据代理：通过一个对象代理另一个对象中属性的操作 (读 / 写)</li>
</ul>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;script&gt;
    let obj &#x3D; &#123;x:100&#125;
    let obj2 &#x3D; &#123;y:200&#125;

    Object.defineProperty(obj2,&#39;x&#39;,&#123;
        get()&#123;
            return obj.x;
        &#125;,

        set(value)&#123;
            obj.x &#x3D; value
        &#125;
    &#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193736.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193736.png" alt="image-20210717004356005"></a></p>
<h2 id="vue中的数据代理"><a class="markdownIt-Anchor" href="#vue中的数据代理">#</a> Vue 中的数据代理</h2>
<ul>
<li>Vue 通过__vm 对象__来代理__data 对象__中属性的操作 (读写), 也就是通过 <code>Object.defineProperty</code>  给 vm 设了 data 里面的属性 (键名), 然后在 <code>Object.defineProperty</code>  里面设置时就用对那个属性设了 getter and setter, 里面用的设以及给的 vm 这个属性的值就是 vm 里面 data 对应的属性的值</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193737.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193737.png" alt="image-20210717004713044"></a></p>
<blockquote>
<p><strong><a target="_blank" rel="noopener" href="http://xn--vm-hf3c7rn7fz1ws3k7l5f.xn--namevm-ze8k937dct7a837b.data.name">所以其实你读 vm.name 读的就是 vm.data.name</a>, 你改 vm.name 改的就是 vm.(_)<a target="_blank" rel="noopener" href="http://data.name">data.name</a></strong></p>
</blockquote>
<ul>
<li>
<p>Vue 中数据代理的好处：更方便地操作 data 中的数据</p>
</li>
<li>
<p>基本原理：通过 <code>Object.defineProperty()</code>  把 data 对象中所有属性添加到 vm 上，为每一个添加到 vm 上的属性都指定一个 getter/setter，在 getter/setter 内部去操作 data 中的属性</p>
<blockquote>
<p>在_data 属性中做了数据劫持，这是为了能够做到响应式</p>
</blockquote>
</li>
</ul>
<p>注意！我们在创建 vm 实例化对象时，传进的对象的 data 属性其实在我们创建 vm 实例化对象时，让 vm 的_data (就叫这个属性名) 存下了这个传进来的 data (属性存的) 对象里面的数据，所以可以是使用 <code>vm._data.键名</code> 来获取当初 data 对象里面的那些对应的值。然后这个</p>
<blockquote>
<p>就是 <code>data</code>  作为实参传入，将 data 的数据保存 (<strong><mark>这里还不确定是什么方式保存，没有做数据代理，但是做了数据劫持，之后会讲到，简单来说就是做了响应的功能，也就是这里存的数据改变了 (一般都是通过改变 vm 代理的那些数据来改变这里的 (setter), 这个改变在这里需要被检测到，然后对模板做出对应的解析然后最后页面才会 reflect 你做的改变)</mark></strong>,<strong> 貌似是赋值给这个_data 我们传进来的 data 对象，只不过做了些升级</strong>) 在 <code>_data</code>  下，然后又将 <code>_data</code>  的数据通过 <code>Object.defineProperty</code>  里的 getter and setter 方式给 vm (<strong>这个才是数据代理</strong>), 这样以后就不用干什么都 <code>vm._data.键名</code> ，直接 <code>vm.键名</code> 就行</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220124163400570.png" alt="image-20220124163400570"></p>
<h2 id="事件处理"><a class="markdownIt-Anchor" href="#事件处理">#</a> 事件处理</h2>
<ol>
<li>
<p>使用__ <code>v-on:xxx</code>  或 <code>@xxx</code> __绑定事件，其中 xxx 是事件名</p>
</li>
<li>
<p>事件的回调需要配置在 methods 对象中，最终会在 vm 上</p>
</li>
<li>
<p><strong>methods 中配置的函数，不要用箭头函数！否则 this 就不是 vm 了</strong></p>
</li>
<li>
<p>methods 中配置的函数都是被 Vue 管理的函数，<strong>this 指向的是 vm 或 组件实例对象，<mark> 而不像我们之前一样，this 指向调用那个 (也就是那个绑定了事件的元素 which 触发了回调函数)</mark></strong></p>
</li>
<li>
<p><code>@click=&quot;demo&quot;</code>  和 <code>@click=&quot;demo($event)&quot;</code>  效果一样，但后者可以传参 (就是继续传其他的数)</p>
<p>如果无参 <code>$event</code>  是默认传的，但要传参一定要带上 <code>$event</code>  作为其中一个参数</p>
<blockquote>
<p>$event 只是为了与 event 对象绑定，不然没法操作 event 对象，无论传不传，event 对象始终是存在的</p>
</blockquote>
</li>
</ol>
<p>注意只有 data 里面的那些从_data 到 vm 对象本身时做了数据代理，而其他地方像是下面的 methods 没有.</p>
<p><strong>methods 里面的那些方法是直接放到 vm 实例化对象本身上的，并没有做数据代理</strong></p>
<p>数据代理是给数据做的，没有必要给方法这些的 (给方法做数据代理只会让 Vue 很累，做没必要的)</p>
<p>代码</p>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;app&quot;&gt;
    &lt;h2&gt;Hello,&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;button v-on:click&#x3D;&quot;showInfo1&quot;&gt;点我提示信息1(不传参)&lt;&#x2F;button&gt;
    &lt;!-- 如果传参时想要不丢失event，则使用$event传参即可 --&gt;
    &lt;button @click&#x3D;&quot;showInfo2(66,$event)&quot;&gt;点我提示信息2(传参)&lt;&#x2F;button&gt;
&lt;&#x2F;div&gt;

&lt;script&gt;
    var vm &#x3D; new Vue(&#123;
        el: &#39;#app&#39;,
        data: &#123;
            name:&#39;cez&#39;  
        &#125;,
        methods: &#123;
            showInfo1(event)&#123;
                &#x2F;&#x2F;console.log(event.target.innerText)
                &#x2F;&#x2F;console.log(this&#x3D;&#x3D;&#x3D;vm)  true 此处的this就是Vue实例
                alert(&quot;lxy1&quot;);
            &#125;,
            showInfo2(number,a,b,c)&#123;
                console.log(number,a,b,c);
            &#125;
        &#125;,
    &#125;);
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="事件修饰符"><a class="markdownIt-Anchor" href="#事件修饰符">#</a> 事件修饰符</h2>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193738.png" alt=""></p>
<ol>
<li>
<p>prevent：阻止默认事件 (常用)</p>
</li>
<li>
<p>stop：阻止事件冒泡 (常用)</p>
<blockquote>
<p>事件冒泡 ：当一个元素接收到事件的时候 会把他接收到的事件传给自己的父级，一直到 window (注意这里传递的仅仅是事件 并不传递所绑定的事件函数。所以如果父级没有绑定事件函数，就算传递了事件 也不会有什么表现 但事件确实传递了。)</p>
</blockquote>
</li>
<li>
<p>once：只触发一次 (常用)</p>
</li>
<li>
<p>capture：使用事件的捕获模式 (事件在捕获时就进行处理，而不是在冒泡时)</p>
<p>点击 div2 处，如果不用捕获模式，则先捕获 div1，再捕获 div2，然后从 div2 开始冒泡处理事件，所以依次输出 2，1</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193740.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193740.png" alt="image-20210717082030517"></a></p>
</li>
<li>
<p>self：只有 event.target 是当前操作的元素时才触发事件</p>
</li>
<li>
<p>passive：事件的默认行为立即执行，无需等待事件回调执行完毕</p>
</li>
</ol>
<ul>
<li>
<p>代码</p>
  <pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;!DOCTYPE html&gt;
&lt;html lang&#x3D;&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;
    &lt;title&gt;Document&lt;&#x2F;title&gt;
    &lt;script src&#x3D;&quot;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;vue@2&#x2F;dist&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;
    &lt;style&gt;
        *&#123;
            margin-top: 20px;
        &#125;
        #demo01&#123;
            height: 50px;
            background-color: seagreen;
        &#125;
        #box1&#123;
            background-color: skyblue;
            padding:5px;
        &#125;
        #box2&#123;
            background-color: orange;
            padding:5px;
        &#125;
        .list&#123;
            height:200px;       
            width:200px;
            background-color:orange;
            overflow: auto;
        &#125;
        li&#123;
            height:100px;
        &#125;
    &lt;&#x2F;style&gt;
&lt;&#x2F;head&gt;

&lt;body&gt;
    &lt;div id &#x3D;&quot;app&quot;&gt;
        &lt;!-- 阻止默认事件 --&gt;
        &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.cezzz.top&quot; @click.prevent&#x3D;&quot;showInfo&quot;&gt;点我提示信息&lt;&#x2F;a&gt;

        &lt;!-- 阻止事件冒泡 --&gt;
        &lt;div id&#x3D;&quot;demo01&quot; @click.prevent&#x3D;&quot;showInfo&quot;&gt;
            &lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.cezzz.top&quot; @click.stop&#x3D;&quot;showInfo&quot;&gt;点我提示信息&lt;&#x2F;a&gt;
        &lt;&#x2F;div&gt;

        &lt;!-- 事件只触发一次 --&gt;
        &lt;button @click.once&#x3D;&quot;showInfo&quot;&gt;点我提示信息&lt;&#x2F;button&gt;
        
        &lt;!-- 使用事件捕获模式 --&gt;
        &lt;div id&#x3D;&quot;box1&quot; @click.capture&#x3D;&quot;showMsg(1)&quot;&gt;
            div1
            &lt;div id&#x3D;&quot;box2&quot; @click&#x3D;&quot;showMsg(2)&quot;&gt;div2&lt;&#x2F;div&gt;
        &lt;&#x2F;div&gt;

        &lt;!-- self:只有event.target是当前操作的元素时才触发事件 --&gt;
        &lt;div @click.self&#x3D;&quot;showInfo&quot;&gt;
            &lt;!-- 点击button时event.target就是这个button，所以div中的showInfo不会触发 --&gt;
            &lt;button @click&#x3D;&quot;showInfo&quot;&gt;点我提示信息&lt;&#x2F;button&gt;
        &lt;&#x2F;div&gt;
        &lt;!-- 事件的默认行为立即执行，无需等待事件回调执行完毕 --&gt;
        &lt;ul @wheel.passive&#x3D;&quot;demo&quot; class&#x3D;&quot;list&quot;&gt;
            &lt;li&gt;1&lt;&#x2F;li&gt;
            &lt;li&gt;2&lt;&#x2F;li&gt;
            &lt;li&gt;3&lt;&#x2F;li&gt;
            &lt;li&gt;4&lt;&#x2F;li&gt;
        &lt;&#x2F;ul&gt;
    &lt;&#x2F;div&gt;

    &lt;script&gt;
        var vm &#x3D; new Vue(&#123;
            el: &#39;#app&#39;,
            data: &#123;
                
            &#125;,
            methods: &#123;
                showInfo()&#123;
                    alert(&quot;wuhu!&quot;);
                &#125;,
                showMsg(msg)&#123;
                    console.log(msg);
                &#125;,
                demo()&#123;
                    for (let i&#x3D;0;i&lt;10000;i++)&#123;
                        console.log(&#39;#&#39;);
                    &#125;
                    console.log(&#39;end.&#39;);
                &#125;
            &#125;,
        &#125;);
    &lt;&#x2F;script&gt;
&lt;&#x2F;body&gt;

&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="键盘事件"><a class="markdownIt-Anchor" href="#键盘事件">#</a> 键盘事件</h2>
<ul>
<li>
<p>Vue 中常用的按键__别名__：</p>
<ul>
<li>回车：enter</li>
<li>删除：delete (捕获删除键和退格键)</li>
<li>退出：esc</li>
<li>空格：space</li>
<li>换行：tab (<strong>最好用 keydown，因为 keyup 前已经切换焦点了 (浏览器默认的 tab 键用法)</strong>)</li>
<li>上：up</li>
<li>下：down</li>
<li>左：left</li>
<li>右：right
<ul>
<li>Vue 未提供别名的按键，可以使用按键原始的 key 值去绑定，但注意要转为 kebab-base (短横线命名，都是小写且多字之间用 <code>-</code>  连接)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>系统修饰键 (用法特殊):ctrl、alt、shift、meta</p>
<ul>
<li>配合 keyup 使用：按下修饰键的同时再按下其他键，随后释放其他键，事件才被触发</li>
<li>配合 keydown 使用：正常触发事件</li>
</ul>
</li>
<li>
<p>也可以使用 keyCode 去指定具体的按键 (不推荐，已废弃)</p>
</li>
<li>
<p>Vue.config.keyCodes. 自定义键名 = 键码，可以去定制按键别名</p>
</li>
<li>
<p>代码</p>
  <pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">	&lt;div id &#x3D;&quot;app&quot;&gt;
	        &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup&#x3D;&quot;showInfo&quot;&#x2F;&gt;
	
	    &lt;!-- 绑定CapsLock要符合短横线命名 --&gt;
	    &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下CapsLock提示输入&quot; @keyup.caps-lock&#x3D;&quot;showInfo&quot;&#x2F;&gt;
	&lt;&#x2F;div&gt;


​	
​	&lt;script&gt;
​	    Vue.config.keyCodes.huiche&#x3D;13; &#x2F;&#x2F;不推荐使用
​	    var vm &#x3D; new Vue(&#123;
​	        el: &#39;#app&#39;,
​	        data: &#123;
​	
​	        &#125;,
​	        methods: &#123;
​	            showInfo(e)&#123;
​	                console.log(e.key,e.keyCode);
​	                console.log(e.target.value);
​	            &#125;
​	        &#125;,
​	    &#125;);
​	&lt;&#x2F;script&gt;
​	&#96;&#96;&#96;

&gt; __事件的修饰符可以连写 如&#96;@click.stop.prevent&#96;__

## 计算属性-姓名案例

[![image-20210717224325341](https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;HarryQu1229&#x2F;image-host&#x2F;main&#x2F;notes-img&#x2F;20211021193744.png)](https:&#x2F;&#x2F;gitee.com&#x2F;Cezzz&#x2F;image2_repo&#x2F;raw&#x2F;master&#x2F;img&#x2F;20211021193744.png)

- 插值语法实现

	&#96;&#96;&#96;HTML
	&lt;div id &#x3D;&quot;app&quot;&gt;
	    姓&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;firstName&quot;&#x2F;&gt; &lt;br&#x2F;&gt;
	    名&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;lastName&quot;&#x2F;&gt; &lt;br&#x2F;&gt;
	    姓名:&lt;span&gt;&#123;&#123;firstName.slice(0,3)&#125;&#125;-&#123;&#123;lastName&#125;&#125;&lt;&#x2F;span&gt;
	&lt;&#x2F;div&gt;
	
	&lt;script&gt;
	    var vm &#x3D; new Vue(&#123;
	        el: &#39;#app&#39;,
	        data: &#123;
	            firstName:&#39;c&#39;,
	            lastName:&#39;ez&#39;
	        &#125;,
	        methods: &#123;
	
	        &#125;,
	    &#125;);
	&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>methods 实现</p>
<blockquote>
<p>只要 data 中的数据发生改变，那么 Vue 一定会重新解析模板</p>
<p>本例中只要 data 发生改变，fullName 就会被调用</p>
</blockquote>
  <pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    姓<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName()&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName()&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName()&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName()&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            firstName<span class="token operator">:</span><span class="token string">'c'</span><span class="token punctuation">,</span>
            lastName<span class="token operator">:</span><span class="token string">'ez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'方法被调用'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<blockquote>
<p>注意这里在插值语法用的表达式需要是调用那个函数 <code>&#123;&#123;fullName()&#125;&#125;</code>  这样这个才会去 vm 里面找这个函数并且调用，如果不加括号只是返回这个函数本身</p>
<p>这里跟属性那里加事件触发不一样，事件触发可以不加括号也是 ok 的，一样效果</p>
</blockquote>
<blockquote>
<p>还有一点注意的是真的就把插值语法里面的代码当做是正常 js 表达式，反正什么变量或者函数以及调用都会去找对应的 vm 身上找，如果有什么普通数据类型或者 js 原生 api (方法函数啥的), 都可以用，就是不能用 js 语句</p>
</blockquote>
<p><strong><mark>任何数据的改变</mark> (通过单向绑定或双向绑定，一般指的都是双向绑定) 都会让这个 Vue 的模板重新解析一遍，也就是说 Vue 会把这个模板过来整体拿过来阅读一遍，如果改的那个数据并没有在 vm 里面没有使用那么就不会重新读取了，不过要是有用就重新读取</strong></p>
<blockquote>
<p>所以比如说元素被双向绑定给一个 vm 然后你改了这个元素，他的数据也会被改变，这个时候因为你改变了这个数据，__肯定是会__让 Vue 重新解析一遍，看有没有其他比如说方法里面用到这个数据的，其他跟这个数据绑定的元素 (不管是单向或者双向), 等等等，</p>
<ul>
<li>如果没有那就不会被读取，</li>
<li>如果有的话，那些就会做出对应的改变 (比如说这个方法现在就是里面的就是这个改变后的数据了),<strong> 然后解析过程中是会让所有在比如说插值语法的方法调用再次重新被调用，这么做这个方法现在就可以调用里面的代码 (其中有那个改变后的数据)</strong></li>
</ul>
<blockquote>
<p>注意解析过程中一定会让所有插值语法中的函数调用被重新调用一次，不管里面的数据有没有变</p>
</blockquote>
</blockquote>
<h2 id="计算属性"><a class="markdownIt-Anchor" href="#计算属性">#</a> 计算属性</h2>
<ul>
<li>定义：要用的属性不存在，要通过 ** 已有的属性 (不能是 vm 这个外面的属性，因为要是之后被改变了，vm 检测不到的，所以也不会 update 我们用到这个属性的那些地方)** 计算得来</li>
<li>原理：底层借助了 <code>Object.defineproperty</code>  方法提供的__getter 和 setter__</li>
<li>优势： 与 methods 实现相比，内部有缓存机制 (复用)，效率更高，调式方便</li>
<li>备注：
<ul>
<li>计算属性__最终会出现在 vm 上__，直接读取使用即可</li>
<li>如果计算属性要被修改，必须写 set 函数去响应修改，且 set 中要引起计算时依赖的数据发生改变 (要在 setter 函数里面做出真正的改变，不然是不会改的，因为改变我们计算属性只会调用这个计算属性的 setter)。</li>
</ul>
</li>
</ul>
<blockquote>
<p>_<em>计算属性不在 vm.<em>data 中</em></em></p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    姓<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            firstName<span class="token operator">:</span><span class="token string">'c'</span><span class="token punctuation">,</span>
            lastName<span class="token operator">:</span><span class="token string">'ez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            fullName<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token comment">//get的作用:当有人读取fullName时,get会被调用,且返回值就作为fullName的值</span>
                <span class="token comment">//get中的this指向调整为vm对象</span>
                <span class="token comment">//get什么时候会被调用:1.初次读取fullName时 2.所依赖的数据发生变化时</span>
                <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get被调用'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token comment">//当fullName被修改时调用set方法</span>
                <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'set'</span><span class="token operator">+</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">const</span> arr <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>lastName <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>需要是 computed, 然后存的是一个对象，这个对象里面的每个键与值都最终会成为 vm 对象上的属性与值</li>
<li>每个键都存的是一个对象这个对象里面的是一个 getter (可简写，看下方)(或者是 setter 和 getter)</li>
<li>因为这个键本身就是想作为我们 vm 的一个属性 (计算属性，用其他已有的属性计算出来的), 那么这个键存的对象里面的 getter 和 setter 用的都应该是我们已经的那些属性 (data 里面设置的那些)</li>
</ul>
<blockquote>
<p>在内部，vue 已经帮助我们让那些 getter 和 setter 里面的 this 指向指向了 vm, 就更方便了</p>
</blockquote>
<p>这个样子这个最后会变成我们 vm 身上的属性，<em> 我们直接把这个属性名放进插值里面就行了</em>，之后解析时看到这个属性就会来 vm 身上找，然后因为是读取这个计算属性，<mark> 所以就会调用这个计算属性的 getter 然后返回出来最终我们计算出来的属性的值</mark></p>
<p><em>_所以不要写什么 fullName.get!!!    fullName 会变成我们 vm 身上的一个属性，直接放 fullName (对于这个例子) 就行了</em>_</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220125161825817.png" alt="image-20220125161825817"></p>
<blockquote>
<p>注意如果模板有多个地方读取这个计算属性</p>
<ul>
<li><mark>这个属性的__getter 方法只会第一次那个计算属性被读取的时候被调用一次，之后的不会被调用__, 而是做了缓存，所以其实都是一样的值</mark></li>
<li><mark>这个计算属性__用到的数据__(就是那些已有属性的值通过双向绑定，或者是这个__计算属性本身 setter 里面修改的__) 被改变了的话，这个计算属性会重新调用 getter 用的数据当然是改了之后的数据</mark></li>
</ul>
<p><strong>这么做就不会因为缓存之后数据被改了，读取的还是之前缓存存的老的计算出来的值</strong>.</p>
<p>这个样子他就算数据改了还是会调用一下，做出对应的 update 然后再讲 update 之后的值存到缓存中</p>
</blockquote>
<blockquote>
<p><strong>(如果是改了没用到的属性，那对这个没影响不会调用这个计算属性的 getter 函数)</strong></p>
</blockquote>
<p>计算属性与我们之前的用 methods 的方式不一样，计算属性的返回值会被存到缓存，而要是调用函数那么不会把返回存到缓存，模板中有几次这个函数的调用，那么这个函数就会被调用几次</p>
<h2 id="计算属性简写"><a class="markdownIt-Anchor" href="#计算属性简写">#</a> 计算属性简写</h2>
<p>只使用读取，不考虑修改时才可这样使用</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    姓<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName()&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            firstName<span class="token operator">:</span><span class="token string">'c'</span><span class="token punctuation">,</span>
            lastName<span class="token operator">:</span><span class="token string">'ez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">fullName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get被调用'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>只需要 getter 的话那么可以直接把那个计算属性写成一个函数，然后这个函数里面写原本完整写法里面的 getter 里面的代码</p>
<p>不过注意还是那点，如果要使用在模板中，一定不要当做是函数调用，这个是个属性，不是函数！！！</p>
</blockquote>
<h2 id="监听属性-天气案例"><a class="markdownIt-Anchor" href="#监听属性-天气案例">#</a> 监听属性 - 天气案例</h2>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>今天天气很&#123;&#123;info&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeWeather<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>切换天气<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- &lt;button @click="isHot=!isHot">切换天气&lt;/button> --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            isHot<span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">changeWeather</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>isHot <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>isHot
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isHot<span class="token operator">?</span><span class="token string">'炎热'</span><span class="token operator">:</span><span class="token string">'凉爽'</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="监视属性"><a class="markdownIt-Anchor" href="#监视属性">#</a> 监视属性</h2>
<ul>
<li>监视属性 watch：
<ul>
<li>当被监视的属性变化时，回调函数自动调用，进行相关操作</li>
<li>监视的属性必须存在，才能进行监视</li>
<li>监视的两种写法
<ul>
<li>new Vue 时传入 watch 配置 (这种一般是用于一开始确认要监视)</li>
<li>通过__vm.$watch 监视 (这种一般是用于按照用户的行为来看监不监视)__
<ul>
<li>vm.$watch 方式传值需要用引号扩住那个键名</li>
</ul>
</li>
</ul>
</li>
<li>可以__监视 vm 里面的正常的属性，也可以监视计算属性！__</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>今天天气很&#123;&#123;info&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isHot=!isHot<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>切换天气<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            isHot<span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

        computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">info</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isHot<span class="token operator">?</span><span class="token string">'炎热'</span><span class="token operator">:</span><span class="token string">'凉爽'</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

        watch<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//方式一</span>
            isHot<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token comment">//初始化时让handler调用以下</span>
                immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">//当isHot发生改变时调用handler方法</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"new:"</span><span class="token operator">+</span>newValue<span class="token operator">+</span><span class="token string">'----'</span><span class="token operator">+</span><span class="token string">"old:"</span><span class="token operator">+</span>oldValue<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>

            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token comment">//计算属性也可以被监视</span>
            info<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token comment">//初始化时让handler调用以下</span>
                immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token comment">//当isHot发生改变时调用handler方法</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"new:"</span><span class="token operator">+</span>newValue<span class="token operator">+</span><span class="token string">'----'</span><span class="token operator">+</span><span class="token string">"old:"</span><span class="token operator">+</span>oldValue<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>

            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
    <span class="token comment">//方式二</span>
    vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'isHot'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
        <span class="token comment">//初始化时让handler调用以下</span>
        immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token comment">//当isHot发生改变时调用handler方法</span>
        <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"new:"</span><span class="token operator">+</span>newValue<span class="token operator">+</span><span class="token string">'----'</span><span class="token operator">+</span><span class="token string">"old:"</span><span class="token operator">+</span>oldValue<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>handler 属性两个参数都是 Vue 内部会给传出来的</p>
<p>还有其他监视一个属性时可以写的东西，目前先介绍到这</p>
</blockquote>
<h2 id="深度监视"><a class="markdownIt-Anchor" href="#深度监视">#</a> 深度监视</h2>
<ul>
<li>
<p>Vue 中的<mark> watch</mark><strong> 默认不监测对象内部值的改变</strong> (一层)</p>
<ul>
<li>所以像上面直接检测 numbers, 默认的是不检测他内部值的改变，只会检测这个 numbers 存的对象的地址的改变，这意味着要是里面内部变了，他不会触发 handler 函数</li>
</ul>
</li>
<li>
<p>配置 deep:true 可以监测对象内部值的改变 (多层)</p>
<ul>
<li>如果不配置 deep:true，遇到对象时，虽然内部值变化了，但是外部对象的地址并没有发生变化，所以不会触发 handler</li>
</ul>
</li>
<li>
<p><strong>Vue 自身可以监测对象内部值的改变，但 Vue 提供的 watch 不可以</strong></p>
</li>
<li>
<p>使用 watch 时根据数据的具体结构，决定是否采用深度监视</p>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>a的值是:&#123;&#123;numbers.a&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>numbers.a++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我让a+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>b的值是:&#123;&#123;numbers.b&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>numbers.b++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我让a+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            numbers<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                a<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
                b<span class="token operator">:</span><span class="token number">1</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

        watch<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//监视多级结构中某个属性的变化</span>
            <span class="token string">'numbers.a'</span><span class="token operator">:</span><span class="token punctuation">&#123;</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a改变了'</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token comment">//监视多级结构中所有属性的变化</span>
            numbers<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                deep<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"new:"</span><span class="token operator">+</span>newValue<span class="token operator">+</span><span class="token string">'----'</span><span class="token operator">+</span><span class="token string">"old:"</span><span class="token operator">+</span>oldValue<span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意我们对象里面的__键__都是字符串形式的，但我们一般不会给那个加上引号，直接省略掉</p>
<p>所以上面需要是 <code>'numbers.a'</code> , 这里是找的 vm.(_data.) numbers.a 读取出来的那个字符串当做值，所以需要给扩上引号才行</p>
<h2 id="监视的简写形式"><a class="markdownIt-Anchor" href="#监视的简写形式">#</a> 监视的简写形式</h2>
<ul>
<li>当只需要 handler，而不配置 immediate 和 deep 时，可以使用简写</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">watch<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">//简写</span>
	<span class="token function">isHot</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"new:"</span><span class="token operator">+</span>newValue<span class="token operator">+</span><span class="token string">'----'</span><span class="token operator">+</span><span class="token string">"old:"</span><span class="token operator">+</span>oldValue<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//简写  第二个参数不需要传配置对象，只需要传一个函数(注意不要用箭头函数)，该函数就相当于handler</span>
vm<span class="token punctuation">.</span><span class="token function">$watch</span><span class="token punctuation">(</span><span class="token string">'isHot'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"new:"</span><span class="token operator">+</span>newValue<span class="token operator">+</span><span class="token string">'----'</span><span class="token operator">+</span><span class="token string">"old:"</span><span class="token operator">+</span>oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="watch对比computed"><a class="markdownIt-Anchor" href="#watch对比computed">#</a> watch 对比 computed</h2>
<ul>
<li>
<p>computed 和 watch 之间的区别：</p>
<ul>
<li>computed 能完成的功能，watch 都可以完成</li>
<li>watch 能完成的功能，computed 不一定能完成，<strong>例如：watch 可以进行异步操作</strong></li>
</ul>
<blockquote>
<p>如果在 computed 的 getter 里面写个异步任务比如说定时器，然后在这个计时器里面的回调函数 return 我们 getter 想要原本想要返回的计算属性的值，但这个样子是在计时器的回调函数的代码块里面，<strong><mark> 而这个异步任务不能使用 return 给外部同步函数返回值，因为是_异步的_，所以也不能用同步定义的变量接</mark></strong>，所以这个样子 getter 里没有一个返回值所以默认是 undefined</p>
</blockquote>
<blockquote>
<p>而监视属性完全可以在异步操作的回调函数里面给那些数据 (属性) 做出改变，这个不需要返回值，所以可以异步操作</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>总结:</p>
<ul>
<li>计算属性和 watch 都可以实现时使用计算属性 (因为更整洁而且不用创建别的新的数据)</li>
<li>有异步操作用 watch!</li>
</ul>
</blockquote>
<ul>
<li><strong>两个重要的小原则：</strong>
<ul>
<li>所有被 Vue 管理的函数，最好写成普通函数，这样 this 的指向才是 vm 或组件实例对象</li>
<li>所有不被 Vue 所管理的函数 (<strong>定时器的回调函数，ajax 的回调函数，Promise 的回调函数等</strong>)，最好写成箭头函数，这样 this 的指向才是 vm 或组件实例对象 (箭头函数没有 this，需要向上找，这样就会找到 vm 或组件实例对象了，如果写普通函数，则它的 this 就是 window 了)</li>
</ul>
</li>
</ul>
<p><strong>所有不是由 Vue 所控制的回调，尽可能的写成箭头函数，原因是箭头函数没有 this 会向上找，找到 vm</strong></p>
<blockquote>
<p>最终目标就是让用的 this 指向 vm 对象</p>
</blockquote>
<p>用 watch 写姓名案例</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    姓<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>lastName<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
    姓名:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">></span></span>&#123;&#123;fullName&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            firstName<span class="token operator">:</span><span class="token string">'c'</span><span class="token punctuation">,</span>
            lastName<span class="token operator">:</span><span class="token string">'ez'</span><span class="token punctuation">,</span>
            fullName<span class="token operator">:</span><span class="token string">'c-ez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

        watch<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">firstName</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token comment">//watch可以开启异步任务，一秒钟后更改全名</span>
                <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> val <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">lastName</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">'-'</span> <span class="token operator">+</span> val<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意上方:</p>
<ul>
<li>异步操作需要在 watch 里面写，而不是 computed</li>
<li>异步操作需要是箭头函数，这个样子它里面的 this 才会指向这个函数所在作用域中的 this 的指向也就是 vm 对象 (而不再是调用计时器的 window 对象了)</li>
</ul>
<blockquote>
<p>再细说一下，那个定时器里面的回调函数是 js 引擎帮我们调用的 (不管是写成了正常函数还是箭头函数), 只不过</p>
<ul>
<li>要是是普通函数，那么 this 已经给你指定好了为 this</li>
<li>如果是箭头函数，也是 js 引擎给我们调的这个函数，<strong> 但是他没有了自己的 this, 所以他就往外找，找到了他所在作用域之中的 this 拿来用</strong>，在这里他往外找找到了 <code>firstName</code>  这个是 vue 所管理的函数，里面的 this 都指向的是我们这个 vm (Vue 实例化对象)</li>
</ul>
</blockquote>
</blockquote>
<h2 id="绑定class样式"><a class="markdownIt-Anchor" href="#绑定class样式">#</a> 绑定 class 样式</h2>
<p>可以先有个自己本来的 class 然后后面再跟着一个绑定了的 class, 最后会把他们这 class 都采用</p>
<p>(如果只是单纯两个 class, 没有绑定，就正常的，那之后的那个不会被加上去，不管用)</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 绑定class样式 字符串写法，适用于：样式的类名不确定，需要动态指定 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mood<span class="token punctuation">"</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>changeMood<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token comment">&lt;!-- 绑定class样式 数组写法，适用于：要绑定样式的个数和名字均不确定 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classArr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> //我们可以更好操作存在vm里面的数据以及使用各种api,注意这里的classArr是个数组(一般都是引号扩主代表字符串,不然会被当成是变量去vm里面找),数组是个表达式所以可以这么写,之后会把数组每个元素都取出来都生效包括原本的basic
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token comment">&lt;!-- 绑定class样式 对象写法，适用于：要绑定样式的个数和名字均确定,但是要动态决定是否使用 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classObj<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
            mood<span class="token operator">:</span><span class="token string">'normal'</span><span class="token punctuation">,</span>
            classArr<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'lxy1'</span><span class="token punctuation">,</span><span class="token string">'lxy2'</span><span class="token punctuation">,</span><span class="token string">'lxy3'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            classObj<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                lxz1<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
                lxz2<span class="token operator">:</span><span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">changeMood</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'happy'</span><span class="token punctuation">,</span><span class="token string">'sad'</span><span class="token punctuation">,</span><span class="token string">'normal'</span><span class="token punctuation">]</span>
                <span class="token keyword">const</span> index <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">3</span><span class="token punctuation">)</span>  <span class="token comment">//Math.floor向下取整</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>mood <span class="token operator">=</span> arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193742.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193742.png" alt="image-20210717153820903"></a></p>
<h2 id="绑定style样式"><a class="markdownIt-Anchor" href="#绑定style样式">#</a> 绑定 style 样式</h2>
<ul>
<li>style 样式：
<ul>
<li><code>:style=&quot;&#123;fontSize:xxx&#125;&quot;</code> ，其中 xxx 是动态值</li>
<li><code>:style=&quot;&#123;a,b&#125;&quot;</code> ，其中 a,b 是样式对象</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;fontSize:fsize+<span class="token punctuation">'</span>px<span class="token punctuation">'</span>&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>styleObj<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token comment">&lt;!-- 数组写法 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>[styleObj,styleObj2]<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token comment">&lt;!-- 数组写法 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basic<span class="token punctuation">"</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>styleArr<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
            fsize<span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span>
            styleObj<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                fontSize<span class="token operator">:</span><span class="token string">'60px'</span><span class="token punctuation">,</span>
                backgroundColor<span class="token operator">:</span><span class="token string">'green'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            styleObj2<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                height<span class="token operator">:</span><span class="token string">'50px'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            styleArr<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>
                    fontSize<span class="token operator">:</span><span class="token string">'60px'</span><span class="token punctuation">,</span>
                    backgroundColor<span class="token operator">:</span><span class="token string">'green'</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    height<span class="token operator">:</span><span class="token string">'50px'</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>

    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220125183431781.png" alt="image-20220125183431781"></p>
<h2 id="条件渲染"><a class="markdownIt-Anchor" href="#条件渲染">#</a> 条件渲染</h2>
<ul>
<li>
<pre><code class="language-vue">
  v-if
  <pre class="line-numbers language-none"><code class="language-none">	
	- &#96;v-if&#x3D;&quot;表达式&quot;&#96;
	- &#96;v-else-if&#x3D;&quot;表达式&quot;&#96;
	- &#96;v-else&#96; &lt;--这个没有表达式,没必要
	- __适用于切换频率较低的场景(不适用与高频率切换因为需要不停创造新的或者删除)__
	- __特点：不展示的DOM元素直接被移除__
	- 注意：&#96;v-if和v-else-if、v-else&#96;一起使用，但要求结构不能被打断
		- __用起来跟我们正常的if else if else一样,如果之前的if的表达式为正确后面的else if等等等都不会去判断了(所以这方面效率比较高)__
	
	![image-20220125185728447](https:&#x2F;&#x2F;raw.githubusercontent.com&#x2F;HarryQu1229&#x2F;image-host&#x2F;main&#x2F;notes-img&#x2F;image-20220125185728447.png)
	
	&gt; 这四个盒子要紧紧挨在一起,中间不能打断,这样才能确定这个就是一个if else if else的这类的语句

- &#96;&#96;&#96;vue
	
	v-show<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
  
  - `v-show=&quot;表达式&quot;`
  - __适用于切换频率较高的场景(因为只是改了改样式)__
  - __特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉(`display:none`)__

</code></pre>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>当前的n值为&#123;&#123;n&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我n+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- 使用v-show条件渲染 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>hello1,&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1===1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>hello2,&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- 使用v-if条件渲染 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>hello1,&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1===1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>hello2,&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- v-else和v-else-if和v-else,中间不可以中断 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n===1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Angular<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n===2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>React<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 中断 --></span>
    <span class="token comment">&lt;!-- &lt;div>中断&lt;/div> --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n===3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>Other...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- v-if与template的配合使用 template不会破坏结构 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n===1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>lxy<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>js<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
            n<span class="token operator">:</span><span class="token number">0</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意上方用到的数据 n, 被改变后会让模板重新解析然后所有用到 n 的，包括那些 v-if/v-show 用到的表达式，只要用到了都会读取那个最新的 n 值，然后去进行判断 (看上方), 最后产生对应的变化</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193743.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193743.png" alt="image-20210717211503037"></a></p>
<h2 id="template属性"><a class="markdownIt-Anchor" href="#template属性">#</a> template 属性</h2>
<p>一个字符串模板作为 Vue 实例的标识使用。模板将会<strong>替换</strong>挂载的元素。挂载元素的内容都将被忽略，除非模板的内容有分发插槽。</p>
<p>[<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193739.png" alt="image-20210719112015807"></p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220125190235745.png" alt="image-20220125190235745"></p>
<p>这么做就可以让那哥 template 里面那三个都被删除 / 创造出来 (因为是用 v-if)</p>
<p><mark>注意！</mark></p>
<ul>
<li>外面的用 template 这样到时候真正放到页面上 template 会没掉，比用 div 好，div 可能会影响页面结构</li>
<li><strong>template 只能用 <code>v-if</code> , 不能用 <code>v-show</code> </strong></li>
</ul>
<blockquote>
<p>不能和 v-show 的原因应该是，v-show 是 display 隐藏，但是实际渲染后根本没有 templete 节点，自然无效了</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193754.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193754.png" alt="image-20210718105930216"></a></p>
<h2 id="列表渲染"><a class="markdownIt-Anchor" href="#列表渲染">#</a> 列表渲染</h2>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">v-for指令<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>用于展示列表数据，哪个元素需要这个 v-for 产生多个就把这个 v-for 加在哪</li>
<li>语法： <code>v-for=&quot;(item,index) in xxx&quot; :key=&quot;yyy&quot;</code> (这个 key 主要是用来区分开每一个的，之后会说到)</li>
<li>可遍历：<strong>数组、对象、字符串 (很少)、指定次数 (很少)</strong></li>
<li>看似是 for in 其实是像 java 的 for each loop</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 遍历数组 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>人员列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p in persons<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(p,index) in persons<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;index&#125;&#125;--&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>


    <span class="token comment">&lt;!-- 遍历对象 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>汽车信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(value,key) in car<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>key<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;key&#125;&#125;--&#123;&#123;value&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- 遍历字符串 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>字符串<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(c,k) in str<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>k<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;c&#125;&#125;--&#123;&#123;k&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token comment">&lt;!-- 遍历指定次数 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(a,b) in 5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;a&#125;&#125;--&#123;&#123;b&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span> //a会是1,2,3,4,5
        										 //b会是0,1,2,3,4
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            persons<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>
                    id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>
                    name<span class="token operator">:</span><span class="token string">'张三'</span><span class="token punctuation">,</span>
                    age<span class="token operator">:</span><span class="token number">18</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>
                    name<span class="token operator">:</span><span class="token string">'李四'</span><span class="token punctuation">,</span>
                    age<span class="token operator">:</span><span class="token number">19</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>
                    id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>
                    name<span class="token operator">:</span><span class="token string">'王五'</span><span class="token punctuation">,</span>
                    age<span class="token operator">:</span><span class="token number">20</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            car<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span><span class="token string">'奥迪A8'</span><span class="token punctuation">,</span>
                price<span class="token operator">:</span><span class="token string">'70W'</span><span class="token punctuation">,</span>
                color<span class="token operator">:</span><span class="token string">'black'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            str<span class="token operator">:</span><span class="token string">'test'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>

        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="key作用和原理"><a class="markdownIt-Anchor" href="#key作用和原理">#</a> key 作用和原理</h2>
<p><code>:key=...</code>  是给 vue 内部操作设置的，不会被真正显示到真实 DOM 上，但是会显示在虚拟 DOM 上</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193746.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193746.png" alt="image-20210717234108316"></a><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220125224029583.png" alt="image-20220125224029583"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220125224943360.png" alt="image-20220125224943360"></p>
<h2 id="列表过滤"><a class="markdownIt-Anchor" href="#列表过滤">#</a> 列表过滤</h2>
<ul>
<li>
<p>用 watch 实现</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 遍历数组 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>人员列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keyWord<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入姓名<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p in filPersons<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            keyWord<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
            persons<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'马冬梅'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周冬雨'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'004'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'温兆伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            filPersons<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        watch<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            keyWord<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                immediate<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    <span class="token comment">//filter会返回一个全新的数组</span>
                    <span class="token comment">//任意一个字符串.indexOf('')结果都为0</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>filPersons <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span> 
                        <span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span>
                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                 
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>

        <span class="token punctuation">&#125;</span>

    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220125230553024.png" alt="image-20220125230553024"> 任何字符串都包含空字符串，且 indexOf 会返回 0</p>
</blockquote>
<blockquote>
<p>上面使用 <code>immediate:true</code>  也就是会让那个页面一上来就会调用那个 handler 函数，而传进去的值在这里是空的字符串 (这是因为用 v-model 双向绑定那个输入框，然后里面用的表达式是我们 data 里面的 keywords,which we have set to ‘’(empty string), so once the handler function is called, the first parameter value passed to the handler function is empty string instead of undefined), and because like we said above that calling indexOf method on a string with an empty string as parameter will return 0, hence 在上方代码中，任何数据都不会过滤掉让 <code>filPersons</code>  里面会是所有的原本数组有的数据，这个样子我们绑定的然后用了 <code>filPersons</code>  表达式的地方会是这个带有所有的原本的数据的数组</p>
</blockquote>
</li>
<li>
<p>用 computed 实现</p>
  <pre class="line-numbers language-js" data-language="js"><code class="language-js">computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
    <span class="token function">filPersons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span> <span class="token comment">//这里使用的是箭头函数!然后里面的this才会指向vm</span>
            <span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>之前我们说过计算属性一上来会自己先调用一下，然后返回值存缓存，之后只有用到的数据有变化才会重新被调用</p>
<p>所以不需要像上面那么麻烦，一开始还是会显示所有的</p>
</blockquote>
</li>
</ul>
<h2 id="列表排序"><a class="markdownIt-Anchor" href="#列表排序">#</a> 列表排序</h2>
<ul>
<li>先序知识：JavaScript Array.sort () 方法
<ul>
<li>如果调用该方法时没有使用参数，将按字母顺序对数组中的元素进行排序，说得更精确点，是<strong>按照字符编码</strong>的顺序进行排序。要实现这一点，首先应把数组的元素都转换成字符串（如有必要），以便进行比较。</li>
<li>如果想按照其他标准进行排序，就需要提供比较函数，该函数要比较两个值，<strong>然后返回一个用于说明这两个值的相对顺序的数字</strong>。比较函数应该具有两个参数 a 和 b，其返回值如下：</li>
<li><strong>若 a 小于 b，在排序后的数组中 a 应该出现在 b 之前，则返回一个小于 0 的值。</strong></li>
<li>若 a 等于 b，则返回 0。</li>
<li>若 a 大于 b，则返回一个大于 0 的值。</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 遍历数组 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>人员列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keyWord<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入姓名<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sortType=2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>年龄升序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sortType=1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>年龄降序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sortType=0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>原顺序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p in filPersons<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            keyWord<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
            sortType<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//0代表原数据，1代表降序  2代表升序</span>
            persons<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'马冬梅'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周冬雨'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'004'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'温兆伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        computed<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">filPersons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
                    <span class="token keyword">return</span> p<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>keyWord<span class="token punctuation">)</span><span class="token operator">!==</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//判断是否需要排序</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sortType<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p1<span class="token punctuation">,</span>p2</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
                        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>sortType<span class="token operator">===</span><span class="token number">1</span><span class="token operator">?</span>p2<span class="token punctuation">.</span>age<span class="token operator">-</span>p1<span class="token punctuation">.</span>age<span class="token operator">:</span>p1<span class="token punctuation">.</span>age<span class="token operator">-</span>p2<span class="token punctuation">.</span>age<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">return</span> arr<span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="更新时的一个问题"><a class="markdownIt-Anchor" href="#更新时的一个问题">#</a> 更新时的一个问题</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193745.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193745.png" alt="image-20210717233819817"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193747.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193747.png" alt="image-20210717234346349"></a></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    
    <span class="token comment">&lt;!-- 遍历数组 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>人员列表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>keyWord<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>请输入姓名<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>updateMei<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>更新马冬梅的信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p in persons<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>p.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;--&#123;&#123;p.sex&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            keyWord<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
            sortType<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token comment">//0代表原数据，1代表降序  2代表升序</span>
            persons<span class="token operator">:</span><span class="token punctuation">[</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'马冬梅'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'002'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周冬雨'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'女'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'003'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'周杰伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">40</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'004'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'温兆伦'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">updateMei</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token comment">// this.persons[0].name="韩金轮"  //奏效</span>
                <span class="token comment">// this.persons[0].age=30  //奏效</span>

                <span class="token keyword">this</span><span class="token punctuation">.</span>persons<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>id<span class="token operator">:</span><span class="token string">'001'</span><span class="token punctuation">,</span>name<span class="token operator">:</span><span class="token string">'韩金轮'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">30</span><span class="token punctuation">,</span>sex<span class="token operator">:</span><span class="token string">'男'</span><span class="token punctuation">&#125;</span> <span class="token comment">//不奏效</span>
<span class="token comment">// 其实在内存中确实是给这个数组改了,只不过页面不会显示这个更新,这是因为我们接下来讲的数组的监测数据原理</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="vue监测数据的原理_对象"><a class="markdownIt-Anchor" href="#vue监测数据的原理_对象">#</a> Vue 监测数据的原理_对象</h2>
<ul>
<li>
<p>模拟数据监测 —setInterval ()</p>
<p>setInterval () 方法可按照指定的周期（以毫秒计）来调用函数或计算表达式。</p>
<p>setInterval () 方法会不停地调用函数，直到 <a target="_blank" rel="noopener" href="https://www.runoob.com/jsref/met-win-clearinterval.html">clearInterval()</a> 被调用或窗口被关闭。由 setInterval () 返回的 ID 值可用作 clearInterval () 方法的参数。</p>
  <pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>script<span class="token operator">></span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
        address<span class="token operator">:</span><span class="token string">'hitwh'</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">let</span> tmp <span class="token operator">=</span> <span class="token string">'cez'</span>
    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span>name<span class="token operator">!=</span>tmp<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            tmp <span class="token operator">=</span> data<span class="token punctuation">.</span>name
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name被修改了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://xn--tmpdata-3w3kmjm0jh3hvwb69jhon2zitk6bshh1kc71k159ej5hf95c461eg1joc.name">这里如果不使用 tmp 变量而是在判断中直接写 data.name</a>!=’cez’，<a target="_blank" rel="noopener" href="http://xn--data-fj9fo6g189b.name">则改变 data.name</a>，每隔 100ms 就会调用方法</p>
</blockquote>
</li>
<li>
<p>模拟数据监测 — <code>Object.defineProperty()</code>  不可行</p>
<ul>
<li>直接在 data 中 defineProperty 会造成 get 和 set 的无限递归调用自身。</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>script<span class="token operator">></span>
    <span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
        address<span class="token operator">:</span><span class="token string">'hitwh'</span>
    <span class="token punctuation">&#125;</span>

    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span><span class="token string">'name'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span> data<span class="token punctuation">.</span>name
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            data<span class="token punctuation">.</span>name <span class="token operator">=</span> val
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193749.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193749.png" alt="image-20210718094959540"></a></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="http://xn--data-z94fj9bvyme1dpz0dfk5azlenm1er2gh46b.xn--namegetterdata-3n0w915aeyh4xo3o1egedu42jxdve2r2a.name">上面可以看到要是调用 data.name 会触发 getter 函数返回的是 data.name</a>, 所以这个又被调用了，然后 getter 又被触发了，这直接内存 (栈) 溢出了。不能这么干！</p>
<p><strong>我们一般 getter 和 setter (数据代理或者计算属性那种) 都是:</strong></p>
<ul>
<li>比方说对于一个数据，然后这个数据 getter 和 setter 函数是被这个数据在调用或者读取的时候所调用的</li>
<li>然后这个数据这个 getter 和 setter 函数里面返回的和设置的其实是另外别的数据
<ul>
<li>比如说 vm 上 (来自于 vm._data) 的属性的 getter 和 setter 都是返回或者设置 vm._data 里面那个对应的属性的值</li>
<li>再比如说计算属性被调用或者修改触发 getter 和 setter 都是改的他用的那些 vm 身上的属性</li>
</ul>
</li>
<li>这个样子就不是调用或者赋值给自己，所以就不会反复触发 getter/setter 函数发生栈溢出</li>
</ul>
</blockquote>
</li>
<li>
<p>Observer</p>
<p><strong>这里仅仅模拟了一层，在 Vue 中更加完善，只要是对象，不管有几层都可以监视</strong></p>
<blockquote>
<p><strong>我们这个例子只会看到 data 里面的第一层，要是 data 有存的对象，那么这个对象里面存的属性我们就不会有对应的 setter 和 getter, 所以要是改变里面的那些值，setter 不会被调用因为压根就没有</strong></p>
<p>而 Vue 真实源码是有个递归，会一直往下找知道将所有的属性都给加上了 getter 和 setter. 并且 Vue 的源码可以让不光是对象，数组每个的元素 (以及元素存的是对象里面 (的对象的…) 所有键与值) 都会被取出来给到 obs 然后用 getter 和 setter 搭建关系</p>
</blockquote>
</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
    address<span class="token operator">:</span><span class="token string">'hitwh'</span>
<span class="token punctuation">&#125;</span>   

<span class="token comment">//创建一个监视的实例对象，用于监视data中属性的变化</span>
<span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obs<span class="token punctuation">)</span>

<span class="token comment">//准备一个vm实例对象</span>
<span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
vm<span class="token punctuation">.</span>_data <span class="token operator">=</span> data <span class="token operator">=</span> obs

<span class="token keyword">function</span> <span class="token function">Observer</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//汇总对象中所有的属性形成一个数组</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token comment">//遍历</span>
    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
        <span class="token comment">//这里的this就是Observer的实例对象</span>
        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token punctuation">&#123;</span>
            <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'$&#123;k&#125;被修改了,我要去解析模板,生成虚拟DOM.....开始干活'</span><span class="token punctuation">)</span>
                obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> val
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    

<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>解析:</p>
<ul>
<li>
<p>上方有个 data 就是传进给我们实例化 Vue 对象的那个</p>
</li>
<li>
<p>我们可以创造一个构造函数叫做 Observer, 然后这个构造函数需要一个参数，我们可以把 data 传进去然后实例化这个 Observer 对象</p>
</li>
<li>
<p>data 传进去之后会得到他所有的键名存在一个数组里，然后对每一个键名都将这个键名加在 this 上面，这里的 this 因为是构造函数对象里面的，所以调用这个的会是实例化这个构造函数的那个对象 (也就是上面的 obs)</p>
</li>
</ul>
<blockquote>
<p>注意 foreach 是箭头函数才可以让里面的 this 指向实例化对象</p>
</blockquote>
<ul>
<li>然后在给我们这个实例化对象加上这些属性 (键名) 时，我们设置好了__getter 和 setter 分分指向了传进来的那个 obj 对象 (也就是一开始 data 存的那个对象) 的对应的那个键名的值__, 这样就不会像是我们之前说的自己调用自己 (而是用别的对象的数据 (属性))</li>
</ul>
<blockquote>
<p>就是把 obj 的所有属性，通过 forEach () 转移到 obs 对象当中，然后二者通过 get () 和 set () 方法发生关联。</p>
</blockquote>
<ul>
<li>之后我们把这个实例化对象 (obs) 给了 data 然后也给了 vm._data, 这也是为什么 data===vm._data 会返回 true</li>
<li>这个 setter 里面不光改的是那个传进来的那个 obj 对象 (也就是一开始的 data) 的对应的那个键名的值，他这里面还会解析模板的代码</li>
<li>这也就是说不管你是 vm._data 修改了哪个 (任何) 属性，都会调用 vm._data 存的这个实例化的 obs 对象里面对应的那个被改变值的那个键名所有的 setter 函数，在这个函数里面会把原来传进来的 obj 对象对应的数据做出改变 (这个 obj 对象会一直存在于这个实例化函数当中，因为我们不管怎么样读取或者改的值都是通过调用 obs 对象里面那个属性的 getter 和 setter 来获取或者赋值给这个 obj 里面对应的键的值), 然后各种解析模板的代码，模板一解析就会生成新的虚拟 DOM, 然后就会新旧 DOM 对比，然后更新页面</li>
</ul>
</blockquote>
<p>总结:</p>
<p>1，obs 把 data 的数据全部拷贝下来并创建 get set (也就是做了 data 的数据代理)</p>
<p>2，把变量 data 的地址换成 obs，今后需要对原 data 地址里的数据做更改时就只能通过 obs 来实现（不然就用不了 obs 里面的侦听逻辑）</p>
<p>3，最后把 obs 代给 vm._data，vm 里面会用一次 defineProperty 方便我们只用 vm.name 就能访问或修改</p>
<p>4，总结一下就是 vm 做了 obs 的数据代理，obs 又做了原始 data 的数据代理</p>
<blockquote>
<p>这样不管是改了 (不管如何改) vm._data. 属性，还是那个 data. 属性，还是 vm. 属性，其实都会最终访问的是那个 obs 实例化对象 (其实 vm._data 和 data 就是存的地址就是这个 obs 实例化对象的地址) 身上的那个值，而因为那个值是用 getter 和 setter 加上去的，所以读取 / 赋值会调用 getter/setter, 而那个 setter 里面有着其他函数的调用，这些函数就包括解析模板。模板解析 -&gt; 产生新的虚拟 DOM-&gt; 新的虚拟 DOM 跟跟之前的虚拟 DOM 比较 -&gt; 页面产生</p>
<p>这么做就会让数据绑定实现</p>
</blockquote>
<p><strong><mark>所以 Vue 检测数据的原理就是通过 setter</mark></strong></p>
<h2 id="vueset"><a class="markdownIt-Anchor" href="#vueset">#</a> Vue.set()</h2>
<blockquote>
<p>这个的作用是比如你的 vm 现在有一些属性你现在先没用上，然后只有用户做了写什么然后我们才会加，那么这个时候我们要是通过 <code>vm._data.属性名=...</code>  或者 <code>vm.属性名=...</code>  来__添加属性__是不行的，这是因为我们 vm 上面那些我们设的属性是通过_data 属性里面数据代理过来的，而_data 里面的属性则是通过传入一开始那个 data 里面的数据 (obj) 然后也是 setter 和 getter 跟那些传进来的值交互。我们这里要是直接像上面我说的那样直接加是不行的，连 getter 和 setter 都没有。这种方式不是通过我们之前说的那样，所有在那个 obs 实例化对象的 setter 里面没有跟这个属性对应的 setter (和 setter), 所以就算你设了这些属性然后修改他的值，是不会触发 obs 实例化对象里面的对应的 setter 的因为压根就没有，所以不触发 setter 就没有重新解析模板等等等的代码，所以不是__响应式__</p>
<p><mark>而要是想之后加上属性而且是响应式的就像我们一开始在 data 里面设的一样就需要用到这个 Vue.set ()</mark></p>
</blockquote>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">[Vue.set( target, propertyName&#x2F;index, value )]<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ul>
<li>
<p><strong>参数</strong>：</p>
<ul>
<li><code>&#123;Object | Array&#125; target</code></li>
<li><code>&#123;string | number&#125; propertyName/index</code></li>
<li><code>&#123;any&#125; value</code></li>
</ul>
</li>
<li>
<p><strong>返回值</strong>：设置的值。</p>
</li>
<li>
<p><strong>用法</strong>：</p>
<p><strong>向响应式对象中添加一个 property，并确保这个新 property 同样是响应式的，且触发视图更新</strong>。它必须用于向响应式对象上添加新 property，<strong>因为 Vue 无法探测普通的新增 property</strong> (比如  <code>this.myObject.newProperty = 'hi'</code> )</p>
<p><mark><strong>注意对象不能是 Vue 实例，或者 Vue 实例的根数据对象。</strong></mark></p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193750.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193750.png" alt="image-20210718100042415"></a></p>
<blockquote>
<p>也就是说不能给我们 vue 实例化对象 vm, 以及 vm._data (vm 的配置项的 data) 直接用 Vue.set (或者 vm.$set (…)) 以此来添加一个响应式属性，只能对 vm 身上的一个__对象__属性 (任何，除了_data) 身上用 Vue.set (或者 vm.$set (…)) 来添加新的响应式属性</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学校名称:&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学校地址:&#123;&#123;address&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>学生信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addSex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>添加性别属性,默认为男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学生姓名:&#123;&#123;student.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学生年龄:真实&#123;&#123;student.age.rAge&#125;&#125;--虚假&#123;&#123;student.age.sAge&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>student.sex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>学生性别:&#123;&#123;student.sex&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>朋友<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(f,index) in student.friends<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span><span class="token string">'hitwh'</span><span class="token punctuation">,</span>
            address<span class="token operator">:</span><span class="token string">'wh'</span><span class="token punctuation">,</span>
            student<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
                age<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                    rAge<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
                    sAge<span class="token operator">:</span><span class="token number">18</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                friends<span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'lxy'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'lxz'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">&#125;</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">addSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token comment">//this.$set(this.student,'sex','男');</span>
                Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">,</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="vue监测数据的原理_数组"><a class="markdownIt-Anchor" href="#vue监测数据的原理_数组">#</a> Vue 监测数据的原理_数组</h2>
<ul>
<li>
<p>前序知识：JavaScript splice () 方法</p>
<ul>
<li>
<p>定义和用法</p>
<p>splice () 方法向 / 从数组中添加 / 删除项目，然后返回被删除的项目。</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193751.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193751.png" alt="image-20210718103753909"></a></p>
<blockquote>
<p>该方法会改变原始数组。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学校名称:&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学校地址:&#123;&#123;address&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>学生信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addSex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>添加性别属性,默认为男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学生姓名:&#123;&#123;student.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学生年龄:真实&#123;&#123;student.age.rAge&#125;&#125;--虚假&#123;&#123;student.age.sAge&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>student.sex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>学生性别:&#123;&#123;student.sex&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>爱好<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(hobby,index) in student.hobbies<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            &#123;&#123;hobby&#125;&#125;
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>朋友<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(f,index) in student.friends<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span><span class="token string">'hitwh'</span><span class="token punctuation">,</span>
            address<span class="token operator">:</span><span class="token string">'wh'</span><span class="token punctuation">,</span>
            student<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span><span class="token string">'cez'</span><span class="token punctuation">,</span>
                age<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                    rAge<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
                    sAge<span class="token operator">:</span><span class="token number">18</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                hobbies<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'抽烟'</span><span class="token punctuation">,</span><span class="token string">'喝酒'</span><span class="token punctuation">,</span><span class="token string">'烫头'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                friends<span class="token operator">:</span><span class="token punctuation">[</span>
                    <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'lxy'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">&#123;</span>name<span class="token operator">:</span><span class="token string">'lxz'</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">&#125;</span>
                <span class="token punctuation">]</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">addSex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token comment">//this.$set(this.student,'sex','男');</span>
                Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>student<span class="token punctuation">,</span><span class="token string">'sex'</span><span class="token punctuation">,</span><span class="token string">'男'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="vue监测数据总结"><a class="markdownIt-Anchor" href="#vue监测数据总结">#</a> Vue 监测数据总结</h2>
<ol>
<li>
<p>Vue 会监视 data 中__所有层次__的数据</p>
</li>
<li>
<p>如何监测对象中的数据</p>
<p>通过 setter 实现监视，且要在__new Vue 的时候就传入要监测的数据__</p>
<ul>
<li>
<p>对象中后追加的属性，Vue 默认不做响应式处理</p>
</li>
<li>
<p>如需给后添加的属性做响应式，使用如下 API：</p>
<p><code>Vue.set(target,propertyName/index,value)</code>  或</p>
<p><code>vm.$set(target,propertyName/index,value)</code></p>
</li>
</ul>
</li>
<li>
<p>如何监测数组中的数据</p>
<p>通过__包裹__数组更新元素的方法实现，本质就是做了两件事</p>
<ul>
<li>调用原生对应的方法对数组进行更新</li>
<li><strong>重新解析模板，进而更新页面</strong></li>
</ul>
</li>
<li>
<p>在 Vue 中修改数组中某个元素一定要使用如下方法：</p>
<ol>
<li>
<p><code>push() pop() shift() unshift() splice() sort() reverse()</code></p>
</li>
<li>
<p><code>Vue.set() vm.$set()</code></p>
</li>
</ol>
</li>
</ol>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220128000159994.png" alt="image-20220128000159994"></p>
<blockquote>
<p>在 Vue 里面</p>
<p>检测数据 — 对象:</p>
<ul>
<li>
<p>一开始 data 里面存的各种数据，任何作为 obj 传进创建 obs 实例对象里相当于这个传进的数据被劫持了，然后 obj 里面每个键值 pair 都会被我们用 <code>defineProperty</code>  添加到我们 obs 实例化对象上，然后添加每个键值 pair 时都是设有 getter 和 setter 的。所有一开始 data 里面是如果</p>
<ul>
<li>键存的就是普通数据类型，那么那个键被加到 obs 身上时设置了 getter 和 setter 分别读取和赋值那个传进来被劫持的 obj (数据 /) 对象上面的对应的键的值，然后这个 setter 有重新解析模板那些代码.</li>
<li>键存的是对象，那么和这个对象里面的 (对象里面的对象), 这里面__所有存着对象的键__<mark>以及</mark>__所有里面有的存着普通数据类型的键__和都会被通过 getter 和 setter 设置到了 obs 身上，然后像上面一样，getter 和 setter 分别读取和赋值那个传进来被劫持的 obj (数据 /) 对象上面的对应的键的值，然后这个 setter 有重新解析模板那些代码.</li>
</ul>
<p>所以可以说是存对象 (以及存的是普通数据类型的键) 的键里面的值是被 setter 所监视的，因为我们一旦改变__不管是对象 (因为存着对象的键也被是设了 getter 和 setter, 所以改整个对象也就是改地址也会被 setter 检测到)__还是那些存普通数据类型的键里面的普通类型的值 (可能是被包裹在多个对象之中), 只要我们修改，也就是重新赋值，就一定会调用 obs 上面那个键对应的 setter 然后 setter 里面就是解析模板等代码… 以此达到了检测数据 (对于对象 (和普通数据))</p>
<p>当然这个 obs 的地址赋给了 data 也赋给了_data.</p>
<p><mark>而要是我们之后添加新的属性，不管存的是什么，因为不是通过一开始在 data 里面作为一起作为 obj 传入那个 obs 实例化对象，所以不会给他们设有 setter 和 getter. 所以就算你直接添加是可以，但这个属性并没有被检测到，不会被调用 setter (因为压根就没有对应的) 以及里面的解析模板的代码</mark></p>
<p>不过我们可以用 Vue.set 方式添加，不过这种方式不能直接添加到我们 vue 实例 (vm) 身上也不能直接添加到 vm._data 身上，只能添加到 vm. 某个对象 (. 可以包含更多对象等) 身上。这样添加的数据就是响应式的，也就是可以被检测到 (会调用 setter 的)</p>
</li>
</ul>
<p>检测数据 — 数组:</p>
<ul>
<li>
<p>这里一开始 data 里面如果是</p>
<ul>
<li>键存的是数组，那么和这个键 (<strong>存数组这个键</strong>) 是会像我们说的一样通过 getter 和 setter 设置到了 obs 身上，然后像上面一样，getter 和 setter 分别读取和赋值那个传进来被劫持的 obj (数据 /) 对象上面的对应的键的值，然后这个 setter 有重新解析模板那些代码.
<ul>
<li>所以要是把一个存数组的属性的值改成别的值 (另外一个地址，另外一个对象，等等等), 都是会调用对应的 setter 然后解析…</li>
</ul>
</li>
<li>键存的是数组每一个元素，也可以说是 (键为 0 存了数组的第一个元素 (不管这元素是什么), 键为 1 存了数组的第一个元素 (不管这元素是什么), 键为 2 存了数组的第一个元素 (不管这元素是什么),…), 那么这些键 (可以理解为数组的每一个下标值 (index)) 是不会有对应的 setter 和 getter 的
<ul>
<li>所以比如说把这个数组下标为 0 存的那个元素给改变了 ( <code>数组[0]=xxx)</code>  是不会调用 setter 的，所以这个改变是不会被检测到的，<strong> 虽然他就是改了！！！确确实实是改了数组</strong>，但是这个改变没有调用 setter 所以不会被检测到</li>
</ul>
</li>
</ul>
<p>值得注意的是，要是这个数组里面存的是个对象，比如说 <code>数组[0]</code>  存的是个对象，然后你改变这个对象里面的任何属性 (因为这个属性不可能是一个数组里面的属性), 那么这个改变还是会被检测到的！还是会像我们上面说的调用对应键的 setter 然后解析… 所以:</p>
<ul>
<li><code>数组[0]=xxx</code>  这个改变不会被检测到</li>
<li><code>数组[0].属性名=xxx</code>  这个改变会被检测到！！！当然这个前提是这个数组 [0] 存的是个对象而且那个属性名是一开始在 data 里面就有的，而不是新添加的还是啥的</li>
</ul>
<p>那数组里面的数据什么时候改变会被检测到呢？</p>
<p>是当我们调用以下任意方法时:</p>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193752.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193752.png" alt="image-20210718103811958">)</a></p>
<p><mark>注意！</mark><strong> 这些方法时<mark>不是</mark>数组原型上的方法然后我们数组通过原型链获取到的，在 Vue 里面已经给我们重新一套一样的方法 (覆盖的意思，或者也可以说是 vm 将上面变更数组的 7 个方法进行了包裹), 而我们用数组调用这七个任意方法，在那里面当然会做出这些方法应该做的，而且这些方法里面还会将数组通过这次方法所有的改变给检测到，然后会调用解析模板… 那些代码</strong></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193753.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193753.png" alt="image-20210718105601009"></a></p>
<p><mark>注意！</mark>__这些方法时可以用一个数组调用然后真正改变调用这个数组的方法，而不是像 filter 那些只是拿来操作，然后返回一个改变后的还需要你自己再拿一个变量来存改变后的值，__不过如果是 filter 这种的我们完全可以把返回的结果再重新赋值给那个数组属性，这样我们并没有改变这个数组的某个 (整个) 元素，而是改变的这个存的数组的键存的这整个数组，这个键还是会有 getter 和 setter 所以改变了，这里的改变也会被 setter 检测到，然后解析…</p>
<p>所以要是想给一个存数组的键改这个数组里面某个下标的 (一整个) 元素时，比如说这个元素是个对象，然后你想把整个这个元素给更换成别的值，那么就需要调用上面的数组方法，然后这个改变就会检测到，然后这个改变就会显示到页面上用到得地方.</p>
<p>除此之外还可以用 <code>Vue.set(数组,下标,改变成什么值)</code>  或者 vm.$set (…) 一样，这种方式__也可以让改变被检测到！！！__</p>
</blockquote>
<blockquote>
<p>注意，数组里面可能存对象，对象里面也有可能存数组，这个没有影响，数组就按照数组的方式检测里面数据，对象 (and 普通数据类型) 就按照对象的方式检测里面的数据</p>
</blockquote>
<p>还有就是想着__数据代理__, 就算是通过 Vue.set 还是什么方法加进来的新属性，只要可以在_data 上面找到，那么就可以在 vm 身上找到</p>
<p>所谓数据劫持就是将原本 data 那些数据变成各种带着 getter 和 setter 放到 obs 身上，然后每次改变一个键的值，那么 (这个改变) 马上就被 setter 劫持到了，劫持到了确实会给你改数据，然后再给你做解析那些事</p>
<blockquote>
<p>数据劫持和数据代理都离不开 <code>defineProperty</code></p>
</blockquote>
<h2 id="收集表单数据"><a class="markdownIt-Anchor" href="#收集表单数据">#</a> 收集表单数据</h2>
<ul>
<li>
<p>若 <code>&lt;input type=&quot;text&quot;/&gt;</code> , 则 v-model 收集的是 value 值，用户输入的就是 value 值</p>
</li>
<li>
<p>若 <code>&lt;input type=&quot;radio&quot;/&gt;</code> ，则 v-model 收集的就是 value 值，<strong>且要给标签配置 value 值 (比如说 <code>value=“male”</code> , <code>value=“female”</code> )</strong></p>
</li>
<li>
<p>若 <code>&lt;input type=&quot;checkbox&quot;/&gt;</code></p>
<ul>
<li>没有配置 input 的 value 属性，那么收集的就是 checked (勾选 or 未勾选，bool 值),checked (勾选了) 就是 true,vice versa</li>
<li>若配置了__input 的 value 属性 (给每一个 checkbox 一个特定的 value 值)__：
<ul>
<li>v-model 的初始值为非数组，那么收集的是 checked, 也就是要么为 true (勾选了) 要么为 false (没勾选)</li>
<li><strong>v-model 的初始值为数组，那么收集的就是 value 组成的数组</strong></li>
</ul>
</li>
</ul>
</li>
<li>
<p>备注：<strong>v-model 三大修饰符：</strong></p>
<ul>
<li>lazy: 失去焦点时再收集数据，而不是像平时那样时时刻刻都检测变化然后 update</li>
<li>number：输入字符串转为有效的数字 (就是如果你填的 value 是数字类型那么这个绑定的那个 data 里面的属性会存数字类型，而不是 string)</li>
<li>trim：输入首尾空格过滤</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">@submit.prevent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        账号：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model.trim</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.account<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
        密码：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.password<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        年龄：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>number<span class="token punctuation">"</span></span> <span class="token attr-name">v-model.number</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.age<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        性别：
        男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>male<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.sex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
        女<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>radio<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sex<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>female<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.sex<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        爱好:
        学习<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>study<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.hobby<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
        打游戏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>game<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.hobby<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
        吃饭<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>eat<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.hobby<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        所属校区:
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.city<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>请选择校区<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>harbin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>哈尔滨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>weihai<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>威海<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shenzhen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>深圳<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        其他信息：
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">v-model.lazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.others<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userInfo.agree<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.cezzz.top<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>《用户信息》<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            userInfo<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                account<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
                password<span class="token operator">:</span><span class="token string">''</span><span class="token punctuation">,</span>
                age<span class="token operator">:</span><span class="token number">18</span><span class="token punctuation">,</span>
                sex<span class="token operator">:</span><span class="token string">'female'</span><span class="token punctuation">,</span>
                hobby<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                city<span class="token operator">:</span><span class="token string">'weihai'</span><span class="token punctuation">,</span>
                others<span class="token operator">:</span><span class="token string">'无'</span><span class="token punctuation">,</span>
                agree<span class="token operator">:</span><span class="token string">''</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">demo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>userInfo<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="过滤器"><a class="markdownIt-Anchor" href="#过滤器">#</a> 过滤器</h2>
<ul>
<li>定义：对要显示的数据进行特定格式化后再显示 (适用于一些简单逻辑的处理)</li>
<li>语法：
<ul>
<li>注册处理器: <code>Vue.filter(name,callback)</code>  或 <code>new Vue&#123;filters:&#123;&#125;&#125;</code></li>
</ul>
</li>
<li>备注
<ul>
<li>过滤器也可以接收额外参数 (他第一个参数永远都是管道符前面那个，所以直接在小括号里面写其他参数就可以)，多个过滤器也可以串联</li>
<li>并没有改变原本的数据，是产生新的对应的数据</li>
</ul>
</li>
<li>用法：
<ul>
<li>过滤器可以__作用在插值语法和 v-bind (不可以作用在 v-model 上)__</li>
</ul>
</li>
</ul>
<blockquote>
<p>有点像我们 linux 学的那种，将前一个表达式作为参数传给下一个然后…so on so on</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>显示格式化后的时间<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 计算属性实现 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>现在是:&#123;&#123;fmtTime&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- methods实现 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>现在是:&#123;&#123;getFmtTime()&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>

    <span class="token comment">&lt;!-- 过滤器实现 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>现在是:&#123;&#123;time | timeFormater('YYYY_MM_DD') | mySlice &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 过滤器可以作用在v-bind上 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">:x</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg | mySlice<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 过滤器不可作用在v-model上 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg | mySlice<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>现在是:&#123;&#123;time | mySlice &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//注册全局过滤器</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">'mySlice'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            time<span class="token operator">:</span><span class="token number">1626589191242</span><span class="token punctuation">,</span>
            msg<span class="token operator">:</span><span class="token string">'hello,cez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token function">fmtTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY年MM月DD HH:mm:ss'</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">getFmtTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>time<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY年MM月DD HH:mm:ss'</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        filters<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">timeFormater</span><span class="token punctuation">(</span>val<span class="token punctuation">,</span>formatStr<span class="token operator">=</span><span class="token string">'YYYY年MM月DD HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token function">dayjs</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>formatStr<span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> vm2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span><span class="token string">'#app2'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            time<span class="token operator">:</span><span class="token number">1626589191242</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="v-text指令"><a class="markdownIt-Anchor" href="#v-text指令">#</a> v-text 指令</h2>
<ul>
<li>向其所在的节点中渲染文本内容</li>
<li>与插值语法的区别：<strong>v-text 会替换掉节点中的内容，插值语法则不会</strong></li>
</ul>
<blockquote>
<p>就跟 innerText 很像</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            name<span class="token operator">:</span><span class="token string">'cez'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>

        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>v-text 会替换开闭标签之间的内容，所以推荐使用插值语法，更加灵活。</p>
</blockquote>
<h2 id="v-html指令"><a class="markdownIt-Anchor" href="#v-html指令">#</a> v-html 指令</h2>
<ul>
<li>
<p>作用：向指定结点中渲染包含 html 结构的内容</p>
</li>
<li>
<p>与插值语法的区别：</p>
<ul>
<li>v-html 会替换掉节点中所有的内容，则不会</li>
<li>v-html 可以识别 html 结构</li>
</ul>
</li>
<li>
<p>严重注意：v-html 有安全性问题</p>
<ul>
<li>在网站上动态渲染任意 HTML 是非常危险的，容易导致 XSS 攻击</li>
<li>一定要在可信的内容上使用 v-html，永远不要用在用户提交的内容上</li>
</ul>
</li>
<li>
<p>cookie</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193807.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193807.png" alt="image-20210719004520140"></a><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193755.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193755.png" alt="image-20210718110126403"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193757.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193757.png" alt="image-20210718152450091"></a></p>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>str<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-html</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>str2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            str<span class="token operator">:</span><span class="token string">'&lt;h3>Hello,Cez&lt;/h3>'</span><span class="token punctuation">,</span>
            str2<span class="token operator">:</span><span class="token string">'&lt;a href=javascript:location.href="http://www.cezzz.top?"+document.cookie>找到你要的资源了，快点击!!!&lt;/a>'</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>

        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="v-cloak指令"><a class="markdownIt-Anchor" href="#v-cloak指令">#</a> v-cloak 指令</h2>
<ul>
<li>v-cloak 指令 (没有值)：
<ul>
<li>本质是一个特殊属性，Vue 实例创建完毕并接管容器后，<strong>会删掉 v-cloak 属性</strong></li>
<li><strong>使用 css 配合 v-cloak 可以解决网速慢时页面展示出的问题，当 Vue 接管时会自动删除 v-cloak</strong></li>
</ul>
</li>
</ul>
<blockquote>
<p>注意 css 是选中所有带有那个属性的！</p>
<p>或者你就把 js 放上面也 ok</p>
</blockquote>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
        <span class="token comment">/* 选中所有标签中含v-cloak属性的元素 */</span>
        <span class="token selector">[v-cloak]</span><span class="token punctuation">&#123;</span>
            <span class="token property">display</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-cloak</span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                name<span class="token operator">:</span><span class="token string">'cez'</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="v-once指令"><a class="markdownIt-Anchor" href="#v-once指令">#</a> v-once 指令</h2>
<ul>
<li><strong>v-once 所在节点在<mark>初次动态渲染 (就是里面什么表达式啊之类的只执行 (读取) 一次) 后</mark>，就视为静态内容了 (就是用到的表达式里面任何值要有变的，他自己也不会怎么改变了)</strong></li>
<li>以后数据的改变不会引起 v-once 所在结构的更新，可以用于优化性能</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-once</span><span class="token punctuation">></span></span>初始化的n值为:&#123;&#123;n&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>当前的n值为:&#123;&#123;n&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我n+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            n<span class="token operator">:</span><span class="token number">1</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="v-pre指令"><a class="markdownIt-Anchor" href="#v-pre指令">#</a> v-pre 指令</h2>
<ul>
<li><mark>跳过其所在节点的编译过程</mark></li>
<li><strong>可以利用它跳过：没有使用指令语法、没有使用插值语法的节点，Vue 解析模板时就不会看了，会加快编译</strong></li>
</ul>
<p>只给那种固定的，静态的，不需要我们 vue 什么的内容那个标签来一个这个</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-pre</span><span class="token punctuation">></span></span>Learn Vue!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>当前的n值为:&#123;&#123;n&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我n+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            n<span class="token operator">:</span><span class="token number">1</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="自定义指令"><a class="markdownIt-Anchor" href="#自定义指令">#</a> 自定义指令</h2>
<p>需求 1：定义一个 v-big 指令，和 v-text 功能类似，但会把绑定的数值放大 10 倍。<br>
需求 2：定义一个 v-fbind 指令，和 v-bind 功能类似，但可以让其所绑定的 input 元素默认获取焦点。</p>
<h3 id="定义语法"><a class="markdownIt-Anchor" href="#定义语法">#</a> 定义语法</h3>
<p>(1) 局部指令</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>															
	directives<span class="token operator">:</span><span class="token punctuation">&#123;</span>指令名<span class="token operator">:</span>配置对象<span class="token punctuation">&#125;</span>	
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> 			<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>或</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	directives<span class="token punctuation">&#123;</span>指令名<span class="token operator">:</span>回调函数<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>例子</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">directives <span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	<span class="token string">'my-directive'</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token function">bind</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toupperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>(2) 全局指令</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span>指令名<span class="token punctuation">,</span>配置对象<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>或</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span>指令名<span class="token punctuation">,</span>回调函数<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>例子</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">'my-directive'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">toupperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="配置对象中常用的3个回调"><a class="markdownIt-Anchor" href="#配置对象中常用的3个回调">#</a> 配置对象中常用的 3 个回调</h3>
<ul>
<li>bind：指令与元素成功绑定时调用。</li>
<li>inserted：指令所在元素被插入页面时调用。</li>
<li>update：指令所在模板结构被重新解析时调用。</li>
</ul>
<h3 id="备注"><a class="markdownIt-Anchor" href="#备注">#</a> 备注</h3>
<ol>
<li><strong>指令定义时不加 v-，但使用时要加 v-；</strong></li>
<li><mark>指令名如果是多个单词，要使用 kebab-case 命名方式，不要用 camelCase 命名，然后在我们写对应的方法时，因为带有 &quot;-&quot; 所以需要拿引号把名字扩住</mark>。</li>
</ol>
<h3 id="使用指令"><a class="markdownIt-Anchor" href="#使用指令">#</a> 使用指令</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>自定义指令<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
		<span class="token comment">&lt;!-- 准备好一个容器--></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>&#123;&#123;name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>当前的n值是：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
			<span class="token comment">&lt;!-- &lt;h2>放大10倍后的n值是：&lt;span v-big-number="n">&lt;/span> &lt;/h2> --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>放大10倍后的n值是：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-big</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我n+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">/></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">v-fbind:</span>value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
	
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

		<span class="token comment">//定义全局指令</span>
		<span class="token comment">/* Vue.directive('fbind',&#123;
			//指令与元素成功绑定时（一上来）
			bind(element,binding)&#123;
				element.value = binding.value
			&#125;,
			//指令所在元素被插入页面时
			inserted(element,binding)&#123;
				element.focus()
			&#125;,
			//指令所在的模板被重新解析时
			update(element,binding)&#123;
				element.value = binding.value
			&#125;
		&#125;) */</span>

		<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
			el<span class="token operator">:</span><span class="token string">'#root'</span><span class="token punctuation">,</span>
			data<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				name<span class="token operator">:</span><span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
				n<span class="token operator">:</span><span class="token number">1</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			directives<span class="token operator">:</span><span class="token punctuation">&#123;</span>
				<span class="token comment">//big函数何时会被调用？1.指令与元素成功绑定时（一上来）。2.指令所在的模板被重新解析时。</span>
				<span class="token comment">/* 'big-number'(element,binding)&#123;
					// console.log('big')
					element.innerText = binding.value * 10
				&#125;, */</span>
				<span class="token function">big</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'big'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">//注意此处的this是window</span>
					<span class="token comment">// console.log('big')</span>
					element<span class="token punctuation">.</span>innerText <span class="token operator">=</span> binding<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token number">10</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				fbind<span class="token operator">:</span><span class="token punctuation">&#123;</span>
					<span class="token comment">//指令与元素成功绑定时（一上来）</span>
					<span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
						element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token comment">//指令所在元素被插入页面时</span>
					<span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
						element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
					<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
					<span class="token comment">//指令所在的模板被重新解析时</span>
					<span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span>binding</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
						element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value
					<span class="token punctuation">&#125;</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://img-blog.csdnimg.cn/d9552463441d4356ae276643558d2dd9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUvoj4w=,size_20,color_FFFFFF,t_70,g_se,x_16" alt=""></p>
<blockquote>
<p>注意任何指令里面正常写的话 this 指向的就是 window, 我们一般不需要 this 指向 vm 什么的，一般都是用已经传进来的那两个参数来操作 DOM 就行了</p>
</blockquote>
<h2 id="引出生命周期"><a class="markdownIt-Anchor" href="#引出生命周期">#</a> 引出生命周期</h2>
<ul>
<li>生命周期
<ul>
<li>又名：生命周期回调函数、生命周期函数、生命周期钩子</li>
<li>是什么：Vue 在关键时刻帮我们调用的一些特殊函数的名称</li>
<li>生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的</li>
<li>生命周期函数中的 this 指向是 vm 或组件实例对象</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 简写opacity:opacity 同名 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;opacity&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>欢迎学习Vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span> //这里是给style绑定数据需要是个对象,然后因为是个对象所以当然可以用对象的简写方式(这里opacity重名当然就可以重写)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            opacity<span class="token operator">:</span><span class="token number">1</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token comment">//Vue完成模板的解析,并把初始的真实DOM元素放入页面后(挂载完毕)调用mounted</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>opacity<span class="token operator">-=</span><span class="token number">0.01</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>opacity<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> 
                    <span class="token keyword">this</span><span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 通过外部的定时器实现(不推荐)</span>
    <span class="token comment">// setInterval(()=>&#123;</span>
    <span class="token comment">//     vm.opacity -= 0.01</span>
    <span class="token comment">//     if (vm.opacity&lt;=0) </span>
    <span class="token comment">//         vm.opacity=1;</span>
    <span class="token comment">// &#125;,16);</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>上面这个 mounted 指的是 (模板解析 - 虚拟 DOM - 比较啊啥的生成真实 DOM - 把真实 DOM 放到页面上), 这个吧真实 DOM 放到页面上后 (right after) 的时机指的就是 mounted, 所以这个实际会执行这个 mounted 函数</p>
<p><strong>注意这个只针对初始的真实 DOM 放到页面的时候才会被调用，要是之后有数据改变，模板重新解析，产生新的虚拟 DOM 然后对真实 DOM 发生改变，然后这个真实 DOM 再放到页面之后是不会再调用 mounted 函数了</strong></p>
<p>这么做避免了 mounted 函数里面有改数据的代码，然后因为绑定的数据一改要重新解析，然后虚拟 DOM, 等等等然后放到页面上然后又调用这个 mounted, 然后又… 这肯定是不对的</p>
<p>还有这个 mounted 函数里面的 this 指向的是 vm, 要是有异步任务记得加箭头函数让他里面指向的也是 vm</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193756.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193756.png" alt="image-20210718145110347"></a></p>
<h2 id="生命周期挂载流程"><a class="markdownIt-Anchor" href="#生命周期挂载流程">#</a> 生命周期挂载流程</h2>
<ul>
<li>Vue 完整生命周期：</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193758.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193758.png" alt="image-20210718152622962"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193759.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193759.png" alt="image-20210718152750766"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193800.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193800.png" alt="img"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193801.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193801.png" alt="image-20210718173317473"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193802.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193802.png" alt="image-20210718173459988"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193803.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193803.png" alt="image-20210718173511963"></a></p>
<ul>
<li>vm.$el 可以用于比较算法，便于复用等</li>
</ul>
<h2 id="更新流程"><a class="markdownIt-Anchor" href="#更新流程">#</a> 更新流程</h2>
<ul>
<li>
<p><code>vm.$destroy()</code></p>
<ul>
<li>
<p><strong>用法</strong>：</p>
<p>完全销毁一个实例。清理它与其它实例的连接，解绑它的全部指令及__事件监听器 (自定义事件，要是原生的 click 那些事件是不会被解绑)__。</p>
<p>触发  <code>beforeDestroy</code>  和  <code>destroyed</code>  的钩子。</p>
</li>
<li>
<p>注意这个 <code>beforeDestroy</code>  这个里面改数据，确实数据会被改，但不会渲染到页面上去，因为都要 destroy 了就不会重新解析模板啥的等等等. <code>destroyed</code>  更是</p>
</li>
</ul>
<p><strong>除了这两个钩子，其他的钩子比如说 updated 里面更改数据，还是又会重新解析模板等等等，所以在图片里那是个 loop</strong></p>
<blockquote>
<p>在大多数场景中你不应该调用这个方法。最好使用  <code>v-if</code>  和  <code>v-for</code>  指令以数据驱动的方式控制子组件的生命周期。</p>
</blockquote>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>&#123;&#123;n&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>当前的n值为:&#123;&#123;n&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>n++<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我n+1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bye<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我销毁vm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                n<span class="token operator">:</span><span class="token number">1</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                <span class="token function">bye</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'byebye'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
                <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span>n<span class="token operator">++</span><span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeCreate'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>    
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'created'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">beforeMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeMount'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'h2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerText<span class="token operator">=</span><span class="token string">'beforeMount'</span><span class="token punctuation">;</span>   
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">beforeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeUpdate'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>n<span class="token punctuation">)</span>
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">updated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'updated'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>n<span class="token punctuation">)</span>
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeDestroy'</span><span class="token punctuation">)</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>n<span class="token punctuation">)</span>

                <span class="token comment">//虽然this.n+1了，但是因为已经进入了destroy的流程了，所以不会更新View</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">debugger</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>  
            <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'destroy'</span><span class="token punctuation">)</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="生命周期总结"><a class="markdownIt-Anchor" href="#生命周期总结">#</a> 生命周期总结</h2>
<ul>
<li><strong>beforeCreate 和 created 指的是数据监测和数据代理的 create，而不是 vm 对象</strong></li>
</ul>
<blockquote>
<p>所以任何钩子 (我不太确定 destroyed), 里面用的 this 指的都是 vm, 都是在 vm 实例化对象有了之后才发生的</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021193804.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021193804.png" alt="image-20210718173555864"></a></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span> <span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 简写opacity:opacity 同名 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;opacity&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>欢迎学习Vue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stop<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我停止变换<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
        data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            opacity<span class="token operator">:</span><span class="token number">1</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            <span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'mounted'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">//返回值相当于这个计时器的id</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>opacity<span class="token operator">-=</span><span class="token number">0.01</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>opacity<span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">)</span> 
                    <span class="token keyword">this</span><span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">1</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token function">beforeDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'vm要寄咯!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h1 id="vue组件化编程"><a class="markdownIt-Anchor" href="#vue组件化编程">#</a> Vue 组件化编程</h1>
<h2 id="对组件的理解"><a class="markdownIt-Anchor" href="#对组件的理解">#</a> 对组件的理解</h2>
<ul>
<li>
<p>传统方式</p>
<p>存在问题：</p>
<ol>
<li>依赖关系混乱，不好维护</li>
<li>代码复用率不高</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194706.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194706.png" alt="image-20210719005643259"></a></p>
<p>使用组件方式编写应用<a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194709.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194709.png" alt="image-20210719013209747"></a></p>
</li>
<li>
<p>组件方式</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194707.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194707.png" alt="image-20210719005858994"></a></p>
</li>
<li>
<p>组件的定义：实现应用中<strong>局部</strong>功能<strong>代码</strong>和<strong>资源</strong>的<strong>集合</strong></p>
</li>
<li>
<p>模块</p>
<ul>
<li>理解：向外提供特定功能的 js 程序，一般就是一个 js 文件</li>
<li>为什么：js 文件很多很复杂</li>
<li>作用：复用 js，简化 js 的编写，提高 js 运行效率</li>
</ul>
</li>
<li>
<p>模块化：当应用中的 js 都以模块来编写，那么这个应用就是一个模块化的应用</p>
</li>
<li>
<p>组件化：当应用中的功能都是多组件的方式编写，那这个应用就是一个组件化的应用</p>
</li>
</ul>
<p>可以有一个组件用来做 header, 任何这个组件里面有好多的 js 代码，任何这些 js 代码每个都是做自己功能的模块，模块化</p>
<h2 id="非单文件组件"><a class="markdownIt-Anchor" href="#非单文件组件">#</a> 非单文件组件</h2>
<p>非单文件组件</p>
<ul>
<li>一个文件中包含多个组件</li>
</ul>
<p>单文件组件</p>
<ul>
<li>一个文件中只包含一个组件  <code>xxx.vue</code></li>
</ul>
<blockquote>
<p>这个单体总成就是_文件组件_</p>
</blockquote>
<p><mark><strong>非单文件使用:</strong></mark></p>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;app&quot;&gt;
    &lt;!-- 第三步  编写组件标签 --&gt;
    &lt;school&gt;&lt;&#x2F;school&gt;
    &lt;hr&#x2F;&gt;
    &lt;!-- 第三步  编写组件标签 --&gt;
    &lt;student&gt;&lt;&#x2F;student&gt;    
    &lt;hr&#x2F;&gt;
    &lt;student&gt;&lt;&#x2F;student&gt;    
    &lt;hr&#x2F;&gt;
    &lt;hello&gt;&lt;&#x2F;hello&gt;
&lt;&#x2F;div&gt;

&lt;div id&#x3D;&quot;app2&quot;&gt;
    &lt;hello&gt;&lt;&#x2F;hello&gt;
&lt;&#x2F;div&gt;

&lt;script&gt;
    &#x2F;&#x2F;第一步  创建school组件
    const school &#x3D; Vue.extend(&#123;
        template:&#96;
&lt;div&gt;
&lt;h2&gt;学校名称:&#123;&#123;schoolName&#125;&#125;&lt;&#x2F;h2&gt;
&lt;h2&gt;学校地址:&#123;&#123;address&#125;&#125;&lt;&#x2F;h2&gt;
&lt;button @click&#x3D;&quot;showName&quot;&gt;点我提示学校名&lt;&#x2F;button&gt;
&lt;div&gt;
&#96;,
        methods:&#123;
            showName()&#123;
                alert(this.schoolName);
            &#125;
        &#125;,

        &#x2F;&#x2F;el:&quot;#app&quot; &#x2F;&#x2F;报错 组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务哪个容器
        data()&#123;
            return &#123;
                schoolName:&#39;hitwh&#39;,
                address:&quot;weihai&quot;,
            &#125;
        &#125;
    &#125;)

    &#x2F;&#x2F;第一步  创建school组件
    const student &#x3D; Vue.extend(&#123;
        template:&#96;
&lt;div&gt;
&lt;h2&gt;学生姓名:&#123;&#123;studentName&#125;&#125;&lt;&#x2F;h2&gt;
&lt;h2&gt;学生年龄:&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;&#x2F;div&gt;
&#96;,
        data()&#123;
            return &#123;
                studentName:&#39;cez&#39;,
                age:20,
            &#125;
        &#125;
    &#125;)

    const hello &#x3D; Vue.extend(&#123;
        template:&#96;
&lt;div&gt;
&lt;h2&gt;Hello,&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;&#x2F;div&gt;
&#96;,
        data()&#123;
            return &#123;
                name:&#39;Tom&#39;
            &#125;
        &#125;
    &#125;)

    &#x2F;&#x2F;全局注册组件，所有vm都可以使用
    Vue.component(&#39;hello&#39;,hello);

    new Vue(&#123;
        el: &#39;#app&#39;,
        components:&#123;
            &#x2F;&#x2F;第二步 注册组件(局部注册)
            &#x2F;&#x2F; school:school,
            school,
            &#x2F;&#x2F; student:student
            student,
        &#125;,
    &#125;);

    new Vue(&#123;
        el:&#39;#app2&#39;
    &#125;)
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194708.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194708.png" alt="image-20210719005919536"></a></p>
<h3 id="使用组件的三大步骤"><a class="markdownIt-Anchor" href="#使用组件的三大步骤">#</a> 使用组件的三大步骤</h3>
<ol>
<li>定义组件（创建组件）</li>
<li>注册组件</li>
<li>使用组件（写组件标签）</li>
</ol>
<h3 id="如何定义一个组件"><a class="markdownIt-Anchor" href="#如何定义一个组件">#</a> 如何定义一个组件</h3>
<p>使用 <code>Vue.extend(options)</code>  创建，其中 <code>options</code>  和 <code>new Vue（options)</code>  时传入的那个 <code>options</code>  几乎一样，但有以下区别</p>
<ol>
<li>不要写 <code>el</code> —— 最终所有的组件都要经过一个 vm 的管理，由 vm 中的 <code>el</code>  决定服务哪个容器</li>
<li><code>data</code>  必须写成函数 —— 避免组件被复用时，数据存在引用关系</li>
</ol>
<p>【备注】使用 <code>tempalte</code>  可以配置组件结构</p>
<h3 id="如何注册组件"><a class="markdownIt-Anchor" href="#如何注册组件">#</a> 如何注册组件</h3>
<ol>
<li>局部注册： <code>new Vue</code>  的时候传入 <code>components</code>  选项</li>
<li>全局注册： <code>Vue.component</code>  (‘组件名’, 组件)</li>
</ol>
<blockquote>
<p>组件的 data 必须写成一个函数然后返回一个对象，对象里面就是我们之前想放 data 里面的数据.</p>
<p>函数 data 每次调用都会返回一个对象 相当于每调用一次就在堆内存中开辟一个新的对象空间 所以这么做这个 data 存的就不是同一个对象，以后要用就不会有什么冲突之类的</p>
<p><strong>然后在那个组件的 template 要是想用 data 里面的 this. 数据 (属性) 就行了，而不是去调用 data 函数还是上面的</strong></p>
</blockquote>
<blockquote>
<p>但是可以看出这种非单文件组件的写法里的 template 就很难搞，但没办法，所以我们一般不怎么非用单文件组件，我们一般都是单文件组件</p>
</blockquote>
<h2 id="组件的几个注意点"><a class="markdownIt-Anchor" href="#组件的几个注意点">#</a> 组件的几个注意点</h2>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194711.png" alt="image-20210719110640745"></p>
<blockquote>
<p>注意可以直接将那个组件写成一个对象里面有着这个组件的各种配置项 (简写方式), 就不用 <code>Vue.extend(配置对象)</code>  了</p>
<p>本质上是属于 js 源码，没有去调用 Vue.extend 的，但是要是我们在 vm 上面的 components 配置上了，那就可以用了</p>
</blockquote>
<h2 id="嵌套组件"><a class="markdownIt-Anchor" href="#嵌套组件">#</a> 嵌套组件</h2>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220128171956922.png" alt="image-20220128171956922"></p>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;div id &#x3D;&quot;root&quot;&gt;
&lt;&#x2F;div&gt;

&lt;script&gt;
    const student &#x3D; Vue.extend(&#123;
        template:&#96;
&lt;div&gt;
&lt;h2&gt;学生姓名:&#123;&#123;studentName&#125;&#125;&lt;&#x2F;h2&gt;
&lt;h2&gt;学生年龄:&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;&#x2F;div&gt;
&#96;,
        data()&#123;
            return &#123;
                studentName:&#39;cez&#39;,
                age:20,
            &#125;
        &#125;
    &#125;)

    const school &#x3D; Vue.extend(&#123;
        name:&#39;school&#39;,
        template:&#96;
            &lt;div&gt;
            &lt;h2&gt;学校名称:&#123;&#123;schoolName&#125;&#125;&lt;&#x2F;h2&gt;
            &lt;h2&gt;学校地址:&#123;&#123;address&#125;&#125;&lt;&#x2F;h2&gt;
            &lt;button @click&#x3D;&quot;showName&quot;&gt;点我提示学校名&lt;&#x2F;button&gt;
            &lt;hr&#x2F;&gt;
            &lt;student&gt;&lt;&#x2F;student&gt;
                &lt;&#x2F;div&gt;
&#96;,
        methods:&#123;
            showName()&#123;
                alert(this.schoolName);
            &#125;
        &#125;,
        data()&#123; 
            return &#123;
                schoolName:&#39;hitwh&#39;,
                address:&quot;weihai&quot;,
            &#125;
        &#125;,
        components:&#123;
            student
        &#125;  
    &#125;)

    const hello &#x3D; Vue.extend(&#123;
        template:&#96;
&lt;div&gt;
&lt;h2&gt;Hello,&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
    &lt;&#x2F;div&gt;
&#96;,
        data()&#123;
            return &#123;
                name:&#39;Tom&#39;
            &#125;
        &#125;
    &#125;)

    const app &#x3D; Vue.extend(&#123;
        name:&#39;app&#39;,
        template:&#96;
&lt;div&gt;
&lt;school&gt;&lt;&#x2F;school&gt;
&lt;hello&gt;&lt;&#x2F;hello&gt;
    &lt;&#x2F;div&gt;
&#96;,

        components:&#123;
            school,
            hello
        &#125;
    &#125;)

    new Vue(&#123;
        template:&#39;&lt;app&gt;&lt;&#x2F;app&gt;&#39;,
        el:&quot;#root&quot;,
        components:&#123;
            app
        &#125;
    &#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<ul>
<li>注册给谁就搁谁那里写 (如果是局部注册的，比如说上面 school 里局部注册了 student 组件，那么 school 就能用 student 组件，其他地方没有注册 student 组件就用不了)</li>
<li>vm 用不了 student 组件所以不能在页面上弄 student 标签，student 是 school 的组件，那么 school 得 template 里面就得用 student 标签</li>
</ul>
</blockquote>
<h2 id="vue-component构造函数"><a class="markdownIt-Anchor" href="#vue-component构造函数">#</a> Vue Component 构造函数</h2>
<ol>
<li>app 组件本质是一个名为 <code>VueComponent</code>  的构造函数，且不是程序员定义的，是 <code>Vue.extend</code>  生成的</li>
<li>我们只需要写 <code>&lt;app/&gt;</code>  或 <code>&lt;app&gt;&lt;/app&gt;</code> ，Vue 解析时会帮我们创建 app 组件的实例对象，即 Vue 帮我们执行 <code>new VueComponent(options)</code></li>
<li>特别注意：每次调用 <code>Vue.extend</code> ，返回的都是一个全新的 <code>VueComponent</code></li>
<li>关于 <code>this</code>  指向<br>
① 组件配置中： <code>data</code>  函数、 <code>methods</code>  中的函数、 <code>watch</code>  中的函数、 <code>computed</code>  中的函数 它们的 <code>this</code>  均是【 <code>VueComponent</code>  实例对象】<br>
②  <code>new Vue(options)</code>  配置中： <code>data</code>  函数、 <code>methods</code>  中的函数、 <code>watch</code>  中的函数、 <code>computed</code>  中的函数 它们的 <code>this</code>  均是【Vue 实例对象】</li>
<li><code>VueComponent</code>  的实例对象，以后简称 vc（也可称之为：组件实例对象）</li>
<li><code>Vue</code>  的实例对象，以后简称为 vm</li>
</ol>
<blockquote>
<p>注意调用 <code>Vue.extend</code>  其实就是会返回一个函数对象，这个函数对象就是实例化出来的 VueComponent 这个构造函数对象.</p>
<p>可能有点绕：VueComponent 是个构造函数对象，然后我们有个构造 VueComponent 这个构造函数对象的构造函数，然后我们这里实际上是一个 VueComponent 构造函数实例对象 (不是单单的构造函数也不是单单通过 new 构造函数创建出来的实例化对象), 而是一个创建出来的实例化构造函数对象.</p>
</blockquote>
<blockquote>
<p>简单理解点就是我们的组件 (比如说 school) 其实就是个构造函数叫做 VueComponent</p>
<p>然后我们又创建了个组件 (比如说 student) 其实也就是个构造函数叫做 VueComponent</p>
<p>但是！！！ <code>student= = = school</code>  会返回__false__, 这是因为这两个 VueComponent 构造函数是两个实例，可以想的是比如说你有个函数对象，这个对象函数对象是通过一个构造函数 new 出来的，所以这个函数对象是那个构造函数的实例对象，这里也是一样，我们的 VueComponent 也是实例化出来的 (构造) 函数对象.</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220128212729763.png" alt="image-20220128212729763"></p>
<p>所以你改一个组件里面的属性等，并不会让另外一个组件里面的属性，因为他们两个本身也是实例化对象，存的都是不同地址.</p>
</blockquote>
<p>或者你觉得难以理解，那么可以想成就是每次 Vue.extend 都会返回一个全新的 VueComponent 构造函数，跟其他的 Vue.extend 返回的 VueComponent 构造函数不一样。也就是每个组件，尽管存的都是 VueComponent 构造函数对象，但却不是同一个对象，存的地址不同</p>
<blockquote>
<p>而每一个实例化出来的构造函数对象 VueComponent 也就是我们组件存的地址的那个对象，它本身也是个构造函数，所以当然也可以用 new VueComponent 以此来创建实例化对象 (叫做 vc).</p>
</blockquote>
<blockquote>
<p><mark>这就代表每个组件里面用的 this</mark> 指向的对象是那个用 实例化出来的 vc 构造函数他自己 实例化出来的那个对象 (这个对象可就不是构造函数了), 所以组件里面那些函数 (上面说的那些) 里面的 this 其实指向的是用 vc 实例化出来的对象，因为这就是构造函数的作用，再 <code>new 构造函数(...)</code>  创建这个构造函数的实例化对象时就会调用这个构造函数里面的代码，然后构造函数里面的 this 指向的就是当前被实例化出来的那个对象 (基础！！！), 要是再用这个构造函数 (vc) 来创建实例化一个对象，此时，vc 里面的 this 就是指向是现在这个被实例化出来的对象.</p>
</blockquote>
<blockquote>
<p>而这个构造函数 (VueComponent) 创建出来的对象一般叫做 vc, 那是什么时候创建的呢？(new 出来的 vc 的呢？(VueComponent 是构造函数，vc 是 VueComponent 构造函数创建出来的对象！！！))</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220128213321029.png" alt="image-20220128213321029"></p>
<p><strong>这个 VueComponent 实例化出来的对象 (简称 vc) 和我们的 vm 很像，都有数据代理，所以我们这个组件里面的 data 函数所返回的值都会通过数据代理给放到我们组件 (也就是 VueComponent 构造函数) new 出来的 vc 身上，然后我们直接 this.XXX 调用就完了</strong></p>
</blockquote>
<p><em><strong>大大大大总结:</strong></em></p>
<ul>
<li>
<p>每个组件存的是一个 VueComponent 构造函数</p>
</li>
<li>
<p>每个组件存的 VueComponent 构造函数与其他组件存的 VueComponent 构造函数不是同一个</p>
</li>
<li>
<p>每次解析模板发现有这个组件的标签，就会用这个组件存的 VueComponent 构造函数来 new (创建出来一个) 实例化对象</p>
</li>
<li>
<p>所以每个组件标签其实都会让 VueComponent 构造函数创建出来一个实例化对象</p>
</li>
<li>
<p>VueComponent 构造函数创建出来的实例化对象被我们一般称之为 vc</p>
</li>
<li>
<p>每个组件里面的存的构造函数里面的 this 指向的就是每一个被这个这个组件存的 VueComponent 构造函数创建出来的实例化对象 (vc). 比如说我们模板有这个组件的标签，然后 VueComponent 构造函数就会 new 出来一个实例化对象 (vm), 这时 VueComponent 构造函数里面的 this 指向的就是这个 现在 new 出来的实例化对象</p>
</li>
<li>
<p>而这个实例化出来的对象 (vc) 跟我们的 vm 很像，都会按照当初我们在 Vue.extend 里面传的那些 (监视，计算，普通在 data 函数里面作为对象返回的，等等等) 数据都会被我们数据代理到 vc 对象上去，所以我们在组件存的 VueComponent 构造函数里面用 this.XXX 就行，因为构造函数里面的 this 指向的就是当前实例化出来的对象，可以说是最终最终这些数据都会通过数据代理放到了 VueComponent 构造函数 new 出来的 vc 身上</p>
</li>
<li>
<p>我们一般是多个 vc, 然后最终教给 vm 管理，可以从 vm 的 $children 找到 immediate children (也就是亲儿子 vc), 然后再每个亲儿子 vc 里面也有 $children 存着嵌套在它里面的那些 vc,so on…</p>
</li>
</ul>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>VueComponent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- 准备好一个容器--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>school</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>school</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

  <span class="token comment">//定义school组件</span>
  <span class="token keyword">const</span> school <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'school'</span><span class="token punctuation">,</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;div>
					&lt;h2>学校名称：&#123;&#123;name&#125;&#125;&lt;/h2>	
					&lt;h2>学校地址：&#123;&#123;address&#125;&#125;&lt;/h2>	
					&lt;button @click="showName">点我提示学校名&lt;/button>
				&lt;/div> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
        address<span class="token operator">:</span> <span class="token string">'北京'</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">showName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'showName'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> test <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;span>atguigu&lt;/span></span><span class="token template-punctuation string">`</span></span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token comment">//定义hello组件</span>
  <span class="token keyword">const</span> hello <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;div>
					&lt;h2>&#123;&#123;msg&#125;&#125;&lt;/h2>
					&lt;test>&lt;/test>	
				&lt;/div> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        msg<span class="token operator">:</span> <span class="token string">'你好啊！'</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      test
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token comment">// console.log('@',school)</span>
  <span class="token comment">// console.log('#',hello)</span>

  <span class="token comment">//创建vm</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      school<span class="token punctuation">,</span>
      hello
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220128220011192.png" alt="image-20220128220011192"></p>
<h2 id="一个重要的内置关系"><a class="markdownIt-Anchor" href="#一个重要的内置关系">#</a> 一个重要的内置关系</h2>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">VueComponent</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token operator">=</span> <span class="token operator">=</span> <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype <span class="token comment">//true</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>所以其实 VueComponent 的原型对象其实就是 vue 的实例对象</p>
</blockquote>
<p><em><strong><mark>这样组件实例对象 vc 就可以访问到 Vue 原型上的属性和方法</mark></strong></em></p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/93fe35be3e4d4b17a67596295a98333a.png" alt=""></p>
<p>可以说是 vc 跟 vm 很像，但是更像个小弟，需要 vm 带领，里面睡醒方法等都会有差不多的</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>一个重要的内置关系<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- 引入Vue --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- 准备好一个容器--></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>school</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>school</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token comment">//阻止 vue 在启动时生成生产提示。</span>
  <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">99</span>

  <span class="token comment">//定义school组件</span>
  <span class="token keyword">const</span> school <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    name<span class="token operator">:</span> <span class="token string">'school'</span><span class="token punctuation">,</span>
    template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"> &lt;div>
					&lt;h2>学校名称：&#123;&#123;name&#125;&#125;&lt;/h2>	
					&lt;h2>学校地址：&#123;&#123;address&#125;&#125;&lt;/h2>	
					&lt;button @click="showX">点我输出x&lt;/button>
				&lt;/div> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
        name<span class="token operator">:</span> <span class="token string">'尚硅谷'</span><span class="token punctuation">,</span>
        address<span class="token operator">:</span> <span class="token string">'北京'</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token function">showX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token comment">//创建一个vm</span>
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    el<span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">'你好'</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      school
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

  <span class="token comment">//定义一个构造函数</span>
  <span class="token comment">/* function Demo()&#123;
  	this.a = 1
  	this.b = 2
  &#125;
  //创建一个Demo的实例对象
  const d = new Demo()

  console.log(Demo.prototype) //显示原型属性

  console.log(d.__proto__) //隐式原型属性

  console.log(Demo.prototype === d.__proto__)

  //程序员通过显示原型属性操作原型对象，追加一个x属性，值为99
  Demo.prototype.x = 99

  console.log('@',d) */</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="单文件组件"><a class="markdownIt-Anchor" href="#单文件组件">#</a> 单文件组件</h2>
<h3 id="组成"><a class="markdownIt-Anchor" href="#组成">#</a> 组成</h3>
<ol>
<li>模板页面</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	页面模板
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>JS 模块对象</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span> <span class="token comment">//一般只能有一个默认导入,不过一般都是这一个够了,注意是把我们的配置对象直接给导出就行了</span>
	<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	components<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>省略掉了 Vue.extend (), 直接传配置对象</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220128234955010.png" alt="image-20220128234955010"></p>
<blockquote>
<p>然后这个 name 一般跟文件同名，这么做在使用的时候就必须用这个名，别人注册组件时取别的名也不好使</p>
</blockquote>
<ol start="3">
<li>样式</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
	样式定义
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="基本使用"><a class="markdownIt-Anchor" href="#基本使用">#</a> 基本使用</h3>
<ol>
<li>引入组件</li>
<li>映射成标签</li>
<li>使用组件标签</li>
</ol>
<p>App.vue</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>HelloWorld</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hello-world</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hello-world</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
	<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'./components/HelloWorld'</span> <span class="token comment">//引入的时候直接import然后取个别名就行,默认导入才有这种</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
		components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
			HelloWorld
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>main.js</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	el<span class="token operator">:</span> <span class="token string">'#root'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span> <span class="token punctuation">&#123;</span>App<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后 index.html 里面就 (DOM 结构之后) 引入 Vue.js, 然后引入 main.js 然后再结构里面写 App 标签就行了</p>
<h3 id="关于标签名与标签属性名书写问题"><a class="markdownIt-Anchor" href="#关于标签名与标签属性名书写问题">#</a> 关于标签名与标签属性名书写问题</h3>
<ol>
<li>写法一：一模一样</li>
<li>写法二：大写变小写，并用 - 连接</li>
</ol>
<hr>
<h1 id="vue脚手架以及refpropsmixin"><a class="markdownIt-Anchor" href="#vue脚手架以及refpropsmixin">#</a> Vue 脚手架以及 ref,props,mixin</h1>
<h2 id="vue-cli"><a class="markdownIt-Anchor" href="#vue-cli">#</a> vue-cli</h2>
<p>vue-cli 是 Vue 官方提供的脚手架工具<br>
<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/">中文网址：https://cli.vuejs.org/zh/</a><br>
<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-cli">GitHub 地址：https://github.com/vuejs/vue-cli</a><br>
<a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-cli/tree/v2"> 这里用的版本是这个：https://github.com/vuejs/vue-cli/tree/v2</a></p>
<h3 id="创建vue项目"><a class="markdownIt-Anchor" href="#创建vue项目">#</a> 创建 Vue 项目</h3>
<p><a target="_blank" rel="noopener" href="https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue">项目代码：https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue</a></p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> -g vue-cli<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130184839711.png" alt=""></p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">vue init webpack vue_demo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://img-blog.csdnimg.cn/20210130185007803.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>选择第三个后会有提示，选第一个会自动完成<br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130185047354.png" alt=""></p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">cd vue_demo<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm intall<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm run dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://img-blog.csdnimg.cn/202101301901257.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>访问网址结果<br>
<img src="https://img-blog.csdnimg.cn/20210130190151158.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt=""></p>
<h3 id="模板项目结构"><a class="markdownIt-Anchor" href="#模板项目结构">#</a> 模板项目结构</h3>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130190341109.png" alt=""></p>
<p>默认不是自动打开浏览器，可以设置成自动打开<br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130190428883.png" alt=""></p>
<p>源码目录，主要在这里面写代码<br>
<img src="https://img-blog.csdnimg.cn/20210130190244885.png" alt=""></p>
<p>主页<br>
<img src="https://img-blog.csdnimg.cn/20210130190751356.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>在 src 下组件文件夹里创建 vue 文件<br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130190946545.png" alt=""></p>
<p>在<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=vscode&amp;spm=1001.2101.3001.7020"> vscode</a> 里输入 vue 然后按 Tab 键，自动生成一个 vue 模板<br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130190905341.png" alt=""></p>
<h3 id="脚手架文件结构"><a class="markdownIt-Anchor" href="#脚手架文件结构">#</a> 脚手架文件结构</h3>
<pre class="line-numbers language-none"><code class="language-none">├── node_modules 
├── public
│   ├── favicon.ico: 页签图标
│   └── index.html: 主页面
├── src
│   ├── assets: 存放静态资源
│   │   └── logo.png
│   │── component: 存放组件
│   │   └── HelloWorld.vue
│   │── App.vue: 汇总所有组件
│   │── main.js: 入口文件
├── .gitignore: git版本管制忽略的配置
├── babel.config.js: babel的配置文件
├── package.json: 应用包配置文件 
├── README.md: 应用描述文件
├── package-lock.json：包版本控制文件
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="关于不同版本的vue以及render函数"><a class="markdownIt-Anchor" href="#关于不同版本的vue以及render函数">#</a> 关于不同版本的 Vue 以及 render 函数</h3>
<ol>
<li>vue.js 与 vue.runtime.xxx.js 的区别：
<ol>
<li>vue.js 是完整版的 Vue，包含：核心功能 + 模板解析器。</li>
<li>vue.runtime.xxx.js 是运行版的 Vue，只包含：核心功能；<strong>没有模板解析器 (所以你 在那个 vm 或者组件的配置选项用 template 是不会奏效的，不过 XXX.vue 用 template 标签该用用，有人会去解析的，只需要在 main.js 里面调用 render 函数把引进来的 App 作为参数传进去就行了)</strong>。</li>
</ol>
</li>
<li><strong>因为 vue.runtime.xxx.js 没有模板解析器，所以不能使用 template 这个配置项，需要使用 render 函数接收到的 createElement 函数去指定具体内容。</strong></li>
<li><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220129124835911.png" alt="image-20220129124835911">render 是个函数，h 是 Vue 传给你的参数，h 也是个函数，然后把我们 import 进来的 App 作为参数传给这个函数且调用把返回值返回到我们这个 render 函数然后 render 函数返回的也是这个 h 函数的返回值</li>
</ol>
<blockquote>
<p>注意这个 App 是没有引号扩住的，要是被扩住就是指让创建出个普通的 html 标签而不是我们这里组件的标签</p>
</blockquote>
<blockquote>
<p>“模板解析器是把 HTML 中的模板解析成 json 对象 AST，这个对象包含了 dom 的各种属性，在非单文件中必须要模板解析器，但是单文件中的组件都是编译之后的，组件中直接就是 ast，就不需要模板解析器了”(这句话是弹幕说的，我也不确定)</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194710.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194710.png" alt="image-20210719085116926"></a></p>
<h3 id="vueconfigjs配置文件"><a class="markdownIt-Anchor" href="#vueconfigjs配置文件">#</a> vue.config.js 配置文件</h3>
<ol>
<li>使用 vue inspect &gt; output.js 可以查看到 Vue 脚手架的默认配置。</li>
<li>使用 vue.config.js 可以对脚手架进行个性化定制，详情见：<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh">https://cli.vuejs.org/zh</a></li>
</ol>
<h2 id="写一个小demo"><a class="markdownIt-Anchor" href="#写一个小demo">#</a> 写一个小 Demo</h2>
<h3 id="目录结构"><a class="markdownIt-Anchor" href="#目录结构">#</a> 目录结构</h3>
<p><img src="https://img-blog.csdnimg.cn/20210130191910817.png" alt=""></p>
<h3 id="mainjs"><a class="markdownIt-Anchor" href="#mainjs">#</a> main.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 入口js： 创建Vue实例</span>
<span class="token comment">// 打包入口js文件，后期全部打包形成一个app.js在主页index.html中</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token comment">//将组件映射成标签</span>
    App <span class="token comment">//App: App</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;App/>'</span> <span class="token comment">//模板，最终会插入到el所匹配的页面中的div里</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="appvue"><a class="markdownIt-Anchor" href="#appvue">#</a> App.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>logo<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./assets/logo.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- 3. 使用组件标签 --></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HelloWorld</span><span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 1. 引入组件</span>
<span class="token keyword">import</span> HelloWorld <span class="token keyword">from</span> <span class="token string">'./components/HelloWorld'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// 2. 映射组件标签</span>
  components<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    HelloWorld
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.logo</span> <span class="token punctuation">&#123;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="helloworldvue"><a class="markdownIt-Anchor" href="#helloworldvue">#</a> HelloWorld.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;msg&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span> <span class="token comment">//配置对象（与Vue一致）</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 必须写函数</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      msg<span class="token operator">:</span> <span class="token string">'Hello Vue Component'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!-- Add "scoped" attribute to limit CSS to this component only --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.msg</span> <span class="token punctuation">&#123;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="网页自动更新"><a class="markdownIt-Anchor" href="#网页自动更新">#</a> 网页自动更新</h3>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210130200055193.png" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue">项目代码：https://github.com/yk2012/vue_demo/tree/main/demo1_HelloVue</a></p>
<h2 id="项目打包与发布"><a class="markdownIt-Anchor" href="#项目打包与发布">#</a> 项目打包与发布</h2>
<h3 id="打包"><a class="markdownIt-Anchor" href="#打包">#</a> 打包</h3>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm run build<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在本地对当前项目进行编译打包<br>
会创建一个 dist 文件夹</p>
<h3 id="项目发布"><a class="markdownIt-Anchor" href="#项目发布">#</a> 项目发布</h3>
<p>装静态服务器</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm install <span class="token operator">-</span>g serve<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>运行 dist 文件夹</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">serve dist <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>访问：<a target="_blank" rel="noopener" href="http://localhost:5000">http://localhost:5000</a></p>
<h3 id="使用动态web服务器tomcat发布"><a class="markdownIt-Anchor" href="#使用动态web服务器tomcat发布">#</a> 使用动态 web 服务器 (tomcat) 发布</h3>
<p>修改配置: webpack.prod.conf.js</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">output<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	publicPath<span class="token operator">:</span> <span class="token string">'/xxx/'</span> <span class="token comment">//打包文件夹的名称</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>重新打包:</p>
<pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">npm run build<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改 dist 文件夹为项目名称: xxx<br>
 将 xxx 拷贝到运行的 tomcat 的 webapps 目录下<br>
访问: <a target="_blank" rel="noopener" href="http://localhost:8080/xxx">http://localhost:8080/xxx</a></p>
<h2 id="eslint"><a class="markdownIt-Anchor" href="#eslint">#</a> <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=ESlint&amp;spm=1001.2101.3001.7020">ESlint</a> 使用</h2>
<h3 id="说明"><a class="markdownIt-Anchor" href="#说明">#</a> 说明</h3>
<ol>
<li>ESlint 是一个代码规范检查工具</li>
<li>定义了很多特定的规则，一旦你的代码违背了某一规则，ESlint 会作出非常有用的提示</li>
<li>官方: <a target="_blank" rel="noopener" href="http://eslint.org/">http://eslint.org/</a></li>
<li>基本已经替代之前的 JSLint 了</li>
</ol>
<h3 id="提供的支持"><a class="markdownIt-Anchor" href="#提供的支持">#</a> 提供的支持</h3>
<ol>
<li>ES</li>
<li>JSX</li>
<li>style 检查</li>
<li>自定义错误和提示</li>
</ol>
<h3 id="eslint-提供以下几种校验"><a class="markdownIt-Anchor" href="#eslint-提供以下几种校验">#</a> ESLint 提供以下几种校验</h3>
<ol>
<li>语法错误校验</li>
<li>不重要或丢失的标点符号，如分号</li>
<li>没法运行到的代码块（使用过 WebStorm 的童鞋应该了解）</li>
<li>未被使用的参数提醒</li>
<li>确保样式的统一规则，如 sass 或者 less</li>
<li>检查变量的命名</li>
</ol>
<h3 id="规则的错误等级有三种"><a class="markdownIt-Anchor" href="#规则的错误等级有三种">#</a> 规则的错误等级有三种</h3>
<p>0：关闭规则。<br>
1：打开规则，并且作为一个警告（信息打印黄色字体）<br>
2：打开规则，并且作为一个错误（信息打印红色字体）</p>
<h3 id="相关配置文件"><a class="markdownIt-Anchor" href="#相关配置文件">#</a> 相关配置文件</h3>
<ol>
<li>.eslintrc.js : 全局规则配置文件</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token string">'rules'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	<span class="token string">'no-new'</span><span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>在 js/vue 文件中修改局部规则</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	el<span class="token operator">:</span> <span class="token string">'body'</span><span class="token punctuation">,</span>
	components<span class="token operator">:</span> <span class="token punctuation">&#123;</span> App <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>.eslintignore: 指令检查忽略的文件</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">*</span><span class="token punctuation">.</span>js
<span class="token operator">*</span><span class="token punctuation">.</span>vue<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="render函数"><a class="markdownIt-Anchor" href="#render函数">#</a> render 函数</h2>
<p>看上面 [关于不同版本的 Vue 以及 render 函数]</p>
<h2 id="修改默认配置"><a class="markdownIt-Anchor" href="#修改默认配置">#</a> 修改默认配置</h2>
<p>把默认配置信息放到 output.js 中查看：</p>
<p><code>vue inspect &gt; output.js</code></p>
<p>参考<a target="_blank" rel="noopener" href="https://cli.vuejs.org/zh/config/"> vue-cli 官方文档</a></p>
<p>语法检查：</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194713.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194713.png" alt="image-20210719151023888"></a></p>
<h2 id="ref属性"><a class="markdownIt-Anchor" href="#ref属性">#</a> ref 属性</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194712.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194712.png" alt="image-20210719113153419"></a></p>
<ol>
<li>被用来给元素或__子__组件注册引用信息（<strong>id 的替代者</strong>）</li>
<li>应用在 html 标签 (比如说 div) 上获取的是真实 DOM 元素，<mark>应用在组件标签 (比如说 School) 上是组件实例对象（vc）, 这样可以用里面的东西了</mark></li>
</ol>
<blockquote>
<p>这里就不能用 id 来获取那个组件了，因为这么做获取过来的是那个组件标签的真实 DOM, 而不是那个组件的实例化对象</p>
</blockquote>
<ol start="3">
<li>
<p>使用方式：</p>
<ol>
<li>
<p>打标识:  <code>&lt;h1 ref=&quot;xxx&quot;&gt;.....&lt;/h1&gt;</code>  或  <code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></p>
</li>
<li>
<p>获取:  <code>this.$refs.xxx</code></p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p>相当于是只要你给一个标签加上了一个 ref 属性 ( <code>ref=&quot;XXX&quot;</code> ), 不管是在 html 标签，还是你当前组件 (比如说 App.vue 文件) 里面引入的别的组件比如说 (School.vue) 然后你注册好了，然后在 App.vue 里面用上这个 School 标签，不管是怎么样，只要用了 ref 属性，就会把有这个属性的标签给到__当前__组件的 $ref 属性里面，这个 $ref 属性存的是个对象，这个对象每个键名为你 <code>XXX</code>  (你每个标签 ref 后面给的那个), 然后值就是每个对应的标签</p>
</blockquote>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;template&gt;
    &lt;div&gt;
      &lt;h1 v-text&#x3D;&quot;msg&quot; ref&#x3D;&quot;title&quot;&gt;&lt;&#x2F;h1&gt;
      &lt;button @click&#x3D;&quot;showDom&quot; ref&#x3D;&quot;btn&quot;&gt;点我输出上方的DOM元素&lt;&#x2F;button&gt;
      &lt;School ref&#x3D;&quot;sch&quot;&gt;&lt;&#x2F;School&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;

import School from &#39;.&#x2F;components&#x2F;School.vue&#39;

export default &#123;
    name:&#39;App&#39;,
    components:&#123;
      School  
    &#125;,
    data() &#123;
      return &#123;
          msg:&#39;Learn Vue&#39;
      &#125;
    &#125;,
    methods:&#123;
      showDom()&#123;
        console.log(this.$refs)
        console.log(this.$refs.title)
        console.log(this.$refs.btn)
        console.log(this.$refs.sch)
      &#125;
    &#125;
&#125;
&lt;&#x2F;script&gt;

&lt;style scoped&gt;
  
&lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="props配置"><a class="markdownIt-Anchor" href="#props配置">#</a> props 配置</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194715.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194715.png" alt="image-20210719161204954"></a></p>
<ol>
<li>
<p>功能：让组件接收外部传过来的数据</p>
<blockquote>
<p>这么干的用处可以当做这个组件会用到一些数据，但我们不在组件里面设置好这些数据因为设置好久固定住了 (虽然可以双向绑定啥的), 但是就正常的 div 标签显示的内容啥的</p>
</blockquote>
<blockquote>
<p>要是我们有多个地方使用同样的组件 (样式，功能等) 只是数据不同，我们就可以用到 props 了</p>
</blockquote>
<blockquote>
<p>我们在那个组件里面不要设置 data 传入那些可能会变得数据 (而且当前组件可能会用多次), 然后用 props 来接收以及设置一些 restrictions 比如说 type,required,default 等，这样你在别的地方要用这个组件就直接用标签 (除了 main.js (render 函数以及 App 传入那个 h 函数)), 然后再标签里面设置那些需要传的属性</p>
<p>( <code>&lt;组件名 属性名=XXX 属性名=XXX&gt;&lt;/组件名&gt;</code> ), 这里属性名写的必须跟接收的 props 里面写的属性一样.</p>
<p>注意这里传入的属性值 XXX 必选按照你接收数据的组件里的 props 里设置的 restrictions 来传，要是不符合就报错了</p>
</blockquote>
</li>
<li>
<p>传递数据： <code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p>
</li>
<li>
<p>接收数据：</p>
<ol>
<li>第一种方式（只接收）： <code>props:['name']</code></li>
<li>第二种方式（限制类型）： <code>props:&#123;name:String&#125;</code></li>
<li>第三种方式（限制类型、限制必要性、指定默认值）：</li>
</ol>
</li>
</ol>
<blockquote>
<p>现在这个 name 属性就会加到我们接收数据的那个组件实例化对象 vc 身上，然后我们就可以在那个组件里面的 template 部分使用这个 name 就行了</p>
</blockquote>
<blockquote>
<p>注意传的时候可能会是 <code>&lt;Demo :name=&quot;xxx&quot;/&gt;</code>  这里给 name 来了一个数据绑定 (v-bind), 这么做可以让 name 后面那个引号中的东西当做表达式，所以你写个数字之后传到组件中就是个数字类型的，你要是不加这个冒号，都是默认传的是字符串类型的，你接收的时候还需要自己转换下类型</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">props<span class="token operator">:</span><span class="token punctuation">&#123;</span>
	name<span class="token operator">:</span><span class="token punctuation">&#123;</span>
	type<span class="token operator">:</span>String<span class="token punctuation">,</span> <span class="token comment">//类型</span>
	required<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//必要性</span>
	<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'老王'</span> <span class="token comment">//默认值</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>备注：props 是只读的 (你接收数据的组件里面只能用这些可能传过来值的属性，可以修改，但可能会出问题，尽量不要这样！)，Vue 底层会监测你对 props 的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制 props 的内容到 data 中一份，然后去修改 data 中的数据。</strong></p>
<p>要是真要改的话，可以在我们接收数据的组件里面的 data 函数返回的对象里面设置一个新的属性 (注意跟接收的属性名不能一样), 然后把接收到的属性值存到我们和这个新设属性，然后我们就正常操作这个新设的属性就行了</p>
<p><mark>组件会接收 props 里从别处用这个组件传来的值，之后才是 data 什么的，所以可以在 data 里面接收</mark></p>
</blockquote>
<pre class="line-numbers language-HTML" data-language="HTML"><code class="language-HTML">&lt;template&gt;
    &lt;div&gt;
        &lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;&#x2F;h1&gt;
        &lt;h2&gt;学生姓名:&#123;&#123;myName&#125;&#125;&lt;&#x2F;h2&gt;
        &lt;h2&gt;学生年龄:&#123;&#123;age&#125;&#125;&lt;&#x2F;h2&gt;
        &lt;h2&gt;学生性别:&#123;&#123;myAge+1&#125;&#125;&lt;&#x2F;h2&gt;
        &lt;button @click&#x3D;&quot;changeAge&quot;&gt;尝试修改传来的年龄&lt;&#x2F;button&gt;
    &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt;

export default &#123;
    name:&#39;Student&#39;,
    data() &#123;
      return &#123;
          msg:&quot;hello,world&quot;,
          myName:this.name,
          myAge:this.age,
      &#125;
    &#125;,
    methods:&#123;
      changeAge()&#123;
        this.myAge++;
      &#125;
    &#125;,
    &#x2F;&#x2F;props中的prop相较于data是优先接收的
    &#x2F;&#x2F; 简单接收
    &#x2F;&#x2F; props:[&#39;name&#39;,&#39;sex&#39;,&#39;age&#39;]

    &#x2F;&#x2F;接收的同时对数据类型限制
    &#x2F;&#x2F; props: &#123;
    &#x2F;&#x2F;   name: String,
    &#x2F;&#x2F;   age: Number,
    &#x2F;&#x2F;   sex: String
    &#x2F;&#x2F; &#125;


    &#x2F;&#x2F;接收的同时对数据进行类型限制+默认值的指定+必要性的限制
    props:&#123;
      name:&#123;
        type:String, &#x2F;&#x2F;name的类型:String
        required: true &#x2F;&#x2F;name是必要的
      &#125;,
      age:&#123;
        type:Number,
        default:99     &#x2F;&#x2F;默认值
      &#125;,
      sex:&#123;
        type:String,
        required:true
      &#125;
    &#125;

&#125;
&lt;&#x2F;script&gt;
PLAINTEXT
&lt;div&gt;
    &lt;Student name&#x3D;&quot;cez&quot; sex&#x3D;&quot;男&quot; :age&#x3D;&quot;20&quot;&#x2F;&gt;
    &lt;hr&#x2F;&gt;
    &lt;Student name&#x3D;&quot;lxy&quot; sex&#x3D;&quot;女&quot; :age&#x3D;&quot;20&quot;&#x2F;&gt;
    &lt;hr&#x2F;&gt;
&lt;&#x2F;div&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="mixin混入"><a class="markdownIt-Anchor" href="#mixin混入">#</a> mixin 混入</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194714.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194714.png" alt="image-20210719154640462"></a></p>
<ol>
<li>
<p>功能：可以把多个组件共用的配置提取成一个混入对象</p>
<blockquote>
<p>相当于是把我们 vc 之间有很多一样的东西比如说方法，mounted 里面干的事，data 等等等，这些 vc 里面可以写的可以直接寄把这些作为一个对象写到一个 js 文件中，然后导出</p>
<p>之后我们在用 js 文件里面的配置项我们就在那个组件里面导入那个 js 文件，然后把导入的 js 文件放进我们当前组件的 mixins 配置项 (属性), 然后我们就可以在这个组件里面用这个 js 文件里面的写的方法啊等等等 (方法名都一样)</p>
</blockquote>
<p><mark>像是 java 里面的工具类</mark></p>
<blockquote>
<p>注意要是传进来的那个 js 文件会把那些设好的给混入我们这个当前组件的，要是我们组件有跟混合的一样的比如说变量名或者方法名，那么会以我们的数据为主，之混合进来我们当前组件没有的</p>
</blockquote>
<p><mark>但是注意生命钩子 (那些函数) 不会以谁为主，比如说要是你混合的里面有 mounted, 你当前 vc 组件也有 mounted, 那么两个函数都会被执行</mark></p>
</li>
<li>
<p>使用方式：</p>
<p>第一步定义混合：</p>
<p>任意文件名.js (作为混合)</p>
</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token punctuation">&#123;</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span>
    <span class="token operator">...</span><span class="token punctuation">.</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>第二步使用混入：</p>
<ul>
<li>全局混入 (在 main.js 里面)： <code>Vue.mixin(xxx)</code>  ----&gt; 你全部 vc 里面都会有这个混合里面的东西，要么这里面有 mounted 等生命钩子，那么你有几个组件文件这个函数就会被调用几次 (vm + 所有 vc 都需要挂载，所以都会执行由混合进来的 mounted 里面的代码)</li>
<li>局部混入： <code>mixins:[xxx]</code></li>
</ul>
<ul>
<li>
<p>mixin.js</p>
<pre class="line-numbers language-JAVASCRIPT" data-language="JAVASCRIPT"><code class="language-JAVASCRIPT">export const mixin &#x3D; &#123;
    methods:&#123;
        showName()&#123;
            alert(this.name);
        &#125;
    &#125;
&#125;

export const mixin2 &#x3D; &#123;
    data()&#123;
        return &#123;
            x:100,
            y:200
        &#125;
    &#125;
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>局部混入:</p>
<pre class="line-numbers language-JAVASCRIPT" data-language="JAVASCRIPT"><code class="language-JAVASCRIPT">&#x2F;&#x2F;引入混合
import &#123;mixin,mixin2&#125; from &#39;..&#x2F;mixin&#39;
export default &#123;
    name:&#39;Student&#39;,
    data() &#123;
      return &#123;
          name:&#39;cez&#39;,
          sex:&#39;男&#39;
      &#125;
    &#125;,
    mixins:[mixin,mixin2]

&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li>
<p>全局混入:（main.js)</p>
<pre class="line-numbers language-JAVASCRIPT" data-language="JAVASCRIPT"><code class="language-JAVASCRIPT">&#x2F;&#x2F; 引入Vue
import Vue from &#39;vue&#39;
&#x2F;&#x2F; 引入App
import App from &#39;.&#x2F;App.vue&#39;
import &#123;mixin,mixin2&#125; from &quot;@&#x2F;mixin&quot;;
&#x2F;&#x2F; 关闭Vue的生产提示
Vue.config.productionTip &#x3D; false

Vue.mixin(mixin)
Vue.mixin(mixin2)

&#x2F;&#x2F; 创建vm
new Vue(&#123;
    el:&quot;#app&quot;,
    render:h&#x3D;&gt;h(App)
&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
</ul>
<h2 id="插件"><a class="markdownIt-Anchor" href="#插件">#</a> 插件</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194716.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194716.png" alt="image-20210719163437235"></a></p>
<ol>
<li>
<p>功能：用于增强 Vue</p>
</li>
<li>
<p>本质：包含__install 方法的一个对象，install 的第一个参数是 Vue，第二个以后的参数是插件使用者传递的数据。__</p>
<blockquote>
<p>Vue 的插件就是一个对象   里面的一个 install 特殊函数方法，该函数里面的参数第一个是 Vue 构造函数  插件相当于游戏外挂 要提前引入 main 里面并且使用 Vue.use（函数方法使用该插件）</p>
</blockquote>
</li>
<li>
<p>定义插件：</p>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">对象<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 1. 添加全局过滤器</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>

    <span class="token comment">// 2. 添加全局指令</span>
    Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>

    <span class="token comment">// 3. 配置全局混入(合)</span>
    Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span>

    <span class="token comment">// 4. 添加实例方法</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxxx
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li>使用插件： <code>Vue.use()</code></li>
</ol>
<p>plugins.js</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//全局过滤器</span>
    Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token string">"mySlice"</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//定义全局指令</span>
    Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">"fbind"</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">//指令与元素成功绑定时（一上来）</span>
      <span class="token function">bind</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token comment">//指令所在元素被插入页面时</span>
      <span class="token function">inserted</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        element<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token comment">//指令所在的模板被重新解析时</span>
      <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        element<span class="token punctuation">.</span>value <span class="token operator">=</span> binding<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//定义混入</span>
    Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
          x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
          y<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//给Vue原型上添加一个方法（vm和vc就都能用了）</span>
    <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"你好啊"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>main.js</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">"vue"</span><span class="token punctuation">;</span>
<span class="token comment">//引入App</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">"./App.vue"</span><span class="token punctuation">;</span>
<span class="token comment">//引入插件</span>
<span class="token keyword">import</span> plugins <span class="token keyword">from</span> <span class="token string">"./plugins"</span><span class="token punctuation">;</span>
<span class="token comment">//关闭Vue的生产提示</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">//应用（使用）插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>plugins<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  el<span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span>
  <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>组件中使用</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学校名称：&#123;&#123; name | mySlice &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>学校地址：&#123;&#123; address &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点我测试一个hello方法<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  name<span class="token operator">:</span> <span class="token string">"School"</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      name<span class="token operator">:</span> <span class="token string">"尚硅谷atguigu"</span><span class="token punctuation">,</span>
      address<span class="token operator">:</span> <span class="token string">"北京"</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="scoped样式"><a class="markdownIt-Anchor" href="#scoped样式">#</a> scoped 样式</h2>
<ul>
<li>作用：让样式在局部生效，防止冲突 (以为最终解析 vue 文件是把所有的放在了一起，所以 css 可能冲突因为类名可能会有一样的，然后要有一样的就会被覆盖 (css 权重，层叠性… 那些东西))</li>
<li>写法： <code>&lt;style scoped&gt;</code></li>
</ul>
<blockquote>
<p>一般组件里面都是 <code>&lt;style scoped&gt;</code>  不过 App 里面可能是 <code>&lt;style&gt;</code>  因为我们一般在 App 写的样式本来就是给所有插件通用的，要是加了 scoped 就不会对那些插件生效了</p>
</blockquote>
<hr>
<h1 id="todolist案例"><a class="markdownIt-Anchor" href="#todolist案例">#</a> Todolist 案例</h1>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220129144922209.png" alt="image-20220129144922209"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220129145157749.png" alt="image-20220129145157749"></p>
<ul>
<li>按照功能划分，到底那些算一个组件，一个组件一个功能</li>
<li>一堆数据用数组  数据属性太多了用对象</li>
<li>一般 ul (List) 作为组件，子组件是 Item (li), 我们可以在 List 组件里面使用那个传进来 li, 然后 v-for (按照我们 List 组件有存多少), 以及用标签传数据 (li 组件需要设为 props 接收然后展示到页面上)</li>
<li>但是像我上面说的可能会有点麻烦，因为 header 组件也需要 access 到 data, 但跟 list 是兄弟关系，没法传到 list 里面的数据让他的子组件 item 接收</li>
<li>所以比较 low 的解决方法 (以后会学到更好的办法), 就是把数据都放到父亲 App 那里然后从父亲接收信息来自于 Header 然后传到 List (因为这俩组件都是传到我们的 App 那里，可以标签传然后这俩 props 接收)</li>
<li>如果是子组件比如说 Header 要给 App (父) 组件传数据，我们可以首先把一个在 App 组件里面带有参数的函数传给我们的 Header, 然后子组件可以调用然后把数据作为参数</li>
</ul>
<blockquote>
<p>子组件的 this 是子组件的 vc 实例对象，子组件调用 receive 相当于调用 APP 的 receive 同时还把数据传给了 APP</p>
<p>所以就算你在子组件里面用 props 接收到了那个函数，你是通过 this.XXX 来调用那个函数的，因为你用 props 传进去实际上是做了数据代理把这个放到你这个子组件的身上，但是真正调用的 receive 的函数跟__读取__一个变量 (数据) 一样 (都是表达式), 会触发这个函数属性的 getter (因为是通过数据代理放到 vc 身上的), 然后接着一直找知道了原本我们 App.vue 里面这个函数然后调用 getter, 应该是内部帮我们调用了这个 receive 函数</p>
<p><strong>所以虽然在子组件是通过 this.XXX 来调用那个接收到的函数，而实际执行的是传给这个子组件的 App.vue 里面的 receive 被调用了，然后 receive 函数里面的 this 指向的当然是 App.vue 这个 vc 本身</strong></p>
<blockquote>
<p>父组件定义函数，子组件调用函数传递参数。子组件定义属性参数列表，父组件调用子标签属性传参</p>
</blockquote>
<p>注意！！！这个函数是传给了儿子，但是这个函数本身是定义在了父亲这，所以函数里面的 this 指向的就是父亲，不过你可以在儿子那里用 this.XXX 来调用这个函数 (调用归调用，会一步一步找到父亲这来执行的)</p>
</blockquote>
<ul>
<li>能不能为空？限制输入？trim 要不要用？</li>
<li>数据写在哪里，对应的增删改查就应该在哪里 (不要再子组件里改变 props 传进来的父组件的数据)</li>
</ul>
<blockquote>
<p>如果传进来的是个对象，然后你在子组件里改了对象地址，这个不行，Vue 会检测到然后报错</p>
<p>如果你在子组件改的是这个对象的属性，<strong> 这个确实会改 (其实靠上面 v-model 都会被修改，只是看 Vue 看不看的到你修改了，如果看到你修改了一定会报错)</strong>, 也不会报错，但不建议这么做！</p>
</blockquote>
<ul>
<li>别忘了 setter 一把都会有一个系统给你传的参数也就是被修改后的值</li>
<li>别拿 v-model 跟一个用 props 引进来的数据进行绑定，其他的该用用</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220129230312944.png" alt="image-20220129230312944"></p>
<ul>
<li>要用的数据一开始是要从存的地方读取出来</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220129234225517.png" alt="image-20220129234225517"></p>
<blockquote>
<p>注意这里的后面的 <code>||[]</code>  这代表一开始前面要是空的会是 null (可能子组件会用到这数据 (当前组件传给自己的子，孙子等组件了) 然后这些子孙组件可能会用和这个数据调用方法比如说 <code>length</code> , 那如果是 null 就会报错的),null 是 false 所以会在逻辑或 || 使用的时候会返回后面的也就是让 todos 等于空数组而不是 null</p>
</blockquote>
<ul>
<li>我们设立好监测这个 data 里面的数据 (todos), 要是一有变化，就调用一个函数把现在的 todos 数据重新存入仓库 (覆盖之前的), 所以我们可以就用监测属性</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220129233840407.png" alt="image-20220129233840407"></p>
<blockquote>
<p>看你是想监视到什么程度，可能会写成对象形式加上那个 <code>deep:true</code></p>
<p>注意这个 handler 简写的方式，第一个参数是现在监视的数据也就是 todos 在更改之后变成的值 (因为每次有改变才会调用他的监测属性 (handler 函数)), 第二个参数是改之前的数据</p>
</blockquote>
<p>__== 注意不要给那个被监视的属性前面加上 this!!!==__比如说上面，todos 是当前组件上面的属性，那么就直接 todos 就行，不要 <code>'this.todos'</code> , 只是要观测比如说 <code>'todos.XXX'</code>  观测当前 vc/vm 对象属性的属性时才需要用。以及’' 扩住</p>
<h3 id="突然想说说js闭包"><a class="markdownIt-Anchor" href="#突然想说说js闭包">#</a> 突然想说说 js 闭包</h3>
<p>一般都是一个函数 (A) 里面的有个函数 (B) 然后外面这个函数 (A) 返回的是里面的函数 (B) 这一整个 (在里面并没有调用 B), 然后我们可以在外边调用函数 A, 然后返回的就是 B, 这个时候 B 是一个函数对象，比如说我们拿一个变量 x 来存。要是我们再调用函数 A 然后将返回值村给变量 y, 那么变量 x 和变量 y 存的地址不同！！！他们存的不是同一个函数对象，每一次执行那个函数 A, 返回的都是新建出来的一个函数对象 B 虽然没有用 new 什么的。然后一般方法里面执行完就结束了，里面啥变量都会被销毁，但是因为函数 A 返回的是函数 B, 且这个函数 B 被存在了一个变量里，那么说明可能会被调用到，那么这个函数 B 本身没有被摧毁__且__他周围的环境比如说在 A 里面的一些变量，如果这些变量被 B 用到了，那么这个变量也不会摧毁，而是一直伴随着这一个 B 函数对象.</p>
<p>比如函数对象 B 里面用的周围变量的值原本是 3, 然后调用函数 B 会把和这个改为 4.</p>
<ul>
<li>那么现在调用变量 x 存的函数 B 那么用的周围的那个变量会变成 4, 而 y 变量存的函数 B 的周围的那个变量还是 3.</li>
</ul>
<p>所以可以理解为函数 B 和他周围用到的变量 (环境) 属于一个闭包，每次调用 A 都会产生这么一个闭包，一个独一无二的 “环境”, 再次调用返回的就是另外一个 “环境”.</p>
<p>闭包作用果然应该是在一个函数里面用上别的函数作用域里面的变量啊等等等</p>
<blockquote>
<p>第一，闭包是一个函数，而且存在于另一个函数当中<br>
第二，<strong>闭包可以访问到父级函数的变量，且该变量不会销毁</strong></p>
<p>作用 1：隐藏变量，避免全局污染<br>
作用 2：可以读取函数内部的变量<br>
同时闭包使用不当，优点就变成了缺点：<br>
缺点 1：导致变量不会被垃圾回收机制回收，造成内存消耗<br>
缺点 2：不恰当的使用闭包可能会造成内存泄漏的问题</p>
</blockquote>
<hr>
<h1 id="nexttick"><a class="markdownIt-Anchor" href="#nexttick">#</a> nextTick</h1>
<ol>
<li>语法： <code>this.$nextTick(回调函数)</code></li>
<li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li>
<li>什么时候用：<strong>当改变数据后，要<mark>基于更新后的新 DOM</mark> 进行某些操作时，要在 nextTick 所指定的回调函数中执行</strong>。</li>
</ol>
<p>看以下代码:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130151136325.png" alt="image-20220130151136325"></p>
<ul>
<li>第一行：这个函数会在一个按钮被点击的时候调动，一旦调用就会触发全局事件总线的 editTodo 事件带上触发这个事件的 Todo 的 id, 然后在别的组件里有个函数在这个事件被触发会被调用，而那个函数作用就是把我们把__ref 设为 updateTextBox 的输入框显示出来 (现在还是被 v-show 隐藏住了)__</li>
<li>第二行：这个函数负责选择我们__选中 ref 设为 updateTextBox 中的文字__</li>
</ul>
<blockquote>
<p>我们想要的效果是一按按钮，然后输入框显示出来然后自动选中其中的文字，<em>_== 但是上面的做法是不行的！！！==</em>_</p>
</blockquote>
<p>这是因为 Vue 一般会把一整个 (比如说这里的这个函数) 会将他们看完然后再去解析模板做出改变等等等</p>
<p><strong>所以在第二行执行的时候那个输入框压根都还没出来 (没有重新解析模板呢), 这个输入框还是被隐藏着的，所以你在这里设置选中压根就不会起效果.</strong></p>
<p>解决方法:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130151949186.png" alt="image-20220130151949186"></p>
<p>用 vc (更具体说是 Vue 原型对象上的)$nextTick 方法，这个方法有个函数作为参数 (这个函数正常写，别写箭头函数)</p>
<p>然后把我们之前选中输入框的内容的代码放到那个回调函数里面去就行了</p>
<blockquote>
<p>$nextTick 指定的回调函数会在 DOM 节点更新完毕之后再去执行</p>
</blockquote>
<hr>
<h1 id="webstorage"><a class="markdownIt-Anchor" href="#webstorage">#</a> webStorage</h1>
<ol>
<li>
<p>存储内容大小一般支持 5MB 左右（不同浏览器可能还不一样）</p>
</li>
<li>
<p>浏览器端通过 Window.sessionStorage 和 Window.localStorage 属性来实现本地存储机制。</p>
</li>
<li>
<p>相关 API：</p>
</li>
<li>
<p><code>xxxxxStorage.setItem('key', 'value');</code> <br>
 该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值。</p>
<blockquote>
<p>如果存的是个对象，直接传这个对象 (就算是空对象), 会调用这个 toString 方法变成 <code>[Object Object]</code> , 需要转换成 json 对象！！</p>
</blockquote>
</li>
<li>
<p><code>xxxxxStorage.getItem('person');</code></p>
</li>
</ol>
<p>该方法接受一个键名作为参数，返回键名对应的值。</p>
<blockquote>
<p>如果读取的是个没有已经存的键，那么读出来的是 null, 然后 JSON.parse (null) 还是 null</p>
</blockquote>
<ol start="6">
<li><code>xxxxxStorage.removeItem('key');</code></li>
</ol>
<p>该方法接受一个键名作为参数，并把该键名从存储中删除。</p>
<ol start="7">
<li><code>xxxxxStorage.clear()</code></li>
</ol>
<p>该方法会清空存储中的所有数据。</p>
<ol start="8">
<li>备注：
<ol>
<li>SessionStorage 存储的内容会随着浏览器窗口关闭而消失。</li>
<li>LocalStorage 存储的内容，需要手动清除才会消失。</li>
<li><code>xxxxxStorage.getItem(xxx)</code>  如果 xxx 对应的 value 获取不到，那么 getItem 的返回值是 null。</li>
<li><code>JSON.parse(null)</code>  的结果依然是 null。</li>
</ol>
</li>
</ol>
<hr>
<h1 id="组件间通信props-自定义事件-全局事件总线-消息订阅发布-slot"><a class="markdownIt-Anchor" href="#组件间通信props-自定义事件-全局事件总线-消息订阅发布-slot">#</a> 组件间通信 props - 自定义事件 - 全局事件总线 - 消息订阅发布 - slot</h1>
<h2 id="起步"><a class="markdownIt-Anchor" href="#起步">#</a> 起步</h2>
<h3 id="组件间通信基本原则"><a class="markdownIt-Anchor" href="#组件间通信基本原则">#</a> 组件间通信基本原则</h3>
<ol>
<li>不要在子组件中直接修改父组件的状态数据</li>
<li>数据在哪，更新数据的行为 (函数) 就应该定义在哪</li>
</ol>
<h3 id="vue-组件间通信方式"><a class="markdownIt-Anchor" href="#vue-组件间通信方式">#</a> vue 组件间通信方式</h3>
<ol>
<li>props</li>
<li>vue 的自定义事件</li>
<li>消息订阅与发布 (如: pubsub 库)</li>
<li>slot</li>
<li>vuex</li>
</ol>
<h2 id="props"><a class="markdownIt-Anchor" href="#props">#</a> props</h2>
<h3 id="使用组件标签时"><a class="markdownIt-Anchor" href="#使用组件标签时">#</a> 使用组件标签时</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>tom<span class="token punctuation">'</span></span> <span class="token attr-name">:age</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>3<span class="token punctuation">'</span></span> <span class="token attr-name">:set-name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>setName<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="定义mycomponent-时"><a class="markdownIt-Anchor" href="#定义mycomponent-时">#</a> 定义 MyComponent 时</h3>
<ol>
<li>在组件内声明所有的 props</li>
<li>方式一：只指定名称</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">,</span> <span class="token string">'setName'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="3">
<li>方式二：指定名称和类型</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	name<span class="token operator">:</span> String<span class="token punctuation">,</span>
	age<span class="token operator">:</span> Number<span class="token punctuation">,</span>
	setNmae<span class="token operator">:</span> Function
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li>方式三：指定名称 / 类型 / 必要性 / 默认值</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">props<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
	name<span class="token operator">:</span> <span class="token punctuation">&#123;</span>type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span>xxx<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="注意"><a class="markdownIt-Anchor" href="#注意">#</a> 注意</h3>
<ol>
<li>此方式用于父组件向子组件传递数据</li>
<li>所有标签属性都会成为组件对象的属性，模板页面可以直接引用</li>
<li>问题:<br>
a. <strong>如果需要向非子后代传递数据必须多层逐层传递</strong><br>
 b. <strong>兄弟组件间也不能直接 props 通信，必须借助父组件才可以</strong></li>
</ol>
<blockquote>
<p>可以接收那个标签我们设的任意属性只要是合法的，<strong> 所以在标签我们传数据的时候，不一定是需要是：在前面，我们把:</strong></p>
<p><strong>(也就是 v-bind:) 放到前面是指他接下来后面的那个是个表达式，如果那个表达式是我们当前组件有的数据，那么就会检测，以后这数据改了就会在重新解析模板时让他也更新，但是如果不是我们组件有的数据，只是用来写一个表达式比如说一个字符串，那当然没事的，<mark> 但是防止让他以为我们传了个变量所以需要再加一个引号</mark>，要是我们前面干脆不加：(也就是 v-bind:), 我们用 props 还是照样接收的，不是必须是：(也就是 v-bind:) 才可以接收</strong></p>
</blockquote>
<h2 id="自定义事件"><a class="markdownIt-Anchor" href="#自定义事件">#</a> 自定义事件</h2>
<h3 id="绑定事件监听"><a class="markdownIt-Anchor" href="#绑定事件监听">#</a> 绑定事件监听</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 方式一: 通过v-on 绑定</span>
@delete_todo<span class="token operator">=</span><span class="token string">"deleteTodo"</span>
<span class="token comment">// 方式二: 通过$on()</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'delete_todo'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteTodo</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意第二种方式需要用 ref 绑定那个子组件</p>
<p>第二种方式更灵活一些，比如那个绑定的自定义事件的回调函数可以写在 mounted 里面，然后比如说三秒后再绑定等等等，总之比第一种写法然后只能在 methods 里面写事件回调函数要更灵活</p>
</blockquote>
<h3 id="触发事件"><a class="markdownIt-Anchor" href="#触发事件">#</a> 触发事件</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// 触发事件(只能在父组件中接收)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span>eventName<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>那个自定义事件绑定的是谁 (组件 vc (标签)) 那就去谁那里设置该如何触发</p>
<p>我们可以比方说在那个组件那里设置一个普通的点击事件，然后如果点了就会触发这个组件自己的自定义事件</p>
<p><code>this.$emit('之前自定义事件名','可能要传的数据')</code></p>
<p>然后使用这个标签的父组件里面这个子组件标签绑定的自定义事件被触发了，然后会调用你写的函数，里面接受的参数就是子组件 $emit 传来的__数据参数__</p>
</blockquote>
<h3 id="示例"><a class="markdownIt-Anchor" href="#示例">#</a> 示例</h3>
<p>之前都是这样绑定事件监听 父组件传递给子组件</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoHeader</span> <span class="token attr-name">:addTodo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addTodo<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>变成</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoHeader</span> <span class="token attr-name">@addTodo</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>addTodo<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>v-on 或者 @给__TodoHeader 组件的实例对象 vc__上绑定了一个 addTodo 自定义事件</p>
</blockquote>
<p>或者这样</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>TodoHeader</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>header<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">// 异步执行代码</span>
<span class="token comment">// 给&lt;>绑定addTodo事件监听</span>
<span class="token comment">// this.$on('addTodo', this.addTodo) // 给App绑定监听，不对的</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>header<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'addTodo'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>addTodo<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>可以选择 $once 替换 $on 代表此回调函数只执行一次</p>
</blockquote>
<p>子组件触发事件</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addTodo</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// demo2中的代码</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>变成</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">'addTodo'</span><span class="token punctuation">,</span> todo<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="注意-2"><a class="markdownIt-Anchor" href="#注意-2">#</a> 注意</h3>
<ol>
<li>此方式只用于子组件向父组件发送消息 (数据)</li>
<li>问题：隔代组件或兄弟组件间通信此种方式不合适</li>
</ol>
<blockquote>
<p>这种方式比 props 好在不用接收然后调用等等等，只需要在一定情况下 $emit 触发事件就可</p>
</blockquote>
<h3 id="总结"><a class="markdownIt-Anchor" href="#总结">#</a> 总结</h3>
<ol>
<li>
<p>一种组件间通信的方式，适用于：<strong>子组件 ===&gt; 父组件</strong></p>
</li>
<li>
<p>使用场景：A 是父组件，B 是子组件，B 想给 A 传数据，那么就要在 A 中给 B 绑定自定义事件（事件的回调在 A 中）。</p>
</li>
<li>
<p>绑定自定义事件：</p>
<ol>
<li>
<p>第一种方式，在父组件中： <code>&lt;Demo @atguigu=&quot;test&quot;/&gt;</code>  或  <code>&lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</code></p>
</li>
<li>
<p>第二种方式，在父组件中：</p>
</li>
</ol>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">&lt;</span>Demo ref<span class="token operator">=</span><span class="token string">"demo"</span><span class="token operator">/</span><span class="token operator">></span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'atguigu'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>test<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>
<p>若想让自定义事件只能触发一次，可以使用 <code>once</code>  修饰符，或 <code>$once</code>  方法。</p>
</li>
<li>
<p>触发自定义事件： <code>this.$emit('atguigu',数据)</code></p>
</li>
<li>
<p>解绑自定义事件 <code>this.$off('atguigu')</code> –&gt; 这个也是，给哪个组件绑定的事件就去哪个组件解绑</p>
<p><img src="C:%5CUsers%5Charry%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220130101949935.png" alt="image-20220130101949935"></p>
</li>
<li>
<p><strong>组件上也可以绑定原生 DOM 事件，需要使用 <code>native</code>  修饰符</strong>。</p>
</li>
</ol>
<blockquote>
<p>如果直接在组件标签上用 <code>@click</code>  比方说是不管用的，会被认为是自定义事件.</p>
<p>需要使用 <code>@click.native</code></p>
</blockquote>
<ol start="7">
<li>注意：通过 <code>this.$refs.xxx.$on('atguigu',回调)</code>  绑定自定义事件时，<strong>回调要么配置在 methods 中，要么用箭头函数 (要是普通函数那么里面的 this 指向的是这个被绑定自定义事件的子组件实例对象 vc, 因为就是他触发了事件，他调用的啊)，否则 this 指向会出问题</strong>！</li>
</ol>
<blockquote>
<p>当你给组件绑自定义事件的时候回调函数 this 指向被绑定事件的组件，当你调用当前组件的函数的时候，以当前组件函数的 this 为主，<strong>vue 规定当前组件函数的 this 指向当前组件 (所以把回调函数配置在 methods 可以让他有几次改变，最终以 this 指向我们当前父组件 vc,(<mark>我们之前学过，一个组件 vc 或者 vm 里面的 methods 所用的函数里面的 this 指向的都是当前 vm/vc</mark>))</strong></p>
</blockquote>
<h2 id="️全局事件总线globaleventbus"><a class="markdownIt-Anchor" href="#️全局事件总线globaleventbus">#</a> ⭐️全局事件总线（GlobalEventBus）</h2>
<ol>
<li>
<p>一种组件间通信的方式，适用于任意组件间通信。</p>
</li>
<li>
<p>安装全局事件总线：</p>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token operator">...</span><span class="token operator">...</span>
	<span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">//安装全局事件总线，$bus就是当前应用的vm</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>
<p>使用事件总线：</p>
<p>（1）接收数据：A 组件想接收数据，则在 A 组件中给 $bus 绑定自定义事件，事件的回调留在 A 组件自身。</p>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>（2）提供数据： <code>this.$bus.$emit('xxxx',数据)</code></p>
<ol start="4">
<li>最好在 beforeDestroy 钩子中，用 $off 去解绑当前组件所用到的事件。</li>
</ol>
<p>main.js</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">//引入Vue</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入App</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token comment">//关闭Vue的生产提示</span>
Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	el<span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">//安装全局事件总线</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Student.vue</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;student&quot;&gt;
		&lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
		&lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;&#x2F;h2&gt;
		&lt;button @click&#x3D;&quot;sendStudentName&quot;&gt;把学生名给School组件&lt;&#x2F;button&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; export default &#123;
		name:&#39;Student&#39;,
		data() &#123;
			return &#123;
				name:&#39;张三&#39;,
				sex:&#39;男&#39;,
			&#125;
		&#125;,
		mounted() &#123;
			&#x2F;&#x2F; console.log(&#39;Student&#39;,this.x)
		&#125;,
		methods: &#123;
			sendStudentName()&#123;
				this.$bus.$emit(&#39;hello&#39;,this.name)
			&#125;
		&#125;,
	&#125; &lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;less&quot; scoped&gt; .student&#123;
		background-color: pink;
		padding: 5px;
		margin-top: 30px;
	&#125; &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>School.vue</p>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;school&quot;&gt;
		&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
		&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;&#x2F;h2&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; export default &#123;
		name:&#39;School&#39;,
		data() &#123;
			return &#123;
				name:&#39;尚硅谷&#39;,
				address:&#39;北京&#39;,
			&#125;
		&#125;,
		mounted() &#123;
			&#x2F;&#x2F; console.log(&#39;School&#39;,this)
			this.$bus.$on(&#39;hello&#39;,(data)&#x3D;&gt;&#123;
				console.log(&#39;我是School组件，收到了数据&#39;,data)
			&#125;)
		&#125;,
		beforeDestroy() &#123;
			this.$bus.$off(&#39;hello&#39;)
		&#125;,
	&#125; &lt;&#x2F;script&gt;

&lt;style scoped&gt; .school&#123;
		background-color: skyblue;
		padding: 5px;
	&#125; &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<ul>
<li>需要一个所有 vm/vc 都能看到的地方，让他当上那个工具人，负责被绑定事件然后触发事件，触发事件的同时传参数将来被绑定事件的那个地方 (哪个 vc 或者 vm) 的回调函数接收那个被传的参数</li>
</ul>
<p>​	Vue 的原型对象有着一些方法以及属性可以让所有的 vm/vc 使用</p>
<p>​	vc 可以使用是因为 <code>vc.__proto__.__proto__</code> 就是 Vue 原型对象 (复习上方)</p>
<p>​	vm 也可以，很明显他也可以用 Vue 的原型对象的方法以及属性</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130114500131.png" alt="image-20220130114500131"></p>
<blockquote>
<ul>
<li>
<p>这个工具人需要拥有 $emit,$on,$once,$off 等方法</p>
<p>vc 可以，vm 也可以</p>
</li>
</ul>
<p>我们一般用我们已经创造出来的那个 vm, 而不是 vc (有点麻烦，需要 Vue.extend 获得那个构造函数对象，然后还需要 new 那个构造函数对象)</p>
</blockquote>
<blockquote>
<p><strong><mark>但是我们用 vm 是不能这样的</mark></strong></p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130120251606.png" alt="image-20220130120251606"></p>
<p>因为这里上面 vm 里面已经 render 了，已经把所有的都解析好放到页面上了，App 组件 (以及它里面的所有组件) 的都执行完了包括说__那些 vc 的 (!!!)__的 mounted 部分等等等</p>
<p>我们都已经把所有组件里面的都执行完了，所以里面的可能有些地方我们是绑定事件给 x 身上，但是他们在执行的时候压根就没有 x,x 是所有组件都执行完了然后解析模板结束了才被创造出来的，所以很明显，<mark> 不能像上面那么做！</mark></p>
<p>当然我们也不一样把这一行放到创造 vm 上面，因为 vm 那时候压根都还没有呢.</p>
</blockquote>
<blockquote>
<p><mark><strong>所以我们可以</strong></mark></p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130121900094.png" alt="image-20220130121900094"></p>
<p>这么做可以！这是因为 <code>beforeCreate</code>  生命周期钩子是只有在 vm 实例创建好之后，但是任何数据代理等等等都还没进行，模板解析等更是没执行的时候去执行里面的代码。这时候 vm 实例是已经有了但所有值都是初始默认值还没做任何数据代理等，然后我们各种组件等等等都还没有执行，(<strong>只有我们在解析模板的时候才会先从 App.vue 执行代码 (因为这里是把 App render 到页面上), 然后发现 App 组件有各种其他组件 (import 语句或者注册组件，到底是哪我也不确定) 就会再去执行那个组件等等等…</strong>) 所以这时候我们往 Vue 原型对象上把当前 vm 放上去，我们之后就可以__只有才执行的__所有组件获取到上面的属性以及代码 (包括我们放上去的 vm)</p>
<blockquote>
<p>所有生命周期钩子函数里面的 this 指向的都是__<mark>当前</mark>__vm / 组件 vc</p>
</blockquote>
<p>一般我们喜欢把那个工具人叫做 $bus, 其实他指向的就是我们的这个 vm</p>
</blockquote>
<blockquote>
<p>使用:</p>
<p>现在我们绑定了一个工具人傀儡叫做 $bus, 然后我们在一个组件 A 里面在某个情况 (自己定，<strong> 一般都是在那个组件的 mounted 函数里面绑定</strong>) 给 $bus 用 $on 绑定了个事件 hello, 然后给了个回调函数</p>
<p><code>this.$bus.$on('hello',(接收数据的参数)=&gt;&#123;拿接收到的(数据)参数干些事情&#125;)</code></p>
<p>注意:</p>
<p>上方在一个组件 (vc) 里面 this.$bus 是可以指向 Vue 原型对象上的 $bus 也就是我们之前给的 vm</p>
<p>回调函数需要用箭头函数，或者在 methods 里面写一个然后用 this. 函数名来，这样这个回调函数里面的 this 就会指向当前的 vc 而不是调用他的也就是我们的 vm (因为我们是给 vm 绑定事件以及触发时间的)</p>
<p>现在我们在另外任何一个组件 B 里面在某个情况 (自己定) 给 $bus 用 $emit 触发了 hello 事件</p>
<p><code>this.$bus.$emit('hello',当前vc有的数据)</code></p>
<blockquote>
<p>这么做就会触发这个 hello 事件. <strong>因为当初绑定给这个 $bus 绑定事件的是 A 组件，所以这个 hello 事件被触发后，就会调用当初在 A 组件里面给这个事件设的回调函数，当然这里从 B 组件给的数据也会作为 A 组件的回调函数的参数，然后因为 A 组件里面的回调函数 (通过箭头函数或 methods 里面函数占主机) 里面的 this 指向的肯定是那个组件 A, 这个样子我们就可以将数据从组件 B 传给组件 A 然后 A 做出对应操作，即使组件 A 与组件 B 是兄弟但照样可以传</strong></p>
<blockquote>
<p>我觉得最妙的地方在于__在哪里__给任何 (子组件也好，$bus 也好) 给绑定了一个自定义事件，我们__就可以在哪里__设好一个回调函数，然后这个函数有参数代表之后触发事件的组件传递的数据，我们就可以在__哪里__使用那个数据了.</p>
<p>而想要给那个组件传数据就只需要触发这个事件然后把想传的参数一块放进 $emit 里面即可</p>
</blockquote>
</blockquote>
<p>还有注意！</p>
<p>我们一般会这么做:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130123857775.png" alt="image-20220130123857775"></p>
<p>在绑定事件的组件 A 那里，在他毁灭前让他解绑这个自定义事件.</p>
<blockquote>
<p>这么做万一之后要是有任何的原因这个 A 组件被 <code>$destroy</code>  了或者自己 <code>$destroy</code> , 那么在 A 组件临死前解绑，这样就不会让这个 $bus 存着这个 hello 事件占着，不然这个傀儡上面事件攒着攒着太多了，把不必要的给解绑了</p>
</blockquote>
<p>为什么我们之前没这么做？</p>
<blockquote>
<p>这是因为我们之前在父组件 A 给子组件 B 绑定事件，要是这个组件 B 会被 <code>$destroy</code>  了或者自己 <code>$destroy</code> , 那么就默认会把__自己__的自定义绑定事件都给解绑了，不需要在组件 B 里面写什么在临死前解绑</p>
<p>而我们上面是给<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi><mi>u</mi><mi>s</mi><mtext>存的也就是</mtext><mi>v</mi><mi>m</mi><mtext>绑定了事件</mtext><mo separator="true">,</mo><mtext>我们又没想</mtext><mi mathvariant="normal">‘</mi></mrow><annotation encoding="application/x-tex">bus存的也就是vm绑定了事件,我们又没想`</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal">b</span><span class="mord mathnormal">u</span><span class="mord mathnormal">s</span><span class="mord cjk_fallback">存</span><span class="mord cjk_fallback">的</span><span class="mord cjk_fallback">也</span><span class="mord cjk_fallback">就</span><span class="mord cjk_fallback">是</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span><span class="mord mathnormal">m</span><span class="mord cjk_fallback">绑</span><span class="mord cjk_fallback">定</span><span class="mord cjk_fallback">了</span><span class="mord cjk_fallback">事</span><span class="mord cjk_fallback">件</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord cjk_fallback">我</span><span class="mord cjk_fallback">们</span><span class="mord cjk_fallback">又</span><span class="mord cjk_fallback">没</span><span class="mord cjk_fallback">想</span><span class="mord">‘</span></span></span></span>destroy`vm,<strong> 傀儡一直存在</strong></p>
</blockquote>
<p>全局事件总线的本质是给组件绑定自定义事件！只不过这里的组件是 this.$bus 也就是 Vue 实例！</p>
</blockquote>
<h2 id="消息订阅与发布pubsubjs-库"><a class="markdownIt-Anchor" href="#消息订阅与发布pubsubjs-库">#</a> 消息订阅与发布 (PubSubJS 库)</h2>
<h3 id="订阅消息"><a class="markdownIt-Anchor" href="#订阅消息">#</a> 订阅消息</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'msg'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="发布消息"><a class="markdownIt-Anchor" href="#发布消息">#</a> 发布消息</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'msg'</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="示例-2"><a class="markdownIt-Anchor" href="#示例-2">#</a> 示例</h3>
<p>订阅消息（绑定事件监听）</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">'pubsub-js'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">// 订阅消息(deleteTodo)</span>
		PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'deleteTodo'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deleteTodo</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>发布消息（触发事件）</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// this.deleteTodo(this.index)</span>
<span class="token comment">// 发布消息(deleteTodo)</span>
PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'deleteTodo'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="注意-3"><a class="markdownIt-Anchor" href="#注意-3">#</a> 注意</h3>
<ol>
<li>优点：此方式可实现任意关系组件间通信 (数据)</li>
</ol>
<h3 id="事件的2-个重要操作"><a class="markdownIt-Anchor" href="#事件的2-个重要操作">#</a> 事件的 2 个重要操作</h3>
<ol>
<li>绑定事件监听 (订阅消息)<br>
 目标：标签元素 <code>&lt;button&gt;</code> <br>
 事件名 (类型):  <code>click/focus</code> <br>
 回调函数:  <code>function(event)&#123;&#125;</code></li>
<li>触发事件 (发布消息)<br>
 DOM 事件：用户在浏览器上对应的界面上做对应的操作<br>
自定义：编码手动触发</li>
</ol>
<h3 id="总结-2"><a class="markdownIt-Anchor" href="#总结-2">#</a> 总结</h3>
<ol>
<li>
<p>一种组件间通信的方式，适用于任意组件间通信。</p>
<blockquote>
<p>跟全局事件总线很像，一般我们都是用全局事件总线</p>
</blockquote>
</li>
<li>
<p>使用步骤：</p>
<ol>
<li>
<p>安装 pubsub： <code>npm i pubsub-js</code></p>
</li>
<li>
<p>引入:  <code>import pubsub from 'pubsub-js'</code></p>
</li>
<li>
<p>接收数据：A 组件想接收数据，则在 A 组件中订阅消息，订阅的回调留在 A 组件自身。</p>
</li>
</ol>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token operator">...</span><span class="token operator">...</span>
<span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span> <span class="token comment">//订阅消息</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li>
<p>提供数据： <code>pubsub.publish('xxx',数据)</code></p>
</li>
<li>
<p>最好在 beforeDestroy 钩子中，用 <code>PubSub.unsubscribe(pid)</code>  去取消订阅。</p>
</li>
</ol>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;school&quot;&gt;
		&lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
		&lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;&#x2F;h2&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; import pubsub from &#39;pubsub-js&#39;
	export default &#123;
		name:&#39;School&#39;,
		data() &#123;
			return &#123;
				name:&#39;尚硅谷&#39;,
				address:&#39;北京&#39;,
			&#125;
		&#125;,
		mounted() &#123;
			&#x2F;&#x2F; console.log(&#39;School&#39;,this)
			&#x2F;* this.$bus.$on(&#39;hello&#39;,(data)&#x3D;&gt;&#123;
				console.log(&#39;我是School组件，收到了数据&#39;,data)
			&#125;) *&#x2F;
			this.pubId &#x3D; pubsub.subscribe(&#39;hello&#39;,(msgName,data)&#x3D;&gt;&#123;
				console.log(this)
				&#x2F;&#x2F; console.log(&#39;有人发布了hello消息，hello消息的回调执行了&#39;,msgName,data)
			&#125;)
		&#125;,
		beforeDestroy() &#123;
			&#x2F;&#x2F; this.$bus.$off(&#39;hello&#39;)
			pubsub.unsubscribe(this.pubId)
		&#125;,
	&#125; &lt;&#x2F;script&gt;

&lt;style scoped&gt; .school&#123;
		background-color: skyblue;
		padding: 5px;
	&#125; &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<ul>
<li>
<p>注意上方他取消订阅的是把那个 id 给取消了 (有点定时器的意思), 然后需要用 this 把那个 pubId 加到当前组件上，不然找不到 pubId 那个值</p>
</li>
<li>
<p>注意这个接收数据的回调函数里面默认会有一个数据，然后第二个以后才是你传的数据，第一个默认的是系统传的也就是你这个订阅消息的名字</p>
</li>
</ul>
<p>然后老套路，这里的回调函数当然也要用箭头函数，vue 只保证他管理的函数里面的 this 指向的是 vm/vc, 这可是第三方库</p>
</blockquote>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
	&lt;div class&#x3D;&quot;student&quot;&gt;
		&lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;
		&lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;&#x2F;h2&gt;
		&lt;button @click&#x3D;&quot;sendStudentName&quot;&gt;把学生名给School组件&lt;&#x2F;button&gt;
	&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; import pubsub from &#39;pubsub-js&#39;
	export default &#123;
		name:&#39;Student&#39;,
		data() &#123;
			return &#123;
				name:&#39;张三&#39;,
				sex:&#39;男&#39;,
			&#125;
		&#125;,
		mounted() &#123;
			&#x2F;&#x2F; console.log(&#39;Student&#39;,this.x)
		&#125;,
		methods: &#123;
			sendStudentName()&#123;
				&#x2F;&#x2F; this.$bus.$emit(&#39;hello&#39;,this.name)
				pubsub.publish(&#39;hello&#39;,666)
			&#125;
		&#125;,
	&#125; &lt;&#x2F;script&gt;

&lt;style lang&#x3D;&quot;less&quot; scoped&gt; .student&#123;
		background-color: pink;
		padding: 5px;
		margin-top: 30px;
	&#125; &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="slot插槽"><a class="markdownIt-Anchor" href="#slot插槽">#</a> slot (插槽)</h2>
<h3 id="理解"><a class="markdownIt-Anchor" href="#理解">#</a> 理解</h3>
<p>此方式用于父组件向子组件传递 <code>标签数据</code></p>
<blockquote>
<p>我们有一个子组件，然后父组件用很多这个子组件标签，但是有的子组件标签我们想在他原本有的东西基础上多加点东西比如说第 1,6 个子组件想要加个视频，第 2 个组件加个照片，其他不变</p>
<p>这时候就需要用到插槽了</p>
</blockquote>
<h3 id="子组件-childvue"><a class="markdownIt-Anchor" href="#子组件-childvue">#</a> 子组件: Child.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>不确定的标签结构1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>组件确定的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yyy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>不确定的标签结构2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>在可能会传进来的地方放上 <code>&lt;slot name=&quot;xxx&quot;&gt;AAA&lt;/slot&gt;</code>  标签</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131112326925.png" alt="image-20220131112326925"></p>
<h3 id="父组件-parentvue"><a class="markdownIt-Anchor" href="#父组件-parentvue">#</a> 父组件: Parent.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>xxx 对应的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">slot</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yyy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>yyyy 对应的标签结构<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>child</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>值得注意的是比如说我们在父组件里使用的子组件标签之间用了其他标签比如说图片等等等，那么是会在我们父组件解析完了传到__子组件的插槽中 (slot 标签)__, 然后理所当然的我们可以子组件写那些插槽接收过来的那些标签的样式 (用的类名都是传来的那些标签本来设置好的，别写什么 slot… 在样式里面)</p>
</blockquote>
<blockquote>
<p>当然我们也可以在父组件里面写好那些标签的样式，然后之后__传给子组件插槽的就是已经解析并且有了样式的标签__</p>
</blockquote>
<h3 id="插槽也可以实现子组件传父组件数据作用域插槽"><a class="markdownIt-Anchor" href="#插槽也可以实现子组件传父组件数据作用域插槽">#</a> 插槽也可以实现子组件 “传” 父组件数据 (作用域插槽)</h3>
<p>子组件里面:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131114538543.png" alt="image-20220131114538543"></p>
<p>父组件:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131115948934.png" alt="image-20220131115948934"></p>
<blockquote>
<p>这个传的 games 数据，因为出现在 slot 标签上，代表着父组件里面要是给这个子组件标签之间放了插槽的标签，那么这个插槽的标签就会替换掉这个子组件里面的这个 slot 标签 (跟上面学的一样), 然后这个所设的 games 数据就会给到我们插入插槽的那个标签</p>
<blockquote>
<p>谁往里面塞结构，那么这个 games 数据就传给谁</p>
</blockquote>
<blockquote>
<p>当然在父组件其他地方想用这个数据是肯定不行的，只有我们插入这个有插槽并且给数据子组件标签的插入标签才有那个数据</p>
</blockquote>
</blockquote>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131120138778.png" alt="image-20220131120138778"></p>
<p>​         <img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131120217716.png" alt="image-20220131120217716"></p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131120300665.png" alt="image-20220131120300665"><br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131120312623.png" alt="image-20220131120312623"></p>
<blockquote>
<p><strong>作用域插槽也可以有名字</strong></p>
</blockquote>
<hr>
<h1 id="动画没有细记"><a class="markdownIt-Anchor" href="#动画没有细记">#</a> 动画 (没有细记)</h1>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130182034394.png" alt="image-20220130182034394"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130182042319.png" alt="image-20220130182042319"></p>
<h2 id="vue"><a class="markdownIt-Anchor" href="#vue">#</a> <a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=vue&amp;spm=1001.2101.3001.7020">vue</a> 动画的理解</h2>
<p>操作 css 的 <code>trasition</code>  或 <code>animation</code></p>
<p>vue 会给目标元素添加 / 移除特定的 <code>class</code></p>
<h2 id="基本过渡动画的编码"><a class="markdownIt-Anchor" href="#基本过渡动画的编码">#</a> 基本过渡动画的编码</h2>
<ol>
<li>在目标元素外包裹</li>
<li>定义 class 样式<br>
 1&gt;. 指定过渡样式: transition<br>
2&gt;. 指定隐藏时的样式: opacity / 其它</li>
</ol>
<h2 id="过渡的类名"><a class="markdownIt-Anchor" href="#过渡的类名">#</a> 过渡的类名</h2>
<p>xxx-enter-active: 指定显示的 transition<br>
xxx-leave-active: 指定隐藏的 transition<br>
xxx-enter: 指定隐藏时的样式</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210125172255788.png" alt=""></p>
<h2 id="过渡代码示例"><a class="markdownIt-Anchor" href="#过渡代码示例">#</a> 过渡代码示例</h2>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token comment">/* 显示/隐藏的过渡效果 */</span>
<span class="token selector">.xxx-enter-active, .xxx-leave-active</span><span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> opacity 0.5s<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/* 隐藏时的样式  */</span>
<span class="token selector">.xxx-enter, .xxx-leave-to</span><span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.move-enter-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 1s<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.move-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> all 3s<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.move-enter, .move-leave-to</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>20px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow=!isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>过渡1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xxx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>YK菌学前端<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>   
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>demo2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow=!isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>过渡2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>move<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>YK菌天天学前端<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            el<span class="token operator">:</span> <span class="token string">"#demo1"</span><span class="token punctuation">,</span>
            <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
                    isShow<span class="token operator">:</span> <span class="token boolean">true</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            el<span class="token operator">:</span> <span class="token string">"#demo2"</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                isShow<span class="token operator">:</span><span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210125194322925.gif" alt=""></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow = !isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span> <span class="token attr-name">appear</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isShow<span class="token punctuation">"</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>你好啊！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>尚硅谷！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		name<span class="token operator">:</span><span class="token string">'Test'</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				isShow<span class="token operator">:</span><span class="token boolean">true</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"> <span class="token selector">h1</span><span class="token punctuation">&#123;</span>
		<span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">/* 进入的起点、离开的终点 */</span>
	<span class="token selector">.hello-enter,.hello-leave-to</span><span class="token punctuation">&#123;</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token selector">.hello-enter-active,.hello-leave-active</span><span class="token punctuation">&#123;</span>
		<span class="token property">transition</span><span class="token punctuation">:</span> 0.5s linear<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token comment">/* 进入的终点、离开的起点 */</span>
	<span class="token selector">.hello-enter-to,.hello-leave</span><span class="token punctuation">&#123;</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="动画代码示例"><a class="markdownIt-Anchor" href="#动画代码示例">#</a> 动画代码示例</h2>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.bounce-enter-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> bounce-in .5s<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.bounce-leave-active</span> <span class="token punctuation">&#123;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> bounce-in .5s reverse<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token atrule"><span class="token rule">@keyframes</span> bounce-in</span> <span class="token punctuation">&#123;</span>
    <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>example-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>show = !show<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Toggle show<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>bounce<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span>YK菌一直在学前端<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../js/vue.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            el<span class="token operator">:</span> <span class="token string">'#example-2'</span><span class="token punctuation">,</span>
            data<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
                show<span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
      </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210125194507733.gif" alt=""></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow = !isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span> <span class="token attr-name">appear</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>你好啊！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		name<span class="token operator">:</span><span class="token string">'Test'</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				isShow<span class="token operator">:</span><span class="token boolean">true</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"> <span class="token selector">h1</span><span class="token punctuation">&#123;</span>
		<span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token selector">.hello-enter-active</span><span class="token punctuation">&#123;</span>
		<span class="token property">animation</span><span class="token punctuation">:</span> atguigu 0.5s linear<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token selector">.hello-leave-active</span><span class="token punctuation">&#123;</span>
		<span class="token property">animation</span><span class="token punctuation">:</span> atguigu 0.5s linear reverse<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>

	<span class="token atrule"><span class="token rule">@keyframes</span> atguigu</span> <span class="token punctuation">&#123;</span>
		<span class="token selector">from</span><span class="token punctuation">&#123;</span>
			<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>-100%<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token selector">to</span><span class="token punctuation">&#123;</span>
			<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span>0px<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="使用第三方动画库"><a class="markdownIt-Anchor" href="#使用第三方动画库">#</a> 使用第三方动画库</h2>
<p><a target="_blank" rel="noopener" href="https://animate.style/">https://animate.style/</a></p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow = !isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>显示/隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition-group</span> 
			<span class="token attr-name">appear</span>
			<span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animate__animated animate__bounce<span class="token punctuation">"</span></span> 
			<span class="token attr-name">enter-active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animate__swing<span class="token punctuation">"</span></span>
			<span class="token attr-name">leave-active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>animate__backOutUp<span class="token punctuation">"</span></span>
		<span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!isShow<span class="token punctuation">"</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>你好啊！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span> <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>尚硅谷！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition-group</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">import</span> <span class="token string">'animate.css'</span>
	<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
		name<span class="token operator">:</span><span class="token string">'Test'</span><span class="token punctuation">,</span>
		<span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
				isShow<span class="token operator">:</span><span class="token boolean">true</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"> <span class="token selector">h1</span><span class="token punctuation">&#123;</span>
		<span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="总结-3"><a class="markdownIt-Anchor" href="#总结-3">#</a> 总结</h2>
<ol>
<li>
<p>作用：在插入、更新或移除 DOM 元素时，在合适的时候给元素添加样式类名。</p>
</li>
<li>
<p>写法：</p>
<ol>
<li>
<p>准备好样式：</p>
<ul>
<li>元素进入的样式：
<ol>
<li>v-enter：进入的起点</li>
<li>v-enter-active：进入过程中</li>
<li>v-enter-to：进入的终点</li>
</ol>
</li>
<li>元素离开的样式：
<ol>
<li>v-leave：离开的起点</li>
<li>v-leave-active：离开过程中</li>
<li>v-leave-to：离开的终点</li>
</ol>
</li>
</ul>
</li>
<li>
<p>使用 <code>&lt;transition&gt;</code>  包裹要过度的元素，并配置 name 属性：</p>
</li>
</ol>
</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transition</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>isShow<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>你好啊！<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>transition</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>备注：若有多个元素需要过渡，则需要使用： <code>&lt;transition-group&gt;</code> ，且每个元素都要指定 <code>key</code>  值。</li>
</ol>
<hr>
<h1 id="配置代理ajaxaxiosgithub实例"><a class="markdownIt-Anchor" href="#配置代理ajaxaxiosgithub实例">#</a> 配置代理，Ajax (Axios),Github 实例</h1>
<h2 id="使用vue-cli配置代理"><a class="markdownIt-Anchor" href="#使用vue-cli配置代理">#</a> 使用<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Vue&amp;spm=1001.2101.3001.7020"> Vue</a>-cli 配置代理</h2>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220130195350353.png" alt="image-20220130195350353"></p>
<blockquote>
<p>配置代理服务器来解决跨域问题</p>
<p>vue-cli 脚手架可以帮助我们开启代理服务器</p>
</blockquote>
<h3 id="方法一"><a class="markdownIt-Anchor" href="#方法一">#</a> 方法一</h3>
<p>在__vue.config.js__中添加如下配置：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">devServer<span class="token operator">:</span><span class="token punctuation">&#123;</span>
  proxy<span class="token operator">:</span><span class="token string">"http://localhost:5000"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意！</p>
<p>你当前所处的服务器，也就是你输入 <code>npm run serve</code>  会开启一个服务器 http://localhost:8080 (这个是 vue-cli 帮我们开的), 这个服务器是用来支撑我们 vue-cli 脚手架运行</p>
<p>我们上面设置的这个代理服务器__默认__(IP, 端口和协议和我们支撑 vue-cli 脚手架是一样的！！！) 所以也是 http://localhost:8080</p>
<p>而我们要改的那个值是告诉我们的代理服务器将请求转发给谁，我们想将请求 (以及接收 response 来自) 转发给 http://localhost:5000 这个服务器，所以我们就设置这个就对了</p>
<p>然后之后我们前端 ajax 请求请求的都是 http://localhost:8080 这个代理服务器即可</p>
<p>注意！这个代理服务器其实就是我们 vue project 里面的那个 public 文件夹，里面所有有的东西这个代理服务器都有</p>
<p>要是我们想要用代理服务器去请求一个别的服务器比如说叫 ABC 的资源，而我们 public 文件夹本身就有一个叫 ABC 的文件，那么这个代理服务器直接就把 public 的那个 (也是他自己有的) 那个 ABC 文件返回给你</p>
</blockquote>
<p>说明：</p>
<ol>
<li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li>
<li>缺点：<strong>不能配置多个代理，不能灵活的控制请求是否走代理</strong>。</li>
<li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li>
</ol>
<h3 id="方法二"><a class="markdownIt-Anchor" href="#方法二">#</a> 方法二</h3>
<p>编写 vue.config.js 配置具体代理规则：</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	devServer<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      proxy<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
      <span class="token string">'/api1'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token comment">// 匹配所有以 '/api1'开头的请求路径</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string">'^/api1'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
      <span class="token string">'/api2'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token comment">// 匹配所有以 '/api2'开头的请求路径</span>
        target<span class="token operator">:</span> <span class="token string">'http://localhost:5001'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string">'^/api2'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
   changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000
   changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080
   changeOrigin默认值为true
*/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>他那个 api1,api2 可以随便写的，这是为了灵活的控制请求是否走代理</p>
<p>记住要是写的是 api1, 那么在我们前端 ajax 请求的 url 是</p>
<p><code>目标服务器协议://目标服务器IP:目标服务器端口/api1/目标服务器中的任何资源</code>  // 在端口后面写上 api1</p>
<p>然后在上面设置中我们需要设置 pathRewrite, 让这个代理服务器请求的时候别把那个 api1 也给带上 (官方文档有这方面最新的解决办法)</p>
<p>这么做可以弄多个代理</p>
</blockquote>
<p>说明：</p>
<ol>
<li>优点：<strong>可以配置多个代理</strong>，且可以灵活的控制请求是否走代理。</li>
<li>缺点：配置略微繁琐，请求资源时必须加前缀。</li>
</ol>
<h2 id="准备工作"><a class="markdownIt-Anchor" href="#准备工作">#</a> 准备工作</h2>
<p>界面拆分<br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210223154606734.png" alt=""></p>
<h2 id="静态页面"><a class="markdownIt-Anchor" href="#静态页面">#</a> 静态页面</h2>
<h3 id="indexhtml"><a class="markdownIt-Anchor" href="#indexhtml">#</a> index.html</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width,initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>demo_ajax<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>./static/users_page/bootstrap.css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>app<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token comment">&lt;!-- built files will be auto injected --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="appvue-2"><a class="markdownIt-Anchor" href="#appvue-2">#</a> App.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>search</span> <span class="token punctuation">/></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>users-main</span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> Main <span class="token keyword">from</span> <span class="token string">"./components/Main.vue"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Search <span class="token keyword">from</span> <span class="token string">"./components/Search.vue"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  components<span class="token operator">:</span> <span class="token punctuation">&#123;</span> Search<span class="token punctuation">,</span> UsersMain<span class="token operator">:</span> Main <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token comment">//不能用main作为标签名，就换一个名字</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="searchvue"><a class="markdownIt-Anchor" href="#searchvue">#</a> Search.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jumbotron<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jumbotron-heading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Search Github Users<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enter the name you search<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="mainvue"><a class="markdownIt-Anchor" href="#mainvue">#</a> Main.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/reactjs<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://avatars.githubusercontent.com/u/6412038?v=3<span class="token punctuation">"</span></span>
          <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>reactjs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/reactjs<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://avatars.githubusercontent.com/u/6412038?v=3<span class="token punctuation">"</span></span>
          <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>reactjs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/reactjs<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://avatars.githubusercontent.com/u/6412038?v=3<span class="token punctuation">"</span></span>
          <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>reactjs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/reactjs<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://avatars.githubusercontent.com/u/6412038?v=3<span class="token punctuation">"</span></span>
          <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>reactjs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://github.com/reactjs<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://avatars.githubusercontent.com/u/6412038?v=3<span class="token punctuation">"</span></span>
          <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span>
        <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>reactjs<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css"> <span class="token selector">.card</span> <span class="token punctuation">&#123;</span>
  <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 33.333%<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> .75rem<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 2rem<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #efefef<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.card > img</span> <span class="token punctuation">&#123;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> .75rem<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.card-text</span> <span class="token punctuation">&#123;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 85%<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="初始化显示"><a class="markdownIt-Anchor" href="#初始化显示">#</a> 初始化显示</h2>
<h3 id="mainvue-2"><a class="markdownIt-Anchor" href="#mainvue-2">#</a> main.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>请输入用户名搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorMsg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;errorMsg&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(user, index) in users<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.url<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
            <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.avatar_url<span class="token punctuation">"</span></span>
            <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span>
          <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;user.name&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 界面有四个状态</span>
      firstView<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      users<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//[&#123;url:'', avatar_url: '', name: ''&#125;]</span>
      errorMsg<span class="token operator">:</span> <span class="token string">''</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="交互功能实现"><a class="markdownIt-Anchor" href="#交互功能实现">#</a> 交互功能实现</h2>
<p>输入关键字点击搜索，界面发生变化</p>
<h3 id="searchvue-2"><a class="markdownIt-Anchor" href="#searchvue-2">#</a> Search.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>section</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jumbotron<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jumbotron-heading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Search Github Users<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span>
        <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span>
        <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enter the name you search<span class="token punctuation">"</span></span>
        <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>searchName<span class="token punctuation">"</span></span>
      <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>search<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>section</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">"pubsub-js"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      searchName<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> searchName <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>searchName<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>searchName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// 发布搜索的消息</span>
        PubSub<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">"search"</span><span class="token punctuation">,</span> searchName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="mainvue-3"><a class="markdownIt-Anchor" href="#mainvue-3">#</a> Main.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>firstView<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>请输入用户名搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>loading<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>errorMsg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123; errorMsg &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span> <span class="token attr-name">v-else</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(user, index) in users<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">:href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.url<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user.avatar_url<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token property">width</span><span class="token punctuation">:</span> 100px</span><span class="token punctuation">"</span></span></span> <span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>card-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123; user.name &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"> <span class="token keyword">import</span> PubSub <span class="token keyword">from</span> <span class="token string">"pubsub-js"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 界面有四个状态</span>
      firstView<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      loading<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      users<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token comment">//[&#123;url:'', avatar_url: '', name: ''&#125;]</span>
      errorMsg<span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// 订阅搜索的消息</span>
    PubSub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">"search"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">msg<span class="token punctuation">,</span> searchName</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token comment">// 说明需要发ajax请求搜索</span>
      <span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://api.github.com/search/users?q=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>searchName<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

      <span class="token comment">//更新状态（请求中）</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>firstView <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>users <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>errorMsg <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>

      <span class="token comment">// 发ajax状态</span>
      axios
        <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token keyword">const</span> result <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
          <span class="token keyword">const</span> users <span class="token operator">=</span> result<span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
            url<span class="token operator">:</span> item<span class="token punctuation">.</span>html_url<span class="token punctuation">,</span>
            avatar_url<span class="token operator">:</span> item<span class="token punctuation">.</span>avatar_url<span class="token punctuation">,</span>
            name<span class="token operator">:</span> item<span class="token punctuation">.</span>login<span class="token punctuation">,</span>
          <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 成功， 更新状态（成功）</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>users <span class="token operator">=</span> users<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
          <span class="token comment">// 失败， 更新状态（失败）</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>loading <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>errorMsg <span class="token operator">=</span> <span class="token string">"请求失败"</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span> </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="效果展示"><a class="markdownIt-Anchor" href="#效果展示">#</a> 效果展示</h2>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/2021022317335093.gif" alt=""></p>
<p>注意！！！</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131023159992.png" alt="image-20220131023159992"></p>
<p>上面这个代码很妙，我们想让 info 这个对象接收来自于 updatedData 对象里面他已经有的数据，也就是</p>
<ul>
<li>
<p>如果 updatedData 里面有的键我们 info 也有，我们希望把这些键替换成 updatedData 里面的键 (和值).</p>
</li>
<li>
<p>如果 info 里面有的键，要是 updatedData 里面没有，就继续留在 info 里面</p>
</li>
</ul>
<p>我们上面做法是先用扩展运算符把 info 和 updatedData 里面的每对键值都放作为一个一个参数放进一个对象里面，然后要是有重复键名，后面的键名与他的值会覆盖掉之前重复键名的那个键与他的值，这样我们就可以得到我们想要的数据</p>
<blockquote>
<p>几个注意点:</p>
<ul>
<li>要是有很多全局事件都是从一个组件触发然后带着数据让另外一个绑定事件的组件接收，我们可以考虑将这些全局事件__融为一个，只是传参的时候把需要的都一块给传过去__</li>
<li>要是函数传的参数太多，<strong> 考虑使用都存在一个对象里面，然后传对象就行了</strong> (一旦用上对象数组这些就时刻想着能用什么原生 js,es6 等方法处理接收到的数据或者各种 process 以达到我们想要的效果)</li>
<li>一般函数传参很多参数都是要顺序的，要是传对象我们是按照键名传的，接收也是看键名接收，那么顺序就可以随便，不用像函数那么麻烦</li>
</ul>
</blockquote>
<hr>
<h1 id="vuex"><a class="markdownIt-Anchor" href="#vuex">#</a> Vuex</h1>
<h2 id="vuex-理解"><a class="markdownIt-Anchor" href="#vuex-理解">#</a> vuex 理解</h2>
<h3 id="是什么"><a class="markdownIt-Anchor" href="#是什么">#</a> 是什么</h3>
<ol>
<li>github 站点: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vuex">https://github.com/vuejs/vuex</a></li>
<li>在线文档: <a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh-cn/">https://vuex.vuejs.org/zh-cn/</a></li>
<li>简单来说：对 vue 应用中多个组件的共享状态进行集中式的管理 (读 /<strong> 写</strong>)</li>
</ol>
<p>特别是多个组件要依赖这个状态 (数据), 想要对他进行读或者写，那么 vuex 是比全局事件总线方式传递数据更好</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220131130504225.png" alt="image-20220131130504225"></p>
<h3 id="状态自管理应用"><a class="markdownIt-Anchor" href="#状态自管理应用">#</a> 状态自管理应用</h3>
<ol>
<li>state: 驱动应用的数据源</li>
<li>view: 以声明方式将 state 映射到视图</li>
<li>actions: 响应在 view 上的用户输入导致的状态变化 (包含 n 个更新状态的方法)<br>
<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210221181147577.png" alt=""></li>
</ol>
<h3 id="多组件共享状态的问题"><a class="markdownIt-Anchor" href="#多组件共享状态的问题">#</a> 多组件共享状态的问题</h3>
<ol>
<li>多个视图 (组件) 依赖于同一状态 (数据)</li>
<li>来自不同视图的行为需要变更同一状态</li>
<li>以前的解决办法<br>
 a. 将数据以及操作数据的行为都定义在父组件<br>
 b. 将数据以及操作数据的行为传递给需要的各个子组件 (有可能需要多级传递)</li>
<li>vuex 就是用来解决这个问题的</li>
</ol>
<h2 id="vuex-核心概念和api"><a class="markdownIt-Anchor" href="#vuex-核心概念和api">#</a> vuex 核心概念和 API</h2>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203231023615.png" alt="image-20220203231023615"></p>
<blockquote>
<ul>
<li>
<p>首先 <code>npm i vuex</code></p>
</li>
<li>
<p>然后 <code>Vue.use(Vuex)</code> , 因为 vuex 是个插件</p>
</li>
<li>
<p>然后创建 store (包含着 actions,mutations,state 这__三个对象__), 因为这个 store 身上才有 commit,dispatch 这些函数，<strong><mark> 所以必须要让所有组件看的找 store</mark></strong></p>
</li>
<li>
<p>然后再 new Vue 创建 vm 的时候就可以传一个 <code>store配置项</code></p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203232210189.png" alt="image-20220203232210189"></p>
<blockquote>
<p><em>_这么做，不光光只是 vm, 所有的组件，所有的组件！！！现在都有了 <code>$store</code>  属性</em>_</p>
</blockquote>
<ul>
<li>然后现在可以在 src 文件夹下新建一个 vuex 文件夹，这个 vuex 文件夹再建一个 store.js</li>
</ul>
<p>store.js:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203232931837.png" alt="image-20220203232931837"></p>
<p>然后在我们 vm (main.js 那里), 导入并使用</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203233154195.png" alt="image-20220203233154195"></p>
<p>但是上面这么做会报错！！！</p>
<blockquote>
<p>这是因为 (js 模块化), 我们是先引入的 store 里面的 index.js 也就是我们想要导出的 store (给 vm 的配置项)</p>
<p>而要是使用 import, 那么就就会马上执行那个文件里面的代码，这样才知道这里想要 import 的是什么好让我们之后用</p>
<p>而我们后面才有的 Vue.use (Vuex)</p>
<p><mark>如果在 Vue.use (Vuex) 之前就导入这个 store 就会报错</mark></p>
<p>因为我们在 store 那个文件中，用 <code>new Vuex.Store</code>  (Vuex 上的属性 Store, 这个 Store 是个构造函数) 创造出来了一个 store 实例化对象</p>
</blockquote>
<p>如果你要是这么做:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203233810054.png" alt="image-20220203233810054"></p>
<p>将 store 的导入也就是 store 实例化放在 Vue.use (Vuex) 后面了，<strong> 还是会报错</strong></p>
<p>这是因为__<mark>ES6 的 import 会提升至开头</mark>__</p>
<p>所以不管你 import 语句在哪里，都会被提升到最上面去，所以上面还是有问题</p>
</blockquote>
<blockquote>
<p>所以我们干脆把 Vue.use (Vuex) 放到那个导入 main.js 的那个 store 文件 (可能是 store.js 也可能是 index.js), 在那个文件里面，我们把 Vue.use (Vuex) 放到 store 的实例化之前就可以了</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203234410291.png" alt="image-20220203234410291"></p>
</blockquote>
<blockquote>
<p>这样我们就可以在__所有的 vm 和 vc 身上看到这个 $store 属性__, 并且 vue 会自动帮我们给里面各种方法给弄好</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220203234620299.png" alt="image-20220203234620299"></p>
</blockquote>
<h3 id="state"><a class="markdownIt-Anchor" href="#state">#</a> state</h3>
<ol>
<li>
<p>vuex 管理的状态对象</p>
</li>
<li>
<p>它应该是唯一的</p>
</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	xxx<span class="token operator">:</span> initValue
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="mutations"><a class="markdownIt-Anchor" href="#mutations">#</a> mutations</h3>
<ol>
<li>包含多个直接更新 state 的方法 (回调函数) 的对象</li>
<li>谁来触发: action 中的 commit (‘mutation 名称’)</li>
<li>只能包含同步的代码，不能写异步代码</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token function">yyy</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>data1<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token comment">// 更新state 的某个属性</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="actions"><a class="markdownIt-Anchor" href="#actions">#</a> actions</h3>
<ol>
<li>包含多个事件回调函数的对象</li>
<li>通过执行: commit () 来触发 mutation 的调用，间接更新 state</li>
<li>谁来触发：组件中: $store.dispatch (‘action 名称’, data1) // ‘zzz’</li>
<li>可以包含异步代码 (定时器，ajax)</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token function">zzz</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">,</span> state<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> data1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'yyy'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>data1<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="getters"><a class="markdownIt-Anchor" href="#getters">#</a> getters</h3>
<ol>
<li>包含多个计算属性 (get) 的对象</li>
<li>谁来读取：组件中: $<a target="_blank" rel="noopener" href="http://store.getters.xxx">store.getters.xxx</a></li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token function">mmm</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token operator">...</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="modules"><a class="markdownIt-Anchor" href="#modules">#</a> modules</h3>
<ol>
<li>包含多个 module</li>
<li>一个 module 是一个 store 的配置对象</li>
<li>与一个组件 (包含有共享数据) 对应</li>
</ol>
<h3 id="向外暴露store-对象"><a class="markdownIt-Anchor" href="#向外暴露store-对象">#</a> 向外暴露 store 对象</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	state<span class="token punctuation">,</span>
	mutations<span class="token punctuation">,</span>
	actions<span class="token punctuation">,</span>
	getters
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="组件中"><a class="markdownIt-Anchor" href="#组件中">#</a> 组件中</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span>mapState<span class="token punctuation">,</span> mapGetters<span class="token punctuation">,</span> mapActions<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
		<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'xxx'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'mmm'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span>
	methods<span class="token operator">:</span> <span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'zzz'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>xxx<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#123;</span>mmm<span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> @click<span class="token operator">=</span><span class="token string">"zzz(data)"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="映射store"><a class="markdownIt-Anchor" href="#映射store">#</a> 映射 store</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	store
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="store-对象"><a class="markdownIt-Anchor" href="#store-对象">#</a> store 对象</h3>
<ol>
<li>所有用 vuex 管理的组件中都多了一个属性 $store, 它就是一个 store 对象</li>
<li>属性:<br>
state: 注册的 state 对象<br>
 getters: 注册的 getters 对象</li>
<li>方法:<br>
 <code>dispatch(actionName, data)</code> : 分发调用 action</li>
</ol>
<h2 id="demo1-计数器"><a class="markdownIt-Anchor" href="#demo1-计数器">#</a> demo1: 计数器</h2>
<h3 id="storejs"><a class="markdownIt-Anchor" href="#storejs">#</a> store.js</h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">/**
* vuex 的store 对象模块
*/</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token comment">/*
state 对象
类似于data
*/</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	count<span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 初始化状态数据</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
mutations 对象
包含个方法: 能直接更新state
一个方法就是一个mutation
mutation 只能包含更新state 的同步代码, 也不会有逻辑
mutation 由action 触发调用: commit('mutationName')
*/</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token constant">INCREMENT</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		state<span class="token punctuation">.</span>count<span class="token operator">++</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token constant">DECREMENT</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// ctrl + shift + x</span>
		state<span class="token punctuation">.</span>count<span class="token operator">--</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
actions 对象
包含个方法: 触发mutation 调用, 间接更新state
一个方法就是一个action
action 中可以有逻辑代码和异步代码
action 由组件来触发调用: this.$store.dispatch('actionName')
*/</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token function">increment</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'INCREMENT'</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">decrement</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'DECREMENT'</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">incrementIfOdd</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">,</span> state<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>count<span class="token operator">%</span><span class="token number">2</span><span class="token operator">===</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'INCREMENT'</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">incrementAsync</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'INCREMENT'</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">/*
getters 对象
包含多个get 计算计算属性方法
*/</span>
<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token function">oddOrEven</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>count<span class="token operator">%</span><span class="token number">2</span><span class="token operator">===</span><span class="token number">0</span> <span class="token operator">?</span> <span class="token string">'偶数'</span> <span class="token operator">:</span> <span class="token string">'奇数'</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">count</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>count
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 向外暴露store 实例对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	state<span class="token punctuation">,</span>
	mutations<span class="token punctuation">,</span>
	actions<span class="token punctuation">,</span>
	getters
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="mainjs-2"><a class="markdownIt-Anchor" href="#mainjs-2">#</a> main.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> app <span class="token keyword">from</span> <span class="token string">'./app1.vue'</span>
<span class="token comment">// import app from './app.vue'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span>app<span class="token punctuation">)</span><span class="token punctuation">,</span>
	store <span class="token comment">// 所有组件都多个一个属性: $store</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="appvue未优化前"><a class="markdownIt-Anchor" href="#appvue未优化前">#</a> app.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=vue&amp;spm=1001.2101.3001.7020">vue</a> (未优化前)</h3>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
&lt;div&gt;
&lt;p&gt;clicked: &#123;&#123;$store.state.count&#125;&#125; times, count is &#123;&#123;oddOrEven&#125;&#125;&lt;&#x2F;p&gt;
&lt;button @click&#x3D;&quot;increment&quot;&gt;+&lt;&#x2F;button&gt;
&lt;button @click&#x3D;&quot;decrement&quot;&gt;-&lt;&#x2F;button&gt;
&lt;button @click&#x3D;&quot;incrementIfOdd&quot;&gt;increment if odd&lt;&#x2F;button&gt;
&lt;button @click&#x3D;&quot;incrementAsync&quot;&gt;increment async&lt;&#x2F;button&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;
&lt;script&gt; export default &#123;
	computed: &#123;
		oddOrEven () &#123;
			return this.$store.getters.oddOrEven
		&#125;
	&#125;,
	methods: &#123;
		increment () &#123;
			this.$store.dispatch(&#39;increment&#39;)
		&#125;,
		decrement () &#123;
			this.$store.dispatch(&#39;decrement&#39;)
		&#125;,
		incrementIfOdd () &#123;
			this.$store.dispatch(&#39;incrementIfOdd&#39;)
		&#125;,
		incrementAsync () &#123;
			this.$store.dispatch(&#39;incrementAsync&#39;)
		&#125;
	&#125;
&#125; &lt;&#x2F;script&gt;
&lt;style&gt;  &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="app2vue优化后"><a class="markdownIt-Anchor" href="#app2vue优化后">#</a> app2.vue (优化后)</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>clicked: &#123;&#123;count&#125;&#125; times, count is &#123;&#123;oddOrEven2&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>increment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>decrement<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>incrementIfOdd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>increment if odd<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>incrementAsync<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>increment async<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span>mapGetters<span class="token punctuation">,</span> mapActions<span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	computed<span class="token operator">:</span> <span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token comment">// 名称不一样</span>
		oddOrEven2<span class="token operator">:</span> <span class="token string">'oddOrEven'</span><span class="token punctuation">,</span>
		count<span class="token operator">:</span> <span class="token string">'count'</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	methods<span class="token operator">:</span> <span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'increment'</span><span class="token punctuation">,</span> <span class="token string">'decrement'</span><span class="token punctuation">,</span> <span class="token string">'incrementIfOdd'</span><span class="token punctuation">,</span> <span class="token string">'incrementAsync'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 名称一样</span>
<span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="demo2-todo-list"><a class="markdownIt-Anchor" href="#demo2-todo-list">#</a> demo2: todo list</h2>
<p>todo list.</p>
<h3 id="storetypesjs"><a class="markdownIt-Anchor" href="#storetypesjs">#</a> store/types.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">/**
* 包含多个mutation name
*/</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">RECEIVE_TODOS</span> <span class="token operator">=</span> <span class="token string">'receive_todos'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ADD_TODO</span> <span class="token operator">=</span> <span class="token string">'add_todo'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">REMOVE_TODO</span> <span class="token operator">=</span> <span class="token string">'remove_todo'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">DELETE_DONE</span> <span class="token operator">=</span> <span class="token string">'delete_done'</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">UPDATE_ALL_TODOS</span> <span class="token operator">=</span> <span class="token string">'update_all_todos'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="storemutationsjs"><a class="markdownIt-Anchor" href="#storemutationsjs">#</a> store/mutations.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span><span class="token constant">RECEIVE_TODOS</span><span class="token punctuation">,</span> <span class="token constant">ADD_TODO</span><span class="token punctuation">,</span> <span class="token constant">REMOVE_TODO</span><span class="token punctuation">,</span> <span class="token constant">DELETE_DONE</span><span class="token punctuation">,</span> <span class="token constant">UPDATE_ALL_TODOS</span><span class="token punctuation">&#125;</span> <span class="token keyword">from</span>
<span class="token string">'./types'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token punctuation">[</span><span class="token constant">RECEIVE_TODOS</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>todos<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		state<span class="token punctuation">.</span>todos <span class="token operator">=</span> todos
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token constant">ADD_TODO</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>todo<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>todo<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token constant">REMOVE_TODO</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>index<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token constant">DELETE_DONE</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		state<span class="token punctuation">.</span>todos <span class="token operator">=</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=></span> <span class="token operator">!</span>todo<span class="token punctuation">.</span>complete<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">[</span><span class="token constant">UPDATE_ALL_TODOS</span><span class="token punctuation">]</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>isCheck<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">todo</span> <span class="token operator">=></span> todo<span class="token punctuation">.</span>complete <span class="token operator">=</span> isCheck<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="storeactionsjs"><a class="markdownIt-Anchor" href="#storeactionsjs">#</a> store/actions.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> storageUtil <span class="token keyword">from</span> <span class="token string">'../util/storageUtil'</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span><span class="token constant">RECEIVE_TODOS</span><span class="token punctuation">,</span> <span class="token constant">ADD_TODO</span><span class="token punctuation">,</span> <span class="token constant">REMOVE_TODO</span><span class="token punctuation">,</span> <span class="token constant">DELETE_DONE</span><span class="token punctuation">,</span> <span class="token constant">UPDATE_ALL_TODOS</span><span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./types'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">readTodo</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">const</span> todos <span class="token operator">=</span> storageUtil<span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token comment">// 提交commit 触发mutation 调用</span>
			<span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">RECEIVE_TODOS</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>todos<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">addTodo</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> todo</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">ADD_TODO</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>todo<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">removeTodo</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">REMOVE_TODO</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>index<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">deleteDone</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">DELETE_DONE</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">updateAllTodos</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span>commit<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> isCheck</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">commit</span><span class="token punctuation">(</span><span class="token constant">UPDATE_ALL_TODOS</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>isCheck<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="storegettersjs"><a class="markdownIt-Anchor" href="#storegettersjs">#</a> store/getters.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
	<span class="token function">todos</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>todos
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">totalSize</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span>length
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">completeSize</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">preTotal<span class="token punctuation">,</span> todo</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> preTotal <span class="token operator">+</span> <span class="token punctuation">(</span>todo<span class="token punctuation">.</span>complete <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token function">isAllComplete</span> <span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span> getters</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> getters<span class="token punctuation">.</span>totalSize<span class="token operator">===</span>getters<span class="token punctuation">.</span>completeSize <span class="token operator">&amp;&amp;</span> getters<span class="token punctuation">.</span>totalSize<span class="token operator">></span><span class="token number">0</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="storeindexjs"><a class="markdownIt-Anchor" href="#storeindexjs">#</a> store/index.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token keyword">import</span> mutations <span class="token keyword">from</span> <span class="token string">'./mutations'</span>
<span class="token keyword">import</span> actions <span class="token keyword">from</span> <span class="token string">'./actions'</span>
<span class="token keyword">import</span> getters <span class="token keyword">from</span> <span class="token string">'./getters'</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	todos<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	state<span class="token punctuation">,</span>
	mutations<span class="token punctuation">,</span>
	actions<span class="token punctuation">,</span>
	getters
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="componentsappvue"><a class="markdownIt-Anchor" href="#componentsappvue">#</a> components/app.vue</h3>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
&lt;div class&#x3D;&quot;todo-container&quot;&gt;
&lt;div class&#x3D;&quot;todo-wrap&quot;&gt;
&lt;todo-header&gt;&lt;&#x2F;todo-header&gt;
&lt;todo-main&gt;&lt;&#x2F;todo-main&gt;
&lt;todo-footer&gt;&lt;&#x2F;todo-footer&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;
&lt;script&gt; import todoHeader from &#39;.&#x2F;todoHeader.vue&#39;
import todoMain from &#39;.&#x2F;todoMain.vue&#39;
import todoFooter from &#39;.&#x2F;todoFooter.vue&#39;
import storageUtil from &#39;..&#x2F;util&#x2F;storageUtil&#39;
export default &#123;
	created () &#123;
	&#x2F;&#x2F; 模拟异步读取数据
	this.$store.dispatch(&#39;readTodo&#39;)
	&#125;,
	components: &#123;
		todoHeader,
		todoMain,
		todoFooter
	&#125;
&#125; &lt;&#x2F;script&gt;
&lt;style&gt; .todo-container &#123;
width: 600px;
margin: 0 auto;
&#125;
.todo-container .todo-wrap &#123;
padding: 10px;
border: 1px solid #ddd;

border-radius: 5px;
&#125; &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="componentstodoheadervue"><a class="markdownIt-Anchor" href="#componentstodoheadervue">#</a> components/todoHeader.vue</h3>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
&lt;div class&#x3D;&quot;todo-header&quot;&gt;
&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;请输入你的任务名称，按回车键确认&quot;
v-model&#x3D;&quot;title&quot; @keyup.enter&#x3D;&quot;addItem&quot;&#x2F;&gt;
&lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;
&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt; export default &#123;
	data () &#123;
		return &#123;
			title: null
		&#125;
	&#125;,
	methods: &#123;
		addItem () &#123;
			const title &#x3D; this.title &amp;&amp; this.title.trim()
			if (title) &#123;
				const todo &#x3D; &#123;
					title,
					complete: false
				&#125;
			this.$store.dispatch(&#39;addTodo&#39;, todo)
			this.title &#x3D; null
			&#125;
		&#125;
	&#125;
&#125; &lt;&#x2F;script&gt;
&lt;style&gt; .todo-header input &#123;
	width: 560px;
	height: 28px;
	font-size: 14px;
	border: 1px solid #ccc;
	border-radius: 4px;
	padding: 4px 7px;
&#125;
.todo-header input:focus &#123;
	outline: none;
	border-color: rgba(82, 168, 236, 0.8);
	box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);
&#125; &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="componentstodomainvue"><a class="markdownIt-Anchor" href="#componentstodomainvue">#</a> components/todoMain.vue</h3>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
&lt;ul class&#x3D;&quot;todo-main&quot;&gt;
&lt;todo-item v-for&#x3D;&quot;(todo, index) in todos&quot; :todo&#x3D;&quot;todo&quot; :key&#x3D;&quot;index&quot; :index&#x3D;&quot;index&quot;&gt;&lt;&#x2F;todo-item&gt;
&lt;&#x2F;ul&gt;
&lt;&#x2F;template&gt;
&lt;script type&#x3D;&quot;text&#x2F;ecmascript-6&quot;&gt;
import todoItem from &#39;.&#x2F;todoItem&#39;
import storageUtil from &#39;..&#x2F;util&#x2F;storageUtil&#39;
export default &#123;
	components: &#123;
		todoItem
	&#125;,
	computed: &#123;
		todos () &#123;
			return this.$store.getters.todos
		&#125;
	&#125;,
	watch: &#123;
		todos: &#123;&#x2F;&#x2F; 深度监视todos, 一旦有变化立即保存
		&#125;
	&#125;
&#125;
&lt;&#x2F;script&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="总结vuex"><a class="markdownIt-Anchor" href="#总结vuex">#</a> 总结 Vuex</h2>
<h3 id="1概念"><a class="markdownIt-Anchor" href="#1概念">#</a> 1. 概念</h3>
<p>在 Vue 中实现集中式状态（数据）管理的一个 Vue 插件，对 vue 应用中多个组件的共享状态进行集中式的管理（读 / 写），也是一种组件间通信的方式，且适用于任意组件间通信。</p>
<h3 id="2何时使用"><a class="markdownIt-Anchor" href="#2何时使用">#</a> 2. 何时使用？</h3>
<p>多个组件需要共享数据时</p>
<h3 id="3搭建vuex环境"><a class="markdownIt-Anchor" href="#3搭建vuex环境">#</a> 3. 搭建 vuex 环境</h3>
<ol>
<li>创建文件： <code>src/store/index.js</code></li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//引入Vue核心库</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">//引入Vuex</span>
<span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
<span class="token comment">//应用Vuex插件</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>

<span class="token comment">//准备actions对象——响应组件中用户的动作</span>
<span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">//准备mutations对象——修改state中的数据</span>
<span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">//准备state对象——保存具体的数据</span>
<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token comment">//创建并暴露store</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	actions<span class="token punctuation">,</span>
	mutations<span class="token punctuation">,</span>
	state
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>在 <code>main.js</code>  中创建 vm 时传入 <code>store</code>  配置项</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">...</span><span class="token operator">...</span>
<span class="token comment">//引入store</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span>
<span class="token operator">...</span><span class="token operator">...</span>

<span class="token comment">//创建vm</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	el<span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span>
	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span>
	store
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="4基本使用"><a class="markdownIt-Anchor" href="#4基本使用">#</a> 4. 基本使用</h3>
<ol>
<li>初始化数据、配置 <code>actions</code> 、配置 <code>mutations</code> ，操作文件 <code>store.js</code></li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//引入Vue核心库</span>
   <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
   <span class="token comment">//引入Vuex</span>
   <span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span>
   <span class="token comment">//引用Vuex</span>
   Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span>
   
   <span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
       <span class="token comment">//响应组件中加的动作</span>
   	<span class="token function">jia</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   		<span class="token comment">// console.log('actions中的jia被调用了',miniStore,value)</span>
   		context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>
   	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
   <span class="token punctuation">&#125;</span>
   
   <span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
       <span class="token comment">//执行加</span>
   	<span class="token constant">JIA</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
   		<span class="token comment">// console.log('mutations中的JIA被调用了',state,value)</span>
   		state<span class="token punctuation">.</span>sum <span class="token operator">+=</span> value
   	<span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span>
   
   <span class="token comment">//初始化数据</span>
   <span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
      sum<span class="token operator">:</span><span class="token number">0</span>
   <span class="token punctuation">&#125;</span>
   
   <span class="token comment">//创建并暴露store</span>
   <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
   	actions<span class="token punctuation">,</span>
   	mutations<span class="token punctuation">,</span>
   	state<span class="token punctuation">,</span>
   <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>
<p>组件中读取 vuex 中的数据： <code>$store.state.sum</code></p>
</li>
<li>
<p>组件中修改 vuex 中的数据： <code>$store.dispatch('action中的方法名',数据)</code>  或  <code>$store.commit('mutations中的方法名',数据)</code></p>
<blockquote>
<p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过 actions，即不写 <code>dispatch</code> ，直接编写 <code>commit</code></p>
</blockquote>
</li>
</ol>
<blockquote>
<ul>
<li>首先 state 对象里面存的就是各种我们多个组件都会用到 (读 / 写) 的数据 X</li>
<li>然后在一个组件 A 里面比如说想要用这个数据 X, 所以我们可以在那个组件的模板可以使用 $store.state.X 就可以读取到那个数据 (不需要前面加上 this, 因为每个组件的模板里面都能看到他那个组件里面的所有东西，所以不需前面加 this)</li>
<li>现在比如说我们组件 A 模板有个按钮，按按钮会让这个数据 X 的值加 1</li>
<li>我们可以 @click=“increment”, 然后在组件 A 里面的 methods 里面写上个 increment 方法:</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204000612001.png" alt="image-20220204000612001"></p>
<ul>
<li>这里面调用了 $store 里面的 dispatch 方法，然后传入了 <code>'jia'</code> , 和组件 A 里面自己的数据 <code>n</code> .</li>
<li>这个 dispatch 方法会去 store 里面的 actions 对象去找这个名为 <code>'jia'</code>  的方法，所以我们需要在 actions 对象里面写上一个方法</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204000902721.png" alt="image-20220204000902721"></p>
<ul>
<li>这个 actions 里面的这个方法的第一个参数会默认被系统传入一个__很像很像 store 的一个对象，但不是 store (缺少了部分 store 上面的属性和方法)__, 这个参数的目的就是让我们调用各种方法，特别是 <code>commit</code>  方法让 mutations 对象接手下一步.</li>
<li>然后这个第二个参数就是我们在组件 A 里面调用 dispatch 方法时传入的那个第二个参数也就是组件 A 里面的数据 <code>n</code></li>
<li>我们这时候需要再使用 commit 方法，这个方法传入了 <code>'JIA'</code> (一般这给 mutations 的都大写，好区分), 和那个我们参数 <code>value</code> , 也就是想当初从组件 A 传来的 <code>n</code></li>
<li>这个 commit 方法会让 mutations 对象里面名字为 <code>'JIA'</code>  的触发 (所以我们要写一个)</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204001600897.png" alt="image-20220204001600897"></p>
<ul>
<li>
<p>这个 mutations 对象里面的 <code>'JIA'</code>  方法也有两个参数，第一个是 <code>state</code>  是系统默认传给我们的，指的就是我们 state 对象，所以现在我们就可以用 state.X 或者各种想当初我们在组件 A 里面想改的数据做出相对应的改变，第二个参数也是想当初组件 A 里面的数据 <code>n</code> . 这个 mutations 这块感觉像是 dao 层，有着 sql 语句 (state 对象作为参数) 操控 state 对象存的数据</p>
</li>
<li>
<p>state 对象里面的数据因为 mutations 对象里方法里面的操作改变了，所以之后再任何组件里面用 this.(或者模板表达式里面不需要用 this.)$store.state. 数据就可以获取到那个数据的值，想要改就要通过 this.$store.dispatch (‘…’,…), 然后上面的重复一遍</p>
</li>
<li>
<p>注意这个 state 对象 (就像是个数据库) 身上他的那些数据也都是通过数据代理 (有 getter 和 setter 的),<strong> 检测数据<mark>改变</mark>原理跟 vue 是一样的</strong> (所以这里一样，如果数据被改变 -&gt; 调用 setter-&gt;… 反正肯定会到__解析模板的代码__等等等)</p>
<p>跟 vue 的 data 变成_data 然后都给匹配上 getter 和 setter 一样，state 也是只不过不是_state, 就是 state</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204002328659.png" alt=""></p>
</blockquote>
<blockquote>
<ul>
<li>注意我们可能在 actinos 对象里面的那个函数里面加上各种业务逻辑，比如说各种 if, 各种计时器，ajax, 等等等等等，然后只有在想要的时候再 call 那个 commit 方法让 mutations 对象里面的被想要调用的方法接手然后对 state 对象里面的存的数据做出改变</li>
<li>这个 actions 对象里面的那个函数的第一个参数也就是那个上下文对象 (context, 像是迷你版的 store 对象), 这个对象上面也有 state 对象，所以当然也有 state 对象上面的所有数据，所以我们也可以在 actions 对象里面的那个函数里面来拿数据做各种判断等等等，但要真改还是 commit 让 mutations 层的做。这个上下文对象还有 dispatch 方法，也就是说要是当前 actions 里面的这个方法里面还可以继续 dispatch 传给下一个函数 so on… 直到 commit</li>
</ul>
<p><strong>相当于给前端加了一个数据库，state 就是存数据的，actions 相当于接口，mutations 的方法相当于 sql 语句</strong></p>
<p>(actions 相当于 Service 层，Mutations 相当于 Dao 层，State 相当于数据库，VueComponent 相当于 Controller 层)</p>
<p>所有业务逻辑都放在 actions 部分，所有基础操作 (比如说加就是加，减就是减，别各种条件 (if 等等等)) 都放在 mutations 部分</p>
</blockquote>
<blockquote>
<p><strong>如果一个没有任何业务逻辑等操作，只是想让这个数据变化一下 (mutations 层干的事), 那么也可以在我们那个组件里面不使用 dispatch 而是直接 commit, 传参数，也就是让 commit 对象里面的对应函数直接按照你给的参数 (或者每给) 做一个操作，改变掉 state 对象里面存的数据，记得就是 commit 传的那个第一个参数要跟 mutations 里面想调用的函数名字要一样 (像之前说过一般是大写，别像 dispatch 里面调用 actions 里面的函数还是小写)</strong></p>
</blockquote>
<h3 id="5getters的使用"><a class="markdownIt-Anchor" href="#5getters的使用">#</a> 5.getters 的使用</h3>
<ol>
<li>
<p>概念：<strong>当 state 中的数据需要经过加工后再使用时，可以使用 getters 加工</strong>。</p>
<blockquote>
<p>有点像计算属性，但计算属性只能给你当前这个组件用，要是想要跟别的共享，那还是需要用 getter 操作 state 里面存的本来的数据</p>
</blockquote>
</li>
<li>
<p>在 <code>store.js</code>  中追加 <code>getters</code>  配置</p>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token operator">...</span><span class="token operator">...</span>

<span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	<span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span><span class="token punctuation">;</span>   <span class="token comment">// 得写返回值!!!</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">//创建并暴露store(带上getters)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	<span class="token operator">...</span><span class="token operator">...</span>
	getters
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>组件中读取数据： <code>$store.getters.bigSum</code>  (这个 bigSum 存的是个 getters 里面那个 bigSum 返回的值，并不是那个 bigSum 函数本身，跟组件里面的计算属性很像)</li>
</ol>
<blockquote>
<p>这样所有的组件都能用到这个计算过后的属性</p>
<p><strong>注意那个 actions 里面函数传进来的上下文对象上面也有 getters 属性</strong></p>
</blockquote>
<h3 id="6四个map方法的使用"><a class="markdownIt-Anchor" href="#6四个map方法的使用">#</a> 6. 四个 map 方法的使用</h3>
<p>先在要引入数据的组件里面从 vuex 导入 mapState</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204100307741.png" alt="image-20220204100307741"></p>
<ol>
<li><strong>mapState 方法：</strong> 用于帮助我们映射 <code>state</code>  中的数据为计算属性</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//借助mapState生成计算属性：sum、school、subject（对象写法）</span>
     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>sum<span class="token operator">:</span><span class="token string">'sum'</span><span class="token punctuation">,</span>school<span class="token operator">:</span><span class="token string">'school'</span><span class="token punctuation">,</span>subject<span class="token operator">:</span><span class="token string">'subject'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         
    <span class="token comment">//借助mapState生成计算属性：sum、school、subject（数组写法）</span>
    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>上方其实传入 mapState 函数的对象写法里面那些键其实都是字符串 (对象的键必须是字符串，值随便),<strong> 只不过我们可以省略掉那个引号</strong></p>
<p>而那个键必须是用引号扩进去的代表字符串，这里我们只是告诉那些我们想要映射的数据名字，<strong> 而不是用变量 (不加引号当然 assume 是变量了)</strong>, 所以需要加引号！！</p>
</blockquote>
<blockquote>
<p>前面加上扩展运算符 (&quot; <code>...</code> &quot;), 代表把那个 <code>mapState(&#123;sum:'sum',school:'school',subject:'subject'&#125;)</code></p>
<p>的结果 (是个对象，里面每个键存的都是一个函数，这个函数就像我们手动写计算属性一样)</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204101212022.png" alt="image-20220204101212022"></p>
<p><mark>然后现在我们就可以把这些 (he,xueke,xuexiao) 当做当前组件来使用–&gt; 对于 mapState 里面传的是对象的方式</mark></p>
<p><mark>我们就可以把这些 (sum,school,subject) 当做当前组件来使用–&gt; 对于 mapState 里面传的是数组的方式 (如果想同名)</mark></p>
<blockquote>
<p>这么做的目的就是为了在想使用 state 里面数据的组件里面直接去调用那个属性 (就像计算属性一样), 就不用像是 this.(模板没有 this.)$store.state.XXXX 这么一大串了，你要是用了 mapState 映射到这个组件里面，你直接 this.XXXX (或者你起的其他名), 其实这个 XXXX 本身也是像计算属性一样存的是个函数然后有个 getter 返回的 state 里面对应属性的值</p>
</blockquote>
</blockquote>
<blockquote>
<p>值得注意的一个点:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204102046131.png" alt="image-20220204102046131"></p>
<p>因为这种简写方式会默认为那个同名的值是个变量:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204102124566.png" alt="image-20220204102124566"></p>
<p>这样肯定会报错</p>
<p><strong>(这里，如果同名一般我们都是使用数组方式，很方便)</strong></p>
</blockquote>
<ol start="2">
<li><strong>mapGetters 方法：</strong> 用于帮助我们映射 <code>getters</code>  中的数据为计算属性</li>
</ol>
<blockquote>
<p>mapState 只是映射 state 对象里面的数据</p>
<p>mapGetters 帮助我们映射 getters 里面的数据 (相当于 state 里面数据的计算属性数据)</p>
</blockquote>
<p>导入 mapGetters</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204102535634.png" alt="image-20220204102535634"></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">computed<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//借助mapGetters生成计算属性从state中读取数据：bigSum（对象写法）</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>bigSum<span class="token operator">:</span><span class="token string">'bigSum'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment">//借助mapGetters生成计算属性：bigSum（数组写法）</span>
    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li><strong>mapActions 方法：</strong> 用于帮助我们生成与 <code>actions</code>  对话的方法，即：包含 <code>$store.dispatch(xxx)</code>  的函数</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//靠mapActions生成：incrementOdd、incrementWait（对象形式）</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>incrementOdd<span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span>incrementWait<span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

    <span class="token comment">//靠mapActions生成：incrementOdd、incrementWait（数组形式）</span>
    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token string">'jiaWait'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意点跟 mapMutations 方式一样</p>
</blockquote>
<ol start="4">
<li><strong>mapMutations 方法：</strong> 用于帮助我们生成与 <code>mutations</code>  对话的方法，即：包含 <code>$store.commit(xxx)</code>  的函数</li>
</ol>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204103853834.png" alt="image-20220204103853834"></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">methods<span class="token operator">:</span><span class="token punctuation">&#123;</span>
    <span class="token comment">//靠mapActions生成：increment、decrement（对象形式）</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>increment<span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>decrement<span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    
    <span class="token comment">//靠mapMutations生成：JIA、JIAN（对象形式）</span>
    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token string">'JIAN'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>备注：mapActions 与 mapMutations 使用时，<strong>若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象 (复习我们之前学的一样，如果模板中使用了函数而且不传参数，而这个函数反而有一个参数，那么那个参数默认会被系统传过去那个事件对象)。</strong></p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204103614770.png" alt="image-20220204103614770"></p>
<p>需要在我们调用的时候去传参数</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204103701946.png" alt="image-20220204103701946"></p>
</blockquote>
<blockquote>
<p>最后总结:</p>
<ul>
<li>…mapGetters () 和…mapState () 写在要用数据的组件的 computed 里面</li>
<li>…mapActions () 和…mapMutations () 写在要改数据的组件的 methods 里面 (记得要传参数就要在调用的时候传)</li>
</ul>
</blockquote>
<h3 id="7模块化命名空间"><a class="markdownIt-Anchor" href="#7模块化命名空间">#</a> 7. 模块化 + 命名空间</h3>
<ol>
<li>
<p>目的：让代码更好维护，让多种数据分类更加明确。</p>
</li>
<li>
<p>修改 <code>store.js</code></p>
</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> countAbout <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  namespaced<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>
  state<span class="token operator">:</span><span class="token punctuation">&#123;</span>x<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  getters<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
       <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> personAbout <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  namespaced<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//开启命名空间</span>
  state<span class="token operator">:</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  mutations<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  actions<span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  modules<span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    countAbout<span class="token punctuation">,</span>
    personAbout
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><em>_注意 <code>modules</code> !!!</em>_</p>
</blockquote>
<ol start="3">
<li>开启命名空间后，组件中读取 state 数据：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//方式一：自己直接读取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>personAbout<span class="token punctuation">.</span>list
<span class="token comment">//方式二：借助mapState读取：</span>
<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'personAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'personAbout里面states存的数据'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//可以是多个mapState</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>第一个参数就是我们在实例化 store 给的那个配置名字，也就是包含了那一分类的 states,actions,mutations,getters</p>
<p>要让这个第一个参数奏效，我们还需要再那个 store 配置的那个对应的对象里面设置 <code>namespaced:true</code>  才可以</p>
</blockquote>
<ol start="4">
<li>开启命名空间后，组件中读取 getters 数据：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//方式一：自己直接读取</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'personAbout/firstPersonName'</span><span class="token punctuation">]</span>
<span class="token comment">//方式二：借助mapGetters读取：</span>
<span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="5">
<li>开启命名空间后，组件中调用 dispatch</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">   <span class="token comment">//方式一：自己直接dispatch</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'personAbout/addPersonWang'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 加"/"并在前面写是哪个模块的mutations</span>
   <span class="token comment">//方式二：借助mapActions：</span>
   <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>incrementOdd<span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span>incrementWait<span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
或者数据写法也可以<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="6">
<li>开启命名空间后，组件中调用 commit</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">   <span class="token comment">//方式一：自己直接commit</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'personAbout/ADD_PERSON'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 加"/"并在前面写是哪个模块的mutations</span>
   <span class="token comment">//方式二：借助mapMutations：</span>
   <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span>increment<span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>decrement<span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
或者数据写法也可以<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>考虑模块化就需要各种映射的时候第一个参数带上想要的模块等等等 (这样就可以直接获取到数据或者等等等，而不是需要。调用一个接一个)</p>
<p>记得要在 store 文件中使用 modules, 而且名字等等等 <code>namespaced:true</code></p>
</blockquote>
<blockquote>
<p>每个模块的 state 属于他自己，在那里面用指的就是他自己的 state, 不是别的，更不是总的 state (store 上面的 state 属性)</p>
<p>store 的 state 属性是存的这所有模块对象，然后在这个 state 里面的每个模块对象里面还有自己的 state 里面存的数据，以及 getters and setters</p>
</blockquote>
<blockquote>
<p>但是模块的 getters 不一样</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204131706098.png" alt="image-20220204131706098"></p>
<p>所以从 getters 里面取出数据需要是这种方式:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204131840445.png" alt="image-20220204131840445"></p>
<blockquote>
<p>所以还不如用 map… 映射数据或者改变数据通过 mapActions 或者 mapMutations</p>
</blockquote>
<hr>
<h1 id="路由"><a class="markdownIt-Anchor" href="#路由">#</a> 路由</h1>
<h2 id="路由简介"><a class="markdownIt-Anchor" href="#路由简介">#</a> 路由简介</h2>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194717.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194717.png" alt="image-20210719165729769"></a></p>
<p>SPA 应用 (单页面应用)</p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194718.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194718.png" alt="image-20210719170143304"></a></p>
<p><a target="_blank" rel="noopener" href="https://gitee.com/Cezzz/image2_repo/raw/master/img/20211021194719.png"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20211021194719.png" alt="image-20210719170850609"></a></p>
<ul>
<li>vue-router 是 vue 的一个插件库，专门用来实现 SPA 应用</li>
<li>对 SPA 应用的理解：
<ul>
<li>单页 web 应用 (single page web application,SPA)</li>
<li>整个应用只有一个完整的页面</li>
<li>点击页面中的导航链接不会刷新页面，只会做页面的局部更新</li>
<li>数据需要通过 ajax 请求获取</li>
</ul>
</li>
<li>什么是路由？
<ul>
<li>一个路由就是一组映射关系 (key value)</li>
<li>key 为路径 value 可能是 function 或 component</li>
</ul>
</li>
<li>路由分类
<ul>
<li>前端路由
<ul>
<li>理解：value 是 component，用于展示页面内容</li>
<li>工作过程：当浏览器的路径改变时，对应的组件就会显示</li>
</ul>
</li>
<li>后端路由
<ul>
<li>理解：value 是 function，用于处理客户端提交的请求</li>
<li>工作过程：服务器收到一个请求时， 根据<strong>请求路径</strong>找到<strong>匹配的函数</strong>来处理请求，返回相应数据</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="1-理解"><a class="markdownIt-Anchor" href="#1-理解">#</a> 1. 理解</h2>
<h3 id="11-说明"><a class="markdownIt-Anchor" href="#11-说明">#</a> 1.1. 说明</h3>
<ol>
<li>官方提供的用来实现 SPA 的 vue 插件</li>
<li>github: <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-router">https://github.com/vuejs/vue-router</a></li>
<li>中文文档: <a target="_blank" rel="noopener" href="http://router.vuejs.org/zh-cn/">http://router.vuejs.org/zh-cn/</a></li>
<li>下载:  <code>npm install vue-router --save</code></li>
</ol>
<h3 id="12-相关api-说明"><a class="markdownIt-Anchor" href="#12-相关api-说明">#</a> 1.2. 相关 API 说明</h3>
<ol>
<li>VueRouter (): 用于创建路由器的构建函数</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
<span class="token comment">// 多个配置项</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>路由配置</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">routes<span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token punctuation">&#123;</span> <span class="token comment">// 一般路由</span>
		path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
		component<span class="token operator">:</span> About
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#123;</span> <span class="token comment">// 自动跳转路由</span>
		path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
		redirect<span class="token operator">:</span> <span class="token string">'/about'</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li>注册路由器</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	router
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li>
<p>使用路由组件标签</p>
</li>
<li>
<p><code>&lt;router-link&gt;</code> : 用来生成路由链接</p>
</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/xxx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Go to XXX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="6">
<li><code>&lt;router-view&gt;</code> : 用来显示当前路由组件界面</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<hr>
<h2 id="2-基本路由"><a class="markdownIt-Anchor" href="#2-基本路由">#</a> 2. 基本路由</h2>
<h3 id="21-效果"><a class="markdownIt-Anchor" href="#21-效果">#</a> 2.1. 效果</h3>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210223221811149.gif" alt=""></p>
<h3 id="22-路由组件"><a class="markdownIt-Anchor" href="#22-路由组件">#</a> 2.2. 路由组件</h3>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210223214334636.png" alt=""></p>
<p>Home.<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=vue&amp;spm=1001.2101.3001.7020">vue</a><br>
About.vue</p>
<h3 id="23-应用组件-appvue"><a class="markdownIt-Anchor" href="#23-应用组件-appvue">#</a> 2.3. 应用组件: App.vue</h3>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col-xs-offset-2 col-xs-8&quot;&gt;
        &lt;div class&#x3D;&quot;page-header&quot;&gt;&lt;h2&gt;Router Test&lt;&#x2F;h2&gt;&lt;&#x2F;div&gt;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;

    &lt;div class&#x3D;&quot;row&quot;&gt;
      &lt;div class&#x3D;&quot;col-xs-2 col-xs-offset-2&quot;&gt;
        &lt;div class&#x3D;&quot;list-group&quot;&gt;
          &lt;!--生成路由链接--&gt;
          &lt;router-link to&#x3D;&quot;&#x2F;about&quot; class&#x3D;&quot;list-group-item&quot;&gt;About&lt;&#x2F;router-link&gt;
          &lt;router-link to&#x3D;&quot;&#x2F;home&quot; class&#x3D;&quot;list-group-item&quot;&gt;Home&lt;&#x2F;router-link&gt;
        &lt;&#x2F;div&gt;
      &lt;&#x2F;div&gt;
      &lt;div class&#x3D;&quot;col-xs-6&quot;&gt;
        &lt;div class&#x3D;&quot;panel&quot;&gt;
          &lt;div class&#x3D;&quot;panel-body&quot;&gt;
            &lt;!--显示当前组件--&gt;
            &lt;keep-alive&gt;
              &lt;router-view msg&#x3D;&quot;abc&quot;&gt;&lt;&#x2F;router-view&gt;
            &lt;&#x2F;keep-alive&gt;
          &lt;&#x2F;div&gt;
        &lt;&#x2F;div&gt;
      &lt;&#x2F;div&gt;
    &lt;&#x2F;div&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="24-路由器模块-srcrouterindexjs"><a class="markdownIt-Anchor" href="#24-路由器模块-srcrouterindexjs">#</a> 2.4. 路由器模块: src/router/index.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../pages/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../pages/Home'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="25-注册路由器-mainjs"><a class="markdownIt-Anchor" href="#25-注册路由器-mainjs">#</a> 2.5. 注册路由器: main.js</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token comment">/* eslint-disable no-new */</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token comment">// 配置对象的属性名都是一些确定的名称，不能随便修改</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  router<span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">&#123;</span> App <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;App/>'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="26-优化路由器配置"><a class="markdownIt-Anchor" href="#26-优化路由器配置">#</a> 2.6. 优化路由器配置</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">linkActiveClass<span class="token operator">:</span> <span class="token string">'active'</span><span class="token punctuation">,</span> <span class="token comment">// 指定选中的路由链接的class</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="27-总结-编写使用路由的3-步"><a class="markdownIt-Anchor" href="#27-总结-编写使用路由的3-步">#</a> 2.7. 总结：编写使用路由的 3 步</h3>
<ol>
<li>定义路由组件</li>
<li>注册路由</li>
<li>使用路由</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<hr>
<h2 id="3-嵌套路由"><a class="markdownIt-Anchor" href="#3-嵌套路由">#</a> 3. 嵌套路由</h2>
<h3 id="31-效果"><a class="markdownIt-Anchor" href="#31-效果">#</a> 3.1. 效果</h3>
<p><img src="https://img-blog.csdnimg.cn/20210225152900993.gif#pic_center" alt=""></p>
<h3 id="32-子路由组件"><a class="markdownIt-Anchor" href="#32-子路由组件">#</a> 3.2. 子路由组件</h3>
<p><img src="https://img-blog.csdnimg.cn/20210225152948463.png" alt=""></p>
<h4 id="newsvue"><a class="markdownIt-Anchor" href="#newsvue">#</a> News.vue</h4>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>(news, index) in newsArr<span class="token punctuation">"</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>index<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123; news &#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
      newsArr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"news001"</span><span class="token punctuation">,</span> <span class="token string">"news002"</span><span class="token punctuation">,</span> <span class="token string">"news003"</span><span class="token punctuation">,</span> <span class="token string">"news004"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="messagevue"><a class="markdownIt-Anchor" href="#messagevue">#</a> Message.vue</h4>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;ul&gt;
    &lt;li v-for&#x3D;&quot;message in messages&quot; :key&#x3D;&quot;message.id&quot;&gt;
      &lt;a href&#x3D;&quot;#&quot;&gt;&#123;&#123; message.title &#125;&#125;&lt;&#x2F;a&gt;
    &lt;&#x2F;li&gt;
  &lt;&#x2F;ul&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; export default &#123;
  data() &#123;
    return &#123;
      messages: [],
    &#125;;
  &#125;,
  mounted() &#123;
    &#x2F;&#x2F;模拟ajax请求从后台获取数据
    setTimeout(() &#x3D;&gt; &#123;
      const messages &#x3D; [
        &#123;
          id: 1,
          title: &quot;message001&quot;,
        &#125;,
        &#123;
          id: 2,
          title: &quot;message002&quot;,
        &#125;,
        &#123;
          id: 3,
          title: &quot;message003&quot;,
        &#125;,
      ];
      this.messages &#x3D; messages;
    &#125;, 1000);
  &#125;,
&#125;; &lt;&#x2F;script&gt;

&lt;style&gt;  &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="33-配置嵌套路由-srcrouterindexjs"><a class="markdownIt-Anchor" href="#33-配置嵌套路由-srcrouterindexjs">#</a> 3.3. 配置嵌套路由: src/router/index.js</h3>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../pages/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../pages/Home'</span>
<span class="token keyword">import</span> News <span class="token keyword">from</span> <span class="token string">'../pages/News'</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">'../pages/Message'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  routes<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> About
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span>
      path<span class="token operator">:</span> <span class="token string">'/home'</span><span class="token punctuation">,</span>
      component<span class="token operator">:</span> Home<span class="token punctuation">,</span>
      children<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
          <span class="token comment">// path: '/news' // path最左侧斜杠代表根路径</span>
          path<span class="token operator">:</span> <span class="token string">'/home/news'</span><span class="token punctuation">,</span> <span class="token comment">//完整写法</span>
          component<span class="token operator">:</span> News
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span>
          path<span class="token operator">:</span> <span class="token string">'message'</span><span class="token punctuation">,</span> <span class="token comment">// 简化写法</span>
          component<span class="token operator">:</span> Message
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#123;</span> <span class="token comment">//设置默认显示</span>
          path<span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
          redirect<span class="token operator">:</span> <span class="token string">'/home/news'</span>
        <span class="token punctuation">&#125;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#123;</span> <span class="token comment">//设置默认显示</span>
      path<span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
      redirect<span class="token operator">:</span> <span class="token string">'/about'</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="34-路由链接-homevue"><a class="markdownIt-Anchor" href="#34-路由链接-homevue">#</a> 3.4. 路由链接: Home.vue</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>Home<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav nav-tabs<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/news<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>News<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/message<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Message<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="4-向路由组件传递数据"><a class="markdownIt-Anchor" href="#4-向路由组件传递数据">#</a> 4. 向路由组件传递数据</h2>
<h3 id="41-效果"><a class="markdownIt-Anchor" href="#41-效果">#</a> 4.1. 效果</h3>
<h3 id="42-方式1-路由路径携带参数paramquery"><a class="markdownIt-Anchor" href="#42-方式1-路由路径携带参数paramquery">#</a> 4.2. 方式 1: 路由路径携带参数 (param/query)</h3>
<ol>
<li>配置路由</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">children<span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token punctuation">&#123;</span>
	path<span class="token operator">:</span> <span class="token string">'mdetail/:id'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span> MessageDetail
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>路由路径</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>/home/message/mdetail/<span class="token punctuation">'</span>+m.id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&#123;&#123;m.title&#125;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="3">
<li>路由组件中读取请求参数</li>
</ol>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="43-方式2-router-view属性携带数据"><a class="markdownIt-Anchor" href="#43-方式2-router-view属性携带数据">#</a> 4.3. 方式 2:  <code>&lt;router-view&gt;</code>  属性携带数据</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token attr-name">:msg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>msg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后组件用 props 接收</p>
<h3 id="示例-3"><a class="markdownIt-Anchor" href="#示例-3">#</a> 示例</h3>
<h4 id="messagedetailvue"><a class="markdownIt-Anchor" href="#messagedetailvue">#</a> MessageDetail.vue</h4>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;ul&gt;
    &lt;li&gt;id: &#123;&#123; messageDetail.id &#125;&#125;&lt;&#x2F;li&gt;
    &lt;li&gt;title: &#123;&#123; messageDetail.title &#125;&#125;&lt;&#x2F;li&gt;
    &lt;li&gt;content: &#123;&#123; messageDetail.content &#125;&#125;&lt;&#x2F;li&gt;
  &lt;&#x2F;ul&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; export default &#123;
  data() &#123;
    return &#123;
      messageDetail: &#123;
        id: &quot;&quot;,
        title: &quot;&quot;,
        content: &quot;&quot;,
      &#125;,
    &#125;;
  &#125;,
  mounted() &#123;
    setTimeout(() &#x3D;&gt; &#123;
      const allMessageDetails &#x3D; [
        &#123;
          id: 1,
          title: &quot;message001&quot;,
          content: &quot;message001 content...&quot;,
        &#125;,
        &#123;
          id: 2,
          title: &quot;message002&quot;,
          content: &quot;message002 content...&quot;,
        &#125;,
        &#123;
          id: 3,
          title: &quot;message003&quot;,
          content: &quot;message003 content...&quot;,
        &#125;,
      ];
      this.allMessageDetails &#x3D; allMessageDetails;
      const id &#x3D; this.$route.params.id * 1;
      this.messageDetail &#x3D; allMessageDetails.find((detail) &#x3D;&gt; detail.id &#x3D;&#x3D;&#x3D; id);
    &#125;, 1000);
  &#125;,
  watch: &#123;
    $route: function(value)&#123; &#x2F;&#x2F; 路由路径(param)发生了改变
    const id &#x3D; value.params.id * 1;
      this.messageDetail &#x3D; this.allMessageDetails.find((detail) &#x3D;&gt; detail.id &#x3D;&#x3D;&#x3D; id);

    &#125;
  &#125;
&#125;; &lt;&#x2F;script&gt;

&lt;style&gt;  &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="indexjs"><a class="markdownIt-Anchor" href="#indexjs">#</a> index.js</h4>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">import Vue from &#39;vue&#39;
import Router from &#39;vue-router&#39;

import About from &#39;..&#x2F;pages&#x2F;About&#39;
import Home from &#39;..&#x2F;pages&#x2F;Home&#39;
import News from &#39;..&#x2F;pages&#x2F;News&#39;
import Message from &#39;..&#x2F;pages&#x2F;Message&#39;
import MessageDetail from &#39;..&#x2F;pages&#x2F;MessageDetail&#39;

Vue.use(Router)

export default new Router(&#123;
  routes: [
    &#123;
      path: &#39;&#x2F;about&#39;,
      component: About
    &#125;,
    &#123;
      path: &#39;&#x2F;home&#39;,
      component: Home,
      children: [
        &#123;
          &#x2F;&#x2F; path: &#39;&#x2F;news&#39; &#x2F;&#x2F; path最左侧斜杠代表根路径
          path: &#39;&#x2F;home&#x2F;news&#39;, &#x2F;&#x2F;完整写法
          component: News
        &#125;,
        &#123;
          path: &#39;message&#39;, &#x2F;&#x2F; 简化写法
          component: Message,
          children: [
            &#123;
              path: &#39;&#x2F;home&#x2F;message&#x2F;detail&#x2F;:id&#39;,
              component: MessageDetail
            &#125;
          ]
        &#125;,
        &#123; &#x2F;&#x2F;设置默认显示
          path: &#39;&#39;,
          redirect: &#39;&#x2F;home&#x2F;news&#39;
        &#125;
      ]
    &#125;,
    &#123; &#x2F;&#x2F;设置默认显示
      path: &#39;&#x2F;&#39;,
      redirect: &#39;&#x2F;about&#39;
    &#125;
  ]
&#125;)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="5-缓存路由组件对象"><a class="markdownIt-Anchor" href="#5-缓存路由组件对象">#</a> 5. 缓存路由组件对象</h2>
<h3 id="51-理解"><a class="markdownIt-Anchor" href="#51-理解">#</a> 5.1. 理解</h3>
<ol>
<li>默认情况下，被切换的路由组件对象会死亡释放，再次回来时是重新创建的</li>
<li>如果可以缓存路由组件对象，可以提高用户体验</li>
</ol>
<h3 id="52-编码实现"><a class="markdownIt-Anchor" href="#52-编码实现">#</a> 5.2. 编码实现</h3>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="6-编程式路由导航"><a class="markdownIt-Anchor" href="#6-编程式路由导航">#</a> 6. 编程式路由导航</h2>
<h3 id="61-效果"><a class="markdownIt-Anchor" href="#61-效果">#</a> 6.1. 效果</h3>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210225180912614.gif" alt=""></p>
<h3 id="62-相关api"><a class="markdownIt-Anchor" href="#62-相关api">#</a> 6.2. 相关 API</h3>
<ol>
<li><code>this.$router.push(path)</code> : 相当于点击路由链接 (可以返回到当前路由界面)</li>
<li><code>this.$router.replace(path)</code> : 用新路由替换当前路由 (不可以返回到当前路由界面)</li>
<li><code>this.$router.back()</code> : 请求 (返回) 上一个记录路由</li>
<li><code>this.$router.go(-1)</code> : 请求 (返回) 上一个记录路由</li>
<li><code>this.$router.go(1)</code> : 请求下一个记录路由</li>
</ol>
<h3 id="示例-4"><a class="markdownIt-Anchor" href="#示例-4">#</a> 示例</h3>
<h4 id="messagevue-2"><a class="markdownIt-Anchor" href="#messagevue-2">#</a> Message.vue</h4>
<pre class="line-numbers language-vue" data-language="vue"><code class="language-vue">&lt;template&gt;
  &lt;div&gt;
    &lt;ul&gt;
      &lt;li v-for&#x3D;&quot;message in messages&quot; :key&#x3D;&quot;message.id&quot;&gt;
        &lt;!-- &lt;a href&#x3D;&quot;#&quot;&gt;&#123;&#123; message.title &#125;&#125;&lt;&#x2F;a&gt; --&gt;
        &lt;router-link :to&#x3D;&quot;&#96;&#x2F;home&#x2F;message&#x2F;detail&#x2F;$&#123;message.id&#125;&#96;&quot;&gt;&#123;&#123;
          message.title
        &#125;&#125;&lt;&#x2F;router-link&gt;
        &lt;button @click&#x3D;&quot;pushShow(message.id)&quot;&gt;push查看&lt;&#x2F;button&gt;
        &lt;button @click&#x3D;&quot;replaceShow(message.id)&quot;&gt;replace查看&lt;&#x2F;button&gt;
      &lt;&#x2F;li&gt;
    &lt;&#x2F;ul&gt;
    &lt;button @click&#x3D;&quot;$router.back()&quot;&gt;回退&lt;&#x2F;button&gt;
    &lt;hr &#x2F;&gt;
    &lt;router-view&gt;&lt;&#x2F;router-view&gt;
  &lt;&#x2F;div&gt;
&lt;&#x2F;template&gt;

&lt;script&gt; export default &#123;
  data() &#123;
    return &#123;
      messages: [],
    &#125;;
  &#125;,
  methods: &#123;
    pushShow(id) &#123;
      this.$router.push(&#96;&#x2F;home&#x2F;message&#x2F;detail&#x2F;$&#123;id&#125;&#96;);
    &#125;,
    replaceShow(id) &#123;
      this.$router.replace(&#96;&#x2F;home&#x2F;message&#x2F;detail&#x2F;$&#123;id&#125;&#96;);
    &#125;,
  &#125;,
  mounted() &#123;
    &#x2F;&#x2F;模拟ajax请求从后台获取数据
    setTimeout(() &#x3D;&gt; &#123;
      const messages &#x3D; [
        &#123;
          id: 1,
          title: &quot;message001&quot;,
        &#125;,
        &#123;
          id: 2,
          title: &quot;message002&quot;,
        &#125;,
        &#123;
          id: 3,
          title: &quot;message003&quot;,
        &#125;,
      ];
      this.messages &#x3D; messages;
    &#125;, 1000);
  &#125;,
&#125;; &lt;&#x2F;script&gt;

&lt;style&gt;  &lt;&#x2F;style&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<hr>
<h2 id="总结-4"><a class="markdownIt-Anchor" href="#总结-4">#</a> 总结</h2>
<h3 id="路由-2"><a class="markdownIt-Anchor" href="#路由-2">#</a> 路由</h3>
<ol>
<li>理解： 一个路由（route）就是一组映射关系（key - value），多个路由需要路由器（router）进行管理。</li>
<li>前端路由：key 是路径，value 是组件。</li>
</ol>
<h3 id="1基本使用"><a class="markdownIt-Anchor" href="#1基本使用">#</a> 1. 基本使用</h3>
<ol>
<li>
<p>安装 vue-router，命令： <code>npm i vue-router</code></p>
</li>
<li>
<p>应用插件： <code>Vue.use(VueRouter)</code></p>
</li>
<li>
<p>编写 router 配置项:</p>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//引入VueRouter</span>
<span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span>
<span class="token comment">//引入Luyou 组件</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../components/About'</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home'</span>

<span class="token comment">//创建router实例对象，去管理一组一组的路由规则</span>
<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	routes<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>About
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Home
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//暴露router</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> router<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="4">
<li>实现切换（active-class 可配置高亮样式）</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">active-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>About<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<ol start="5">
<li>指定展示位置</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>路由组件跟一般组件不一样，我们只需要在那个设置路由 js 文件里面写好哪个路径对应哪个组件</p>
<p>然后再 App.vue 里面也不需要导入或者注册 (所以跟一般组件不一样), 要用的话就是用 router-link 标签在 template 里面，然后配置好 to 属性，配置好其他属性 (当然也可以用正常标签可以用的，比如说 style… 等等等), 最重要的要配置好 to 属性后面跟着你设置路由 js 哪个路径，前面一定要加 &quot;/&quot;!</p>
<p>这个 router-link 标签其实最后解析会被 vue 解析成 a 标签，如果你想用其他标签比如说 button 来改变路由后面会学到</p>
<p>展示则用 router-view 放到想展示的地方</p>
</blockquote>
<blockquote>
<p>一旦用户按那个 router-link 标签 (其实是 a 标签), 那么就会到当前 <code>之前路径/#/about</code>  这个地址，我们在路由 js 里面配置了 /about 对应着的 About 组件 (可以是其他任何名), 然后把那个 About 组件的 template 里面的东西都放到 router-view 那里，有点像插槽的意思</p>
<p>所以不需要在 App.vue 导入 About 组件也不需要注册</p>
</blockquote>
<blockquote>
<p>一般我们</p>
<ul>
<li>路由组件放 pages 文件夹里面</li>
<li>一般组件放 components 文件夹里面</li>
</ul>
</blockquote>
<h3 id="2几个注意点"><a class="markdownIt-Anchor" href="#2几个注意点">#</a> 2. 几个注意点</h3>
<ol>
<li>路由组件通常存放在 <code>pages</code>  文件夹，一般组件通常存放在 <code>components</code>  文件夹。</li>
<li><strong>通过切换，“隐藏” 了的路由组件，默认是被销毁掉 (destroyed 掉了，向我们之前说过，这个时候要是临死前要干什么就 beforeDestroyed 钩子函数里面设置) 的，需要的时候再去挂载</strong>。</li>
<li>每个组件都有自己的 <code>$route</code>  属性，里面存储着自己的路由信息。</li>
<li>整个应用只有一个 router，可以通过组件的 <code>$router</code>  属性获取到。</li>
</ol>
<blockquote>
<p>所有路由组件在挂载后都会有一个 $route 和一个 $router 属性</p>
<ul>
<li>每个路由组件的 $route 都是独特的，他自己的</li>
<li>每个路由组件的 $router 属性都是同一个，所有的每个路由组件的 $route 存的都是同一个 router 对象，就是那个路由器</li>
</ul>
<p>路由器 (router) 对象只有一个！！！</p>
</blockquote>
<h3 id="3多级路由多级路由"><a class="markdownIt-Anchor" href="#3多级路由多级路由">#</a> 3. 多级路由（多级路由）</h3>
<ol>
<li>配置路由规则，使用 children 配置项：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">routes<span class="token operator">:</span><span class="token punctuation">[</span>
	<span class="token punctuation">&#123;</span>
		path<span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span>
		component<span class="token operator">:</span>About<span class="token punctuation">,</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">&#123;</span>
		path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
		component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
		children<span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">//通过children配置子级路由</span>
			<span class="token punctuation">&#123;</span>
				path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span> <span class="token comment">//此处一定不要写：/news</span>
				component<span class="token operator">:</span>News
			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
			<span class="token punctuation">&#123;</span>
				path<span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span><span class="token comment">//此处一定不要写：/message</span>
				component<span class="token operator">:</span>Message
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>跳转（要写完整路径）：</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/news<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>News<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="4路由的query参数"><a class="markdownIt-Anchor" href="#4路由的query参数">#</a> 4. 路由的 query 参数</h3>
<ol>
<li>传递参数</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html">   <span class="token comment">&lt;!-- 跳转并携带query参数，to的字符串写法 --></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/message/detail?id=666&amp;title=你好<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>`/home/message/detail?id=$&#123;各种数据&#125;&amp;title=你$&#123;各种数据&#125;`<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>

   <span class="token comment">&lt;!-- 跳转并携带query参数，to的对象写法 --></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> 
   	<span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;       
   		path:<span class="token punctuation">'</span>/home/message/detail<span class="token punctuation">'</span>,
   		query:&#123;
   		   id:666,
               title:<span class="token punctuation">'</span>你好<span class="token punctuation">'</span>
   		&#125;
   	&#125;<span class="token punctuation">"</span></span>
   <span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意 to 属性前面加上了 “:” 代表后面的是表达式，然后我们这次给 to 等于个对象，对象里面各种设置</p>
</blockquote>
<ol start="2">
<li>接收参数：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>我们那个路由组件自己的 $route 身上有这个 query 属性上面有传的数据</p>
</blockquote>
<h3 id="5命名路由"><a class="markdownIt-Anchor" href="#5命名路由">#</a> 5. 命名路由</h3>
<ul>
<li>作用：可以简化路由的跳转。</li>
<li>如何使用:</li>
</ul>
<ol>
<li>给路由命名：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>
	path<span class="token operator">:</span><span class="token string">'/demo'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Demo<span class="token punctuation">,</span>
	children<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			path<span class="token operator">:</span><span class="token string">'test'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>Test<span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
                      name<span class="token operator">:</span><span class="token string">'hello'</span> <span class="token comment">//给路由命名</span>
					path<span class="token operator">:</span><span class="token string">'welcome'</span><span class="token punctuation">,</span>
					component<span class="token operator">:</span>Hello<span class="token punctuation">,</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>简化跳转：</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--简化前，需要写完整的路径 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/demo/test/welcome<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--简化后，直接通过名字跳转 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;name:<span class="token punctuation">'</span>hello<span class="token punctuation">'</span>&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>

<span class="token comment">&lt;!--简化写法配合传递参数 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> 
	<span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;
		name:<span class="token punctuation">'</span>hello<span class="token punctuation">'</span>,
		query:&#123;
		   id:666,
            title:<span class="token punctuation">'</span>你好<span class="token punctuation">'</span>
		&#125;
	&#125;<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="6路由的params参数"><a class="markdownIt-Anchor" href="#6路由的params参数">#</a> 6. 路由的 params 参数</h3>
<ol>
<li>配置路由，声明接收 params 参数</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>
	path<span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Home<span class="token punctuation">,</span>
	children<span class="token operator">:</span><span class="token punctuation">[</span>
		<span class="token punctuation">&#123;</span>
			path<span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span>
			component<span class="token operator">:</span>News
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token punctuation">&#123;</span>
			component<span class="token operator">:</span>Message<span class="token punctuation">,</span>
			children<span class="token operator">:</span><span class="token punctuation">[</span>
				<span class="token punctuation">&#123;</span>
					name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
					path<span class="token operator">:</span><span class="token string">'detail/:id/:title'</span><span class="token punctuation">,</span> <span class="token comment">//使用占位符声明接收params参数</span>
					component<span class="token operator">:</span>Detail
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">]</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>传递参数</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!-- 跳转并携带params参数，to的字符串写法 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/home/message/detail/666/你好<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
				
<span class="token comment">&lt;!-- 跳转并携带params参数，to的对象写法 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> 
	<span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&#123;
		name:<span class="token punctuation">'</span>xiangqing<span class="token punctuation">'</span>,
		params:&#123;
		   id:666,
        title:<span class="token punctuation">'</span>你好<span class="token punctuation">'</span>
		&#125;
	&#125;<span class="token punctuation">"</span></span>
<span class="token punctuation">></span></span>跳转<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>特别注意：路由携带 params 参数时，若使用 to 的对象写法，则不能使用 path 配置项，必须使用 name 配置！</strong></p>
</blockquote>
<ol start="3">
<li>接收参数：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id
$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="7路由的props配置"><a class="markdownIt-Anchor" href="#7路由的props配置">#</a> 7. 路由的 props 配置</h3>
<p>作用：让路由组件更方便的收到参数</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>
	name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
	path<span class="token operator">:</span><span class="token string">'detail/:id'</span><span class="token punctuation">,</span>
	component<span class="token operator">:</span>Detail<span class="token punctuation">,</span>

	<span class="token comment">//第一种写法：props值为对象，该对象中所有的key-value的组合最终都会通过props传给Detail组件</span>
	<span class="token comment">// props:&#123;a:900&#125;</span>

	<span class="token comment">//第二种写法：props值为布尔值，布尔值为true，则把路由收到的所有params参数通过props传给Detail组件</span>
	<span class="token comment">// props:true</span>
	
	<span class="token comment">//第三种写法：props值为函数，该函数返回的对象中每一组key-value都会通过props传给Detail组件</span>
	<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
			id<span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
			title<span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="8router-link的replace属性"><a class="markdownIt-Anchor" href="#8router-link的replace属性">#</a> 8. <code>&lt;router-link&gt;</code>  的 replace 属性</h3>
<ol>
<li>作用：控制路由跳转时操作浏览器历史记录的模式</li>
<li>浏览器的历史记录有两种写入方式：分别为 <code>push</code>  和 <code>replace</code> ， <code>push</code>  是追加历史记录， <code>replace</code>  是替换当前记录。路由跳转时候默认为 <code>push</code></li>
<li>如何开启 <code>replace</code>  模式： <code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li>
</ol>
<h3 id="9编程式路由导航"><a class="markdownIt-Anchor" href="#9编程式路由导航">#</a> 9. 编程式路由导航</h3>
<ol>
<li>
<p>作用：<strong>不借助 <code>&lt;router-link&gt;</code>  实现路由跳转，让路由跳转更加灵活</strong></p>
</li>
<li>
<p>具体编码：</p>
</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//$router的两个API</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
		params<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			id<span class="token operator">:</span>xxx<span class="token punctuation">,</span>
			title<span class="token operator">:</span>xxx
		<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
	name<span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span>
		params<span class="token operator">:</span><span class="token punctuation">&#123;</span>
			id<span class="token operator">:</span>xxx<span class="token punctuation">,</span>
			title<span class="token operator">:</span>xxx
		<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//前进</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//后退</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//可前进也可后退, 里面给参数,5代表往前走五步,-3是往后走三步等等</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>这里是通过按按钮然后触发事件然后调用组件的 $router (路由器) 然后调用方法 replace,push,go 等去哪个 path (或者 name) 然后传的参数 (params 还是 query)</p>
</blockquote>
<blockquote>
<p>注意<span class="spoiler" title="..."><span class="spoiler" title="...">就连普通组件 (不是路由组件) 身上也有 $router 属性</span></span></p>
</blockquote>
<h3 id="10缓存路由组件"><a class="markdownIt-Anchor" href="#10缓存路由组件">#</a> 10. 缓存路由组件</h3>
<ol>
<li>
<p><strong>作用：让不展示的路由组件保持挂载，不被销毁 (之前不是说的默认都会销毁吗，这里不想被销毁然后用的时候再生成新的，我们可以 keep-alive 一下，让那些 dom 还存在，什么 textbox 里面有的信息我们就算切走了也不会被销毁，一回来还能看的到)</strong>。</p>
</li>
<li>
<p>具体编码：</p>
</li>
</ol>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>keep-alive</span> <span class="token attr-name">include</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>News<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-view</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>keep-alive</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>上面这个 include=&quot;News&quot; 代表想要缓存的路由组件是 News 组件，其他组件不要缓存，这个 News 是__== 组件名！！！==__</p>
<blockquote>
<p>所以不是什么各种 path 啊 name 啊啥的</p>
</blockquote>
<p><strong>要是不写 include=“News”, 那么将来会在<router-view>这里展示的组件都会被缓存</strong></p>
</blockquote>
<p>如果有多个，也可以:<img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204161927077.png" alt="image-20220204161927077"></p>
<h3 id="11两个新的生命周期钩子"><a class="markdownIt-Anchor" href="#11两个新的生命周期钩子">#</a> 11. 两个新的生命周期钩子</h3>
<ol>
<li>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</li>
<li>具体名字：
<ol>
<li><code>activated</code>  路由组件被激活时触发。</li>
<li><code>deactivated</code>  路由组件失活时触发。</li>
</ol>
</li>
</ol>
<blockquote>
<p>这样就不需要用 mounted 等里面放定时器 (setInterval), 因为这样要是组件被切换掉了，但是你像上面给这个组件配置了 keep-alive 标签 (括起来), 那么说明你展示区切换别的组件你之前的那个组件还存在__并且会一直调用那个 mounted 里面那个定时器的回调函数，所以不想这么做我们就需要在上面这两个钩子里面放那个定时器__</p>
</blockquote>
<p>所以在那个组件里面，这么写就很 sensible:</p>
<p><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/image-20220204162556799.png" alt="image-20220204162556799"></p>
<blockquote>
<p>还有个生命周期钩子 $nextTick, 指的是在修改页面后，然后一般用修改页面，然后 $nextTick 等页面渲染好再执行里面的回调函数一般是于基于修改后的页面进行操作</p>
</blockquote>
<p>vue 在特殊的时候帮我们调的那些特殊的函数时候就在生命周期函数</p>
<h3 id="12路由守卫"><a class="markdownIt-Anchor" href="#12路由守卫">#</a> 12. 路由守卫</h3>
<ul>
<li>
<p>作用：对路由进行权限控制</p>
</li>
<li>
<p>分类：全局守卫、独享守卫、组件内守卫</p>
</li>
</ul>
<ol>
<li>全局守卫:</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//全局前置守卫：!!!!!! 初始化时执行、每次路由切换前执行 !!!!!!</span>
router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span> <span class="token comment">//to 对象是来自于哪里那个路由对象!!, from 对象是去哪里那个路由对象!!</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//权限控制的具体规则</span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//放行</span>
		<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
			<span class="token comment">// next(&#123;name:'guanyu'&#125;)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//放行</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span class="token comment">//全局后置守卫：初始化时执行、每次路由切换后执行</span>
router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
		document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token comment">//修改网页的title</span>
	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
		document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'vue_test'</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意上方给那个路由文件中给一个路由组件填写配置项的时候 (其实是给这个路由器他自己) 要传其他自己自定义的属性 isAuth, 需要在那个里面加个 meta 属性，存的是个对象，这个对象里面再设我们想要存的键和值</p>
</blockquote>
<blockquote>
<p>这是因为配置项跟属性上直接加不一样，配置项都是我们按照规定写的，对象上就直接加完事</p>
</blockquote>
<ol start="2">
<li>独享守卫:</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//判断当前路由是否需要进行权限控制</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span>
			<span class="token comment">// next(&#123;name:'guanyu'&#125;)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span>
		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>独享守卫只有前置，没有后置！！！不像全局的还有个后置的</p>
<p>不过我们可以配合全局的后置守卫使用</p>
</blockquote>
<ol start="3">
<li>组件内守卫：</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">//进入守卫：通过路由规则，进入该组件时被调用</span>
<span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token comment">//离开守卫：通过路由规则，离开该组件时被调用</span>
<span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>注意跟前置和后置不一样</p>
<ul>
<li>进入守卫是__通过路由规则__进入当前组件，就会被调用</li>
<li>离开守卫就是__通过路由规则__<mark>离开当前组件去别的组件的时候</mark>才会被调用
<ul>
<li>所以这里离开的函数也需要放行 (next) 才可以，跟后置不一样</li>
</ul>
</li>
</ul>
</blockquote>
<h6 id="the-full-navigation-resolution-flow"><a class="markdownIt-Anchor" href="#the-full-navigation-resolution-flow">#</a> The Full Navigation Resolution Flow</h6>
<ol>
<li>Navigation triggered.</li>
<li>Call  <code>beforeRouteLeave</code>  guards in deactivated components.</li>
<li>Call global  <code>beforeEach</code>  guards.</li>
<li>Call  <code>beforeRouteUpdate</code>  guards in reused components.</li>
<li>Call  <code>beforeEnter</code>  in route configs.</li>
<li>Resolve async route components.</li>
<li>Call  <code>beforeRouteEnter</code>  in activated components.</li>
<li>Call global  <code>beforeResolve</code>  guards.</li>
<li>Navigation confirmed.</li>
<li>Call global  <code>afterEach</code>  hooks.</li>
<li>DOM updates triggered.</li>
<li>Call callbacks passed to  <code>next</code>  in  <code>beforeRouteEnter</code>  guards with instantiated instances.</li>
</ol>
<h3 id="13路由器的两种工作模式"><a class="markdownIt-Anchor" href="#13路由器的两种工作模式">#</a> 13. 路由器的两种工作模式</h3>
<ol>
<li>
<p>对于一个 url 来说，什么是 hash 值？—— #及其后面的内容就是 hash 值。</p>
</li>
<li>
<p><strong>hash 值不会包含在 HTTP 请求中，即：hash 值不会带给服务器。</strong></p>
</li>
<li>
<p>hash 模式：</p>
<ol>
<li>地址中永远带着 #号，不美观 。</li>
<li>若以后将地址通过第三方手机 app 分享，若 app 校验严格，则地址会被标记为不合法。</li>
<li>兼容性较好。</li>
</ol>
</li>
<li>
<p>history 模式：</p>
<ol>
<li>地址干净，美观 。</li>
<li>兼容性和 hash 模式相比略差。</li>
<li>应用部署上线时需要后端人员支持，解决刷新页面服务端 404 的问题。不然你在页面各种点会 url 会按照你路由而改变 (这里并不是请求服务器只是我们路由的设置), 要是这时候刷新会也就是相当于客户端想访问那个刷新前的那个服务器的资源，这当然不行因为我们各种点来点去来着，服务器没有对应的那个资源，不过要是用 hash 模式就不会有这种毛病，加上个 &quot;#&quot; 后面的不会被当做想访问的服务器的资源而是前端路由 only.</li>
</ol>
<p>还有解决方式就是让后端进行匹配哪个是前端路由的，哪个是访问服务器的请求的，然后在作出对应的操作</p>
<p>或者是 nginx 这种代理服务器也会有这种功能</p>
</li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Harry Qu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://harryqu1229.github.io/2022/02/25/Vue2/">https://harryqu1229.github.io/2022/02/25/Vue2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/frontend/">frontend</a><a class="post-meta__tags" href="/tags/vue2/">vue2</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-621848f44e1c3724" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/02/25/SpringCloud/"><img class="prev-cover" src="https://c.pxhere.com/photos/e5/15/watercolour_painting_technique_soluble_in_water_not_opaque_color_image_color_sketch_turquoise-1110070.jpg!d" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">My SpringCloud notes</div></div></a></div><div class="next-post pull-right"><a href="/2022/02/25/JavaScript%20Interview%20Questions%20&amp;%20Answers/"><img class="next-cover" src="https://w.wallhaven.cc/full/v9/wallhaven-v9v9o5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Javascript Interview Questions and Answers</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/02/25/Vue3%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8%E7%AC%94%E8%AE%B0/" title="Vue3 quickstart"><img class="cover" src="https://w.wallhaven.cc/full/28/wallhaven-28wymm.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">Vue3 quickstart</div></div></a></div><div><a href="/2022/02/25/Vue%E9%9D%A2%E8%AF%95%E9%A2%98--YK%E8%8F%8C/" title="Vue Interview Questions"><img class="cover" src="https://w.wallhaven.cc/full/72/wallhaven-72myve.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">Vue Interview Questions</div></div></a></div><div><a href="/2022/02/01/JS%E6%A8%A1%E5%9D%97%E5%8C%96/" title="My Javascript modularity notes"><img class="cover" src="https://w.wallhaven.cc/full/57/wallhaven-57jlo1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-01</div><div class="title">My Javascript modularity notes</div></div></a></div><div><a href="/2022/02/25/%E4%B8%80%E7%82%B9%E7%82%B9js%E9%9D%A2%E8%AF%95%E9%A2%98/" title="Javascript Interview Questions"><img class="cover" src="https://w.wallhaven.cc/full/wq/wallhaven-wqvov7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">Javascript Interview Questions</div></div></a></div><div><a href="/2022/01/01/50%E9%81%93%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="50 Frontend Interview Quesitions"><img class="cover" src="https://w.wallhaven.cc/full/rd/wallhaven-rdw8dj.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">50 Frontend Interview Quesitions</div></div></a></div><div><a href="/2022/02/25/AJAX/" title="My Ajax notes"><img class="cover" src="https://w.wallhaven.cc/full/v9/wallhaven-v9v9o5.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-25</div><div class="title">My Ajax notes</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="comment-switch"><span class="first-comment">Disqus</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://raw.githubusercontent.com/HarryQu1229/image-host/6aca34ee52f40fe1b2d637474f90111e2c151939/notes-img/%E5%85%B6%E4%B8%AD%E5%8C%85%E6%8B%AC%E5%9B%BE%E7%89%87%EF%BC%9A%7B%7B%20pinTitle%20%7D%7D_m6kogp.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Harry Qu</div><div class="author-info__description">Software Engineering Student</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">171</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">89</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">60</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HarryQu1229"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.linkedin.com/in/harry-qu-a0a38220a" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://github.com/HarryQu1229" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Harryqu666@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="weixin://dl/chat?harry666ya" target="_blank" title="Wechat"><i class="fab fa-weixin"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">be healthy, stay safe</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#vue%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text"> Vue 简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.1.</span> <span class="toc-text"> Vue 的特点</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%90%AD%E5%BB%BAvue%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="toc-number">2.</span> <span class="toc-text"> 搭建 Vue 开发环境</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%B4%E6%8E%A5%E7%94%A8script%E5%BC%95%E5%85%A5"><span class="toc-number">2.1.</span> <span class="toc-text"> 直接用 script 引入</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vue%E6%A0%B8%E5%BF%83"><span class="toc-number">3.</span> <span class="toc-text"> Vue 核心</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#hello"><span class="toc-number">3.1.</span> <span class="toc-text"> Hello</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%9E%90hello%E6%A1%88%E4%BE%8B"><span class="toc-number">3.2.</span> <span class="toc-text"> 分析 Hello 案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E8%AF%AD%E6%B3%95"><span class="toc-number">3.3.</span> <span class="toc-text"> 模板语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">3.4.</span> <span class="toc-text"> 数据绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#el%E4%B8%8Edata%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%86%99%E6%B3%95"><span class="toc-number">3.5.</span> <span class="toc-text"> el 与 data 的两种写法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E8%A7%A3mvvm%E6%A8%A1%E5%9E%8B"><span class="toc-number">3.6.</span> <span class="toc-text"> 理解 MVVM 模型</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#objectdefineproperty"><span class="toc-number">3.7.</span> <span class="toc-text"> Object.defineProperty</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">3.8.</span> <span class="toc-text"> 数据代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">3.9.</span> <span class="toc-text"> Vue 中的数据代理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86"><span class="toc-number">3.10.</span> <span class="toc-text"> 事件处理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">3.11.</span> <span class="toc-text"> 事件修饰符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%94%AE%E7%9B%98%E4%BA%8B%E4%BB%B6"><span class="toc-number">3.12.</span> <span class="toc-text"> 键盘事件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7"><span class="toc-number">3.13.</span> <span class="toc-text"> 计算属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E7%AE%80%E5%86%99"><span class="toc-number">3.14.</span> <span class="toc-text"> 计算属性简写</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E5%90%AC%E5%B1%9E%E6%80%A7-%E5%A4%A9%E6%B0%94%E6%A1%88%E4%BE%8B"><span class="toc-number">3.15.</span> <span class="toc-text"> 监听属性 - 天气案例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E8%A7%86%E5%B1%9E%E6%80%A7"><span class="toc-number">3.16.</span> <span class="toc-text"> 监视属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B7%B1%E5%BA%A6%E7%9B%91%E8%A7%86"><span class="toc-number">3.17.</span> <span class="toc-text"> 深度监视</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E8%A7%86%E7%9A%84%E7%AE%80%E5%86%99%E5%BD%A2%E5%BC%8F"><span class="toc-number">3.18.</span> <span class="toc-text"> 监视的简写形式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#watch%E5%AF%B9%E6%AF%94computed"><span class="toc-number">3.19.</span> <span class="toc-text"> watch 对比 computed</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%91%E5%AE%9Aclass%E6%A0%B7%E5%BC%8F"><span class="toc-number">3.20.</span> <span class="toc-text"> 绑定 class 样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%91%E5%AE%9Astyle%E6%A0%B7%E5%BC%8F"><span class="toc-number">3.21.</span> <span class="toc-text"> 绑定 style 样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">3.22.</span> <span class="toc-text"> 条件渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#template%E5%B1%9E%E6%80%A7"><span class="toc-number">3.23.</span> <span class="toc-text"> template 属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">3.24.</span> <span class="toc-text"> 列表渲染</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#key%E4%BD%9C%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86"><span class="toc-number">3.25.</span> <span class="toc-text"> key 作用和原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E8%BF%87%E6%BB%A4"><span class="toc-number">3.26.</span> <span class="toc-text"> 列表过滤</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%8E%92%E5%BA%8F"><span class="toc-number">3.27.</span> <span class="toc-text"> 列表排序</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%97%B6%E7%9A%84%E4%B8%80%E4%B8%AA%E9%97%AE%E9%A2%98"><span class="toc-number">3.28.</span> <span class="toc-text"> 更新时的一个问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E7%9B%91%E6%B5%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8E%9F%E7%90%86_%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.29.</span> <span class="toc-text"> Vue 监测数据的原理_对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vueset"><span class="toc-number">3.30.</span> <span class="toc-text"> Vue.set()</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E7%9B%91%E6%B5%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8E%9F%E7%90%86_%E6%95%B0%E7%BB%84"><span class="toc-number">3.31.</span> <span class="toc-text"> Vue 监测数据的原理_数组</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue%E7%9B%91%E6%B5%8B%E6%95%B0%E6%8D%AE%E6%80%BB%E7%BB%93"><span class="toc-number">3.32.</span> <span class="toc-text"> Vue 监测数据总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="toc-number">3.33.</span> <span class="toc-text"> 收集表单数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">3.34.</span> <span class="toc-text"> 过滤器</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-text%E6%8C%87%E4%BB%A4"><span class="toc-number">3.35.</span> <span class="toc-text"> v-text 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-html%E6%8C%87%E4%BB%A4"><span class="toc-number">3.36.</span> <span class="toc-text"> v-html 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-cloak%E6%8C%87%E4%BB%A4"><span class="toc-number">3.37.</span> <span class="toc-text"> v-cloak 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-once%E6%8C%87%E4%BB%A4"><span class="toc-number">3.38.</span> <span class="toc-text"> v-once 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#v-pre%E6%8C%87%E4%BB%A4"><span class="toc-number">3.39.</span> <span class="toc-text"> v-pre 指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">3.40.</span> <span class="toc-text"> 自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E8%AF%AD%E6%B3%95"><span class="toc-number">3.40.1.</span> <span class="toc-text"> 定义语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%843%E4%B8%AA%E5%9B%9E%E8%B0%83"><span class="toc-number">3.40.2.</span> <span class="toc-text"> 配置对象中常用的 3 个回调</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%87%E6%B3%A8"><span class="toc-number">3.40.3.</span> <span class="toc-text"> 备注</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">3.40.4.</span> <span class="toc-text"> 使用指令</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%95%E5%87%BA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">3.41.</span> <span class="toc-text"> 引出生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%8C%82%E8%BD%BD%E6%B5%81%E7%A8%8B"><span class="toc-number">3.42.</span> <span class="toc-text"> 生命周期挂载流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E6%B5%81%E7%A8%8B"><span class="toc-number">3.43.</span> <span class="toc-text"> 更新流程</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%80%BB%E7%BB%93"><span class="toc-number">3.44.</span> <span class="toc-text"> 生命周期总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vue%E7%BB%84%E4%BB%B6%E5%8C%96%E7%BC%96%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text"> Vue 组件化编程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%B9%E7%BB%84%E4%BB%B6%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">4.1.</span> <span class="toc-text"> 对组件的理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%9E%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">4.2.</span> <span class="toc-text"> 非单文件组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6%E7%9A%84%E4%B8%89%E5%A4%A7%E6%AD%A5%E9%AA%A4"><span class="toc-number">4.2.1.</span> <span class="toc-text"> 使用组件的三大步骤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E7%BB%84%E4%BB%B6"><span class="toc-number">4.2.2.</span> <span class="toc-text"> 如何定义一个组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%B3%A8%E5%86%8C%E7%BB%84%E4%BB%B6"><span class="toc-number">4.2.3.</span> <span class="toc-text"> 如何注册组件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E5%87%A0%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">4.3.</span> <span class="toc-text"> 组件的几个注意点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%BB%84%E4%BB%B6"><span class="toc-number">4.4.</span> <span class="toc-text"> 嵌套组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-component%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">4.5.</span> <span class="toc-text"> Vue Component 构造函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E9%87%8D%E8%A6%81%E7%9A%84%E5%86%85%E7%BD%AE%E5%85%B3%E7%B3%BB"><span class="toc-number">4.6.</span> <span class="toc-text"> 一个重要的内置关系</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6%E7%BB%84%E4%BB%B6"><span class="toc-number">4.7.</span> <span class="toc-text"> 单文件组件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E6%88%90"><span class="toc-number">4.7.1.</span> <span class="toc-text"> 组成</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">4.7.2.</span> <span class="toc-text"> 基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%A0%87%E7%AD%BE%E5%90%8D%E4%B8%8E%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7%E5%90%8D%E4%B9%A6%E5%86%99%E9%97%AE%E9%A2%98"><span class="toc-number">4.7.3.</span> <span class="toc-text"> 关于标签名与标签属性名书写问题</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vue%E8%84%9A%E6%89%8B%E6%9E%B6%E4%BB%A5%E5%8F%8Arefpropsmixin"><span class="toc-number">5.</span> <span class="toc-text"> Vue 脚手架以及 ref,props,mixin</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue-cli"><span class="toc-number">5.1.</span> <span class="toc-text"> vue-cli</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAvue%E9%A1%B9%E7%9B%AE"><span class="toc-number">5.1.1.</span> <span class="toc-text"> 创建 Vue 项目</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E6%9D%BF%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84"><span class="toc-number">5.1.2.</span> <span class="toc-text"> 模板项目结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%89%8B%E6%9E%B6%E6%96%87%E4%BB%B6%E7%BB%93%E6%9E%84"><span class="toc-number">5.1.3.</span> <span class="toc-text"> 脚手架文件结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84vue%E4%BB%A5%E5%8F%8Arender%E5%87%BD%E6%95%B0"><span class="toc-number">5.1.4.</span> <span class="toc-text"> 关于不同版本的 Vue 以及 render 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vueconfigjs%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">5.1.5.</span> <span class="toc-text"> vue.config.js 配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%99%E4%B8%80%E4%B8%AA%E5%B0%8Fdemo"><span class="toc-number">5.2.</span> <span class="toc-text"> 写一个小 Demo</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">5.2.1.</span> <span class="toc-text"> 目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mainjs"><span class="toc-number">5.2.2.</span> <span class="toc-text"> main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#appvue"><span class="toc-number">5.2.3.</span> <span class="toc-text"> App.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#helloworldvue"><span class="toc-number">5.2.4.</span> <span class="toc-text"> HelloWorld.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E9%A1%B5%E8%87%AA%E5%8A%A8%E6%9B%B4%E6%96%B0"><span class="toc-number">5.2.5.</span> <span class="toc-text"> 网页自动更新</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E6%89%93%E5%8C%85%E4%B8%8E%E5%8F%91%E5%B8%83"><span class="toc-number">5.3.</span> <span class="toc-text"> 项目打包与发布</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85"><span class="toc-number">5.3.1.</span> <span class="toc-text"> 打包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%8F%91%E5%B8%83"><span class="toc-number">5.3.2.</span> <span class="toc-text"> 项目发布</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8A%A8%E6%80%81web%E6%9C%8D%E5%8A%A1%E5%99%A8tomcat%E5%8F%91%E5%B8%83"><span class="toc-number">5.3.3.</span> <span class="toc-text"> 使用动态 web 服务器 (tomcat) 发布</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#eslint"><span class="toc-number">5.4.</span> <span class="toc-text"> ESlint 使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-number">5.4.1.</span> <span class="toc-text"> 说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E4%BE%9B%E7%9A%84%E6%94%AF%E6%8C%81"><span class="toc-number">5.4.2.</span> <span class="toc-text"> 提供的支持</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#eslint-%E6%8F%90%E4%BE%9B%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E6%A0%A1%E9%AA%8C"><span class="toc-number">5.4.3.</span> <span class="toc-text"> ESLint 提供以下几种校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E5%88%99%E7%9A%84%E9%94%99%E8%AF%AF%E7%AD%89%E7%BA%A7%E6%9C%89%E4%B8%89%E7%A7%8D"><span class="toc-number">5.4.4.</span> <span class="toc-text"> 规则的错误等级有三种</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%85%B3%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">5.4.5.</span> <span class="toc-text"> 相关配置文件</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#render%E5%87%BD%E6%95%B0"><span class="toc-number">5.5.</span> <span class="toc-text"> render 函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE"><span class="toc-number">5.6.</span> <span class="toc-text"> 修改默认配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ref%E5%B1%9E%E6%80%A7"><span class="toc-number">5.7.</span> <span class="toc-text"> ref 属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#props%E9%85%8D%E7%BD%AE"><span class="toc-number">5.8.</span> <span class="toc-text"> props 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mixin%E6%B7%B7%E5%85%A5"><span class="toc-number">5.9.</span> <span class="toc-text"> mixin 混入</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6"><span class="toc-number">5.10.</span> <span class="toc-text"> 插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#scoped%E6%A0%B7%E5%BC%8F"><span class="toc-number">5.11.</span> <span class="toc-text"> scoped 样式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#todolist%E6%A1%88%E4%BE%8B"><span class="toc-number">6.</span> <span class="toc-text"> Todolist 案例</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AA%81%E7%84%B6%E6%83%B3%E8%AF%B4%E8%AF%B4js%E9%97%AD%E5%8C%85"><span class="toc-number">6.0.1.</span> <span class="toc-text"> 突然想说说 js 闭包</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#nexttick"><span class="toc-number">7.</span> <span class="toc-text"> nextTick</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#webstorage"><span class="toc-number">8.</span> <span class="toc-text"> webStorage</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1props-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6-%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF-%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E5%8F%91%E5%B8%83-slot"><span class="toc-number">9.</span> <span class="toc-text"> 组件间通信 props - 自定义事件 - 全局事件总线 - 消息订阅发布 - slot</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B5%B7%E6%AD%A5"><span class="toc-number">9.1.</span> <span class="toc-text"> 起步</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%9F%BA%E6%9C%AC%E5%8E%9F%E5%88%99"><span class="toc-number">9.1.1.</span> <span class="toc-text"> 组件间通信基本原则</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E6%96%B9%E5%BC%8F"><span class="toc-number">9.1.2.</span> <span class="toc-text"> vue 组件间通信方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#props"><span class="toc-number">9.2.</span> <span class="toc-text"> props</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BB%84%E4%BB%B6%E6%A0%87%E7%AD%BE%E6%97%B6"><span class="toc-number">9.2.1.</span> <span class="toc-text"> 使用组件标签时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89mycomponent-%E6%97%B6"><span class="toc-number">9.2.2.</span> <span class="toc-text"> 定义 MyComponent 时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F"><span class="toc-number">9.2.3.</span> <span class="toc-text"> 注意</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">9.3.</span> <span class="toc-text"> 自定义事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E7%9B%91%E5%90%AC"><span class="toc-number">9.3.1.</span> <span class="toc-text"> 绑定事件监听</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6"><span class="toc-number">9.3.2.</span> <span class="toc-text"> 触发事件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">9.3.3.</span> <span class="toc-text"> 示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-2"><span class="toc-number">9.3.4.</span> <span class="toc-text"> 注意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">9.3.5.</span> <span class="toc-text"> 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%EF%B8%8F%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BFglobaleventbus"><span class="toc-number">9.4.</span> <span class="toc-text"> ⭐️全局事件总线（GlobalEventBus）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83pubsubjs-%E5%BA%93"><span class="toc-number">9.5.</span> <span class="toc-text"> 消息订阅与发布 (PubSubJS 库)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A2%E9%98%85%E6%B6%88%E6%81%AF"><span class="toc-number">9.5.1.</span> <span class="toc-text"> 订阅消息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E6%B6%88%E6%81%AF"><span class="toc-number">9.5.2.</span> <span class="toc-text"> 发布消息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-2"><span class="toc-number">9.5.3.</span> <span class="toc-text"> 示例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F-3"><span class="toc-number">9.5.4.</span> <span class="toc-text"> 注意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%9A%842-%E4%B8%AA%E9%87%8D%E8%A6%81%E6%93%8D%E4%BD%9C"><span class="toc-number">9.5.5.</span> <span class="toc-text"> 事件的 2 个重要操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-2"><span class="toc-number">9.5.6.</span> <span class="toc-text"> 总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#slot%E6%8F%92%E6%A7%BD"><span class="toc-number">9.6.</span> <span class="toc-text"> slot (插槽)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E8%A7%A3"><span class="toc-number">9.6.1.</span> <span class="toc-text"> 理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BB%84%E4%BB%B6-childvue"><span class="toc-number">9.6.2.</span> <span class="toc-text"> 子组件: Child.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%BB%84%E4%BB%B6-parentvue"><span class="toc-number">9.6.3.</span> <span class="toc-text"> 父组件: Parent.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E6%A7%BD%E4%B9%9F%E5%8F%AF%E4%BB%A5%E5%AE%9E%E7%8E%B0%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E7%88%B6%E7%BB%84%E4%BB%B6%E6%95%B0%E6%8D%AE%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">9.6.4.</span> <span class="toc-text"> 插槽也可以实现子组件 “传” 父组件数据 (作用域插槽)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E6%B2%A1%E6%9C%89%E7%BB%86%E8%AE%B0"><span class="toc-number">10.</span> <span class="toc-text"> 动画 (没有细记)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vue"><span class="toc-number">10.1.</span> <span class="toc-text"> vue 动画的理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%BF%87%E6%B8%A1%E5%8A%A8%E7%94%BB%E7%9A%84%E7%BC%96%E7%A0%81"><span class="toc-number">10.2.</span> <span class="toc-text"> 基本过渡动画的编码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%B8%A1%E7%9A%84%E7%B1%BB%E5%90%8D"><span class="toc-number">10.3.</span> <span class="toc-text"> 过渡的类名</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%87%E6%B8%A1%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">10.4.</span> <span class="toc-text"> 过渡代码示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E7%94%BB%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="toc-number">10.5.</span> <span class="toc-text"> 动画代码示例</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%AC%AC%E4%B8%89%E6%96%B9%E5%8A%A8%E7%94%BB%E5%BA%93"><span class="toc-number">10.6.</span> <span class="toc-text"> 使用第三方动画库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-3"><span class="toc-number">10.7.</span> <span class="toc-text"> 总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86ajaxaxiosgithub%E5%AE%9E%E4%BE%8B"><span class="toc-number">11.</span> <span class="toc-text"> 配置代理，Ajax (Axios),Github 实例</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8vue-cli%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="toc-number">11.1.</span> <span class="toc-text"> 使用 Vue-cli 配置代理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-number">11.1.1.</span> <span class="toc-text"> 方法一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-number">11.1.2.</span> <span class="toc-text"> 方法二</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="toc-number">11.2.</span> <span class="toc-text"> 准备工作</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E9%A1%B5%E9%9D%A2"><span class="toc-number">11.3.</span> <span class="toc-text"> 静态页面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#indexhtml"><span class="toc-number">11.3.1.</span> <span class="toc-text"> index.html</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#appvue-2"><span class="toc-number">11.3.2.</span> <span class="toc-text"> App.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#searchvue"><span class="toc-number">11.3.3.</span> <span class="toc-text"> Search.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mainvue"><span class="toc-number">11.3.4.</span> <span class="toc-text"> Main.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%98%BE%E7%A4%BA"><span class="toc-number">11.4.</span> <span class="toc-text"> 初始化显示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#mainvue-2"><span class="toc-number">11.4.1.</span> <span class="toc-text"> main.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%A4%E4%BA%92%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="toc-number">11.5.</span> <span class="toc-text"> 交互功能实现</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#searchvue-2"><span class="toc-number">11.5.1.</span> <span class="toc-text"> Search.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mainvue-3"><span class="toc-number">11.5.2.</span> <span class="toc-text"> Main.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%88%E6%9E%9C%E5%B1%95%E7%A4%BA"><span class="toc-number">11.6.</span> <span class="toc-text"> 效果展示</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#vuex"><span class="toc-number">12.</span> <span class="toc-text"> Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#vuex-%E7%90%86%E8%A7%A3"><span class="toc-number">12.1.</span> <span class="toc-text"> vuex 理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">12.1.1.</span> <span class="toc-text"> 是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8A%B6%E6%80%81%E8%87%AA%E7%AE%A1%E7%90%86%E5%BA%94%E7%94%A8"><span class="toc-number">12.1.2.</span> <span class="toc-text"> 状态自管理应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BB%84%E4%BB%B6%E5%85%B1%E4%BA%AB%E7%8A%B6%E6%80%81%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">12.1.3.</span> <span class="toc-text"> 多组件共享状态的问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vuex-%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5%E5%92%8Capi"><span class="toc-number">12.2.</span> <span class="toc-text"> vuex 核心概念和 API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#state"><span class="toc-number">12.2.1.</span> <span class="toc-text"> state</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mutations"><span class="toc-number">12.2.2.</span> <span class="toc-text"> mutations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#actions"><span class="toc-number">12.2.3.</span> <span class="toc-text"> actions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#getters"><span class="toc-number">12.2.4.</span> <span class="toc-text"> getters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#modules"><span class="toc-number">12.2.5.</span> <span class="toc-text"> modules</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%91%E5%A4%96%E6%9A%B4%E9%9C%B2store-%E5%AF%B9%E8%B1%A1"><span class="toc-number">12.2.6.</span> <span class="toc-text"> 向外暴露 store 对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%B8%AD"><span class="toc-number">12.2.7.</span> <span class="toc-text"> 组件中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E5%B0%84store"><span class="toc-number">12.2.8.</span> <span class="toc-text"> 映射 store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#store-%E5%AF%B9%E8%B1%A1"><span class="toc-number">12.2.9.</span> <span class="toc-text"> store 对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#demo1-%E8%AE%A1%E6%95%B0%E5%99%A8"><span class="toc-number">12.3.</span> <span class="toc-text"> demo1: 计数器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#storejs"><span class="toc-number">12.3.1.</span> <span class="toc-text"> store.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mainjs-2"><span class="toc-number">12.3.2.</span> <span class="toc-text"> main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#appvue%E6%9C%AA%E4%BC%98%E5%8C%96%E5%89%8D"><span class="toc-number">12.3.3.</span> <span class="toc-text"> app.vue (未优化前)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#app2vue%E4%BC%98%E5%8C%96%E5%90%8E"><span class="toc-number">12.3.4.</span> <span class="toc-text"> app2.vue (优化后)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#demo2-todo-list"><span class="toc-number">12.4.</span> <span class="toc-text"> demo2: todo list</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#storetypesjs"><span class="toc-number">12.4.1.</span> <span class="toc-text"> store&#x2F;types.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#storemutationsjs"><span class="toc-number">12.4.2.</span> <span class="toc-text"> store&#x2F;mutations.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#storeactionsjs"><span class="toc-number">12.4.3.</span> <span class="toc-text"> store&#x2F;actions.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#storegettersjs"><span class="toc-number">12.4.4.</span> <span class="toc-text"> store&#x2F;getters.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#storeindexjs"><span class="toc-number">12.4.5.</span> <span class="toc-text"> store&#x2F;index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#componentsappvue"><span class="toc-number">12.4.6.</span> <span class="toc-text"> components&#x2F;app.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#componentstodoheadervue"><span class="toc-number">12.4.7.</span> <span class="toc-text"> components&#x2F;todoHeader.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#componentstodomainvue"><span class="toc-number">12.4.8.</span> <span class="toc-text"> components&#x2F;todoMain.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93vuex"><span class="toc-number">12.5.</span> <span class="toc-text"> 总结 Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E6%A6%82%E5%BF%B5"><span class="toc-number">12.5.1.</span> <span class="toc-text"> 1. 概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">12.5.2.</span> <span class="toc-text"> 2. 何时使用？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E6%90%AD%E5%BB%BAvuex%E7%8E%AF%E5%A2%83"><span class="toc-number">12.5.3.</span> <span class="toc-text"> 3. 搭建 vuex 环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">12.5.4.</span> <span class="toc-text"> 4. 基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5getters%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">12.5.5.</span> <span class="toc-text"> 5.getters 的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E5%9B%9B%E4%B8%AAmap%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">12.5.6.</span> <span class="toc-text"> 6. 四个 map 方法的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E6%A8%A1%E5%9D%97%E5%8C%96%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">12.5.7.</span> <span class="toc-text"> 7. 模块化 + 命名空间</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1"><span class="toc-number">13.</span> <span class="toc-text"> 路由</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%AE%80%E4%BB%8B"><span class="toc-number">13.1.</span> <span class="toc-text"> 路由简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%90%86%E8%A7%A3"><span class="toc-number">13.2.</span> <span class="toc-text"> 1. 理解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-%E8%AF%B4%E6%98%8E"><span class="toc-number">13.2.1.</span> <span class="toc-text"> 1.1. 说明</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E7%9B%B8%E5%85%B3api-%E8%AF%B4%E6%98%8E"><span class="toc-number">13.2.2.</span> <span class="toc-text"> 1.2. 相关 API 说明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1"><span class="toc-number">13.3.</span> <span class="toc-text"> 2. 基本路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E6%95%88%E6%9E%9C"><span class="toc-number">13.3.1.</span> <span class="toc-text"> 2.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">13.3.2.</span> <span class="toc-text"> 2.2. 路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E5%BA%94%E7%94%A8%E7%BB%84%E4%BB%B6-appvue"><span class="toc-number">13.3.3.</span> <span class="toc-text"> 2.3. 应用组件: App.vue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-%E8%B7%AF%E7%94%B1%E5%99%A8%E6%A8%A1%E5%9D%97-srcrouterindexjs"><span class="toc-number">13.3.4.</span> <span class="toc-text"> 2.4. 路由器模块: src&#x2F;router&#x2F;index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-%E6%B3%A8%E5%86%8C%E8%B7%AF%E7%94%B1%E5%99%A8-mainjs"><span class="toc-number">13.3.5.</span> <span class="toc-text"> 2.5. 注册路由器: main.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E4%BC%98%E5%8C%96%E8%B7%AF%E7%94%B1%E5%99%A8%E9%85%8D%E7%BD%AE"><span class="toc-number">13.3.6.</span> <span class="toc-text"> 2.6. 优化路由器配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#27-%E6%80%BB%E7%BB%93-%E7%BC%96%E5%86%99%E4%BD%BF%E7%94%A8%E8%B7%AF%E7%94%B1%E7%9A%843-%E6%AD%A5"><span class="toc-number">13.3.7.</span> <span class="toc-text"> 2.7. 总结：编写使用路由的 3 步</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">13.4.</span> <span class="toc-text"> 3. 嵌套路由</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-%E6%95%88%E6%9E%9C"><span class="toc-number">13.4.1.</span> <span class="toc-text"> 3.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-%E5%AD%90%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">13.4.2.</span> <span class="toc-text"> 3.2. 子路由组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#newsvue"><span class="toc-number">13.4.2.1.</span> <span class="toc-text"> News.vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#messagevue"><span class="toc-number">13.4.2.2.</span> <span class="toc-text"> Message.vue</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-%E9%85%8D%E7%BD%AE%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1-srcrouterindexjs"><span class="toc-number">13.4.3.</span> <span class="toc-text"> 3.3. 配置嵌套路由: src&#x2F;router&#x2F;index.js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#34-%E8%B7%AF%E7%94%B1%E9%93%BE%E6%8E%A5-homevue"><span class="toc-number">13.4.4.</span> <span class="toc-text"> 3.4. 路由链接: Home.vue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%90%91%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE"><span class="toc-number">13.5.</span> <span class="toc-text"> 4. 向路由组件传递数据</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-%E6%95%88%E6%9E%9C"><span class="toc-number">13.5.1.</span> <span class="toc-text"> 4.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-%E6%96%B9%E5%BC%8F1-%E8%B7%AF%E7%94%B1%E8%B7%AF%E5%BE%84%E6%90%BA%E5%B8%A6%E5%8F%82%E6%95%B0paramquery"><span class="toc-number">13.5.2.</span> <span class="toc-text"> 4.2. 方式 1: 路由路径携带参数 (param&#x2F;query)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-%E6%96%B9%E5%BC%8F2-router-view%E5%B1%9E%E6%80%A7%E6%90%BA%E5%B8%A6%E6%95%B0%E6%8D%AE"><span class="toc-number">13.5.3.</span> <span class="toc-text"> 4.3. 方式 2:  &lt;router-view&gt;  属性携带数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-3"><span class="toc-number">13.5.4.</span> <span class="toc-text"> 示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#messagedetailvue"><span class="toc-number">13.5.4.1.</span> <span class="toc-text"> MessageDetail.vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#indexjs"><span class="toc-number">13.5.4.2.</span> <span class="toc-text"> index.js</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%AF%B9%E8%B1%A1"><span class="toc-number">13.6.</span> <span class="toc-text"> 5. 缓存路由组件对象</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-%E7%90%86%E8%A7%A3"><span class="toc-number">13.6.1.</span> <span class="toc-text"> 5.1. 理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-%E7%BC%96%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">13.6.2.</span> <span class="toc-text"> 5.2. 编码实现</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">13.7.</span> <span class="toc-text"> 6. 编程式路由导航</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#61-%E6%95%88%E6%9E%9C"><span class="toc-number">13.7.1.</span> <span class="toc-text"> 6.1. 效果</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#62-%E7%9B%B8%E5%85%B3api"><span class="toc-number">13.7.2.</span> <span class="toc-text"> 6.2. 相关 API</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B-4"><span class="toc-number">13.7.3.</span> <span class="toc-text"> 示例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#messagevue-2"><span class="toc-number">13.7.3.1.</span> <span class="toc-text"> Message.vue</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93-4"><span class="toc-number">13.8.</span> <span class="toc-text"> 总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1-2"><span class="toc-number">13.8.1.</span> <span class="toc-text"> 路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">13.8.2.</span> <span class="toc-text"> 1. 基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E5%87%A0%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">13.8.3.</span> <span class="toc-text"> 2. 几个注意点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">13.8.4.</span> <span class="toc-text"> 3. 多级路由（多级路由）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E8%B7%AF%E7%94%B1%E7%9A%84query%E5%8F%82%E6%95%B0"><span class="toc-number">13.8.5.</span> <span class="toc-text"> 4. 路由的 query 参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-number">13.8.6.</span> <span class="toc-text"> 5. 命名路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E8%B7%AF%E7%94%B1%E7%9A%84params%E5%8F%82%E6%95%B0"><span class="toc-number">13.8.7.</span> <span class="toc-text"> 6. 路由的 params 参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7%E8%B7%AF%E7%94%B1%E7%9A%84props%E9%85%8D%E7%BD%AE"><span class="toc-number">13.8.8.</span> <span class="toc-text"> 7. 路由的 props 配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8router-link%E7%9A%84replace%E5%B1%9E%E6%80%A7"><span class="toc-number">13.8.9.</span> <span class="toc-text"> 8. &lt;router-link&gt;  的 replace 属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">13.8.10.</span> <span class="toc-text"> 9. 编程式路由导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#10%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">13.8.11.</span> <span class="toc-text"> 10. 缓存路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#11%E4%B8%A4%E4%B8%AA%E6%96%B0%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">13.8.12.</span> <span class="toc-text"> 11. 两个新的生命周期钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">13.8.13.</span> <span class="toc-text"> 12. 路由守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#the-full-navigation-resolution-flow"><span class="toc-number">13.8.13.0.0.1.</span> <span class="toc-text"> The Full Navigation Resolution Flow</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13%E8%B7%AF%E7%94%B1%E5%99%A8%E7%9A%84%E4%B8%A4%E7%A7%8D%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F"><span class="toc-number">13.8.14.</span> <span class="toc-text"> 13. 路由器的两种工作模式</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-map"><div class="card-content"><div class="item-headline"><i class="fa fa-globe-asia" aria-hidden="true"></i><span>Visitor Map</span></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=4LA950xi3DtQgUHPlkO0mo-n_QgrcOu-1BIiVpExg7k"></script></div></div><div class="card-widget card-pixiv"><div class="card-content"><div class="item-headline"><i class="fa fa-image" aria-hidden="true"></i><span>Pixiv Top50</span><iframe src="https://cloud.mokeyjay.com/pixiv" frameborder="0" style="width:99%;height:380px;margin:0;"></iframe></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/04/02/linux%E5%B0%8F%E7%AC%94%E8%AE%B0/" title="Linux easy notes"><img src="https://w.wallhaven.cc/full/e7/wallhaven-e7p2pk.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux easy notes"/></a><div class="content"><a class="title" href="/2022/04/02/linux%E5%B0%8F%E7%AC%94%E8%AE%B0/" title="Linux easy notes">Linux easy notes</a><time datetime="2022-04-01T11:00:00.000Z" title="Created 2022-04-02 00:00:00">2022-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/02/linux%E7%9A%84%E4%B8%80%E4%BA%9B%E5%91%BD%E4%BB%A4/" title="Linux commands"><img src="https://i.loli.net/2020/05/01/gkihqEjXxJ5UZ1C.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux commands"/></a><div class="content"><a class="title" href="/2022/04/02/linux%E7%9A%84%E4%B8%80%E4%BA%9B%E5%91%BD%E4%BB%A4/" title="Linux commands">Linux commands</a><time datetime="2022-04-01T11:00:00.000Z" title="Created 2022-04-02 00:00:00">2022-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/04/02/Linux/" title="Linux notes"><img src="https://w.wallhaven.cc/full/57/wallhaven-57jlo1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux notes"/></a><div class="content"><a class="title" href="/2022/04/02/Linux/" title="Linux notes">Linux notes</a><time datetime="2022-04-01T11:00:00.000Z" title="Created 2022-04-02 00:00:00">2022-04-02</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/nodejs/" title="Nodejs notes"><img src="https://w.wallhaven.cc/full/q2/wallhaven-q257x7.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nodejs notes"/></a><div class="content"><a class="title" href="/2022/03/01/nodejs/" title="Nodejs notes">Nodejs notes</a><time datetime="2022-02-28T11:00:00.000Z" title="Created 2022-03-01 00:00:00">2022-03-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/03/01/%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="Frontend interview questions"><img src="https://w.wallhaven.cc/full/k7/wallhaven-k7v9yq.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Frontend interview questions"/></a><div class="content"><a class="title" href="/2022/03/01/%E5%88%9D%E4%B8%AD%E7%BA%A7%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="Frontend interview questions">Frontend interview questions</a><time datetime="2022-02-28T11:00:00.000Z" title="Created 2022-03-01 00:00:00">2022-03-01</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Harry Qu</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://harryqu1229.github.io/2022/02/25/Vue2/'
    this.page.identifier = '2022/02/25/Vue2/'
    this.page.title = 'My Vue2 notes'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://harry-study-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script><script>if (window.DISQUSWIDGETS === undefined) {
  var d = document, s = d.createElement('script');
  s.src = 'https://harry-study-blog.disqus.com/count.js';
  s.id = 'dsq-count-scr';
  (d.head || d.body).appendChild(s);
} else {
  DISQUSWIDGETS.getCount({reset: true});
}</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '5df1e915e0fa867b50de',
      clientSecret: 'ce1cb793fe49078ee9d0102d3326d0d50ff6937b',
      repo: 'blog-comments-storage',
      owner: 'HarryQu1229',
      admin: ['HarryQu1229'],
      id: '42b7639c92c53753ea0faa0660fe8f5c',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Disqus' === 'Gitalk' || !false) {
  if (false) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[image]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[link]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[code]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=harry-study-blog&related=thread&limit=6&api_key=')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "Unable to get the data, please make sure the settings are correct."
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'No Comment'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="2809513713" data-server="netease" data-type="playlist" data-autoplay="false" data-fixed="true" data-order="random" data-theme="#e9ccd3"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>((window.gitter = {}).chat = {}).options = {
  disableDefaultChat: true,
};
document.addEventListener('gitter-sidecar-ready', (e) => {
  const GitterChat = e.detail.Chat
  let chat

  function initGitter () {
    chat = new GitterChat({
      room: 'HarryStudyBlog/community',
      activationElement: '#chat_btn'
    });
  }

  initGitter()

  if (true) {
    document.addEventListener('pjax:complete', () => {
      chat.destroy()
      initGitter()
    })
  }

})</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="async" defer="defer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v5.4.0"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v3.8.2"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://www.jsdelivr.com/" style="margin-inline:5px" title="本站使用JsDelivr为静态资源提供CDN加速"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&amp;logo=jsDelivr" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用双线部署，默认线路托管于Vercel"><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" title="本站采用双线部署，联通线路托管于Coding"><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&amp;logo=Codio" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站项目由Github托管"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/footer-beautify-runtime.js"></script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script><script data-pjax src="https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js"></script><script data-pjax>
  function gitcalendar_injector_config(){
      var parent_div_git = document.getElementById('recent-posts');
      var item_html = '<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><style>#git_container{min-height: 280px}@media screen and (max-width:650px) {#git_container{min-height: 0px}}</style><div id="git_loading" style="width:10%;height:100%;margin:0 auto;display: block;"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animatetransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animatetransform></path></svg><style>#git_container{display: none;}</style></div><div id="git_container"></div></div>';
      parent_div_git.insertAdjacentHTML("afterbegin",item_html)
      console.log('已挂载gitcalendar')
      }

    if( document.getElementById('recent-posts') && (location.pathname ==='/'|| '/' ==='all')){
        gitcalendar_injector_config()
        GitCalendarInit("https://gitcalendar.akilar.top/api?HarryQu1229",['#ebedf0', '#fdcdec', '#fc9bd9', '#fa6ac5', '#f838b2', '#f5089f', '#c4067e', '#92055e', '#540336', '#48022f', '#30021f'],'HarryQu1229')
    }
  </script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":300,"height":450},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>