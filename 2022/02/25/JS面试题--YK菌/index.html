<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>some JS Frontend Interview Quesitions | Harry Blog</title><meta name="keywords" content="frontend,interview,javascript"><meta name="author" content="Harry Qu"><meta name="copyright" content="Harry Qu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="# 1. 变量声明与类型 # 1.1 var let const 区别  var 是 ES5 语法，let、const 是 ES6 的语法 var 有变量提升 var、let 是变量，可修改；const 是常量，不可修改 let、const 块级作用域；var 函数作用域   【ES6】变量声明 - var-let-const - 区别与联系 - 总结 # 1.2 数据类型 值类型（7 个）：Un">
<meta property="og:type" content="article">
<meta property="og:title" content="some JS Frontend Interview Quesitions">
<meta property="og:url" content="https://harryqu1229.github.io/2022/02/25/JS%E9%9D%A2%E8%AF%95%E9%A2%98--YK%E8%8F%8C/index.html">
<meta property="og:site_name" content="Harry Blog">
<meta property="og:description" content="# 1. 变量声明与类型 # 1.1 var let const 区别  var 是 ES5 语法，let、const 是 ES6 的语法 var 有变量提升 var、let 是变量，可修改；const 是常量，不可修改 let、const 块级作用域；var 函数作用域   【ES6】变量声明 - var-let-const - 区别与联系 - 总结 # 1.2 数据类型 值类型（7 个）：Un">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://harryqu1229.github.io/img/default-covers/home.png">
<meta property="article:published_time" content="2022-02-24T11:00:00.000Z">
<meta property="article:modified_time" content="2022-06-12T01:11:08.855Z">
<meta property="article:author" content="Harry Qu">
<meta property="article:tag" content="frontend">
<meta property="article:tag" content="interview">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://harryqu1229.github.io/img/default-covers/home.png"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://harryqu1229.github.io/2022/02/25/JS%E9%9D%A2%E8%AF%95%E9%A2%98--YK%E8%8F%8C/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":100,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#C78550","bgDark":"#c08eaf","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'some JS Frontend Interview Quesitions',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-12 13:11:08'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">158</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">84</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">57</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://nz.hudson.com/wp-content/cache/bb-plugin/cache/unuasual-job-interview-01-1024x731-landscape.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Harry Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">some JS Frontend Interview Quesitions</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-02-24T11:00:00.000Z" title="Created 2022-02-25 00:00:00">2022-02-25</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-06-12T01:11:08.855Z" title="Updated 2022-06-12 13:11:08">2022-06-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Interview/">Interview</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Interview/frontend/">frontend</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">6.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>28min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="some JS Frontend Interview Quesitions"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="1-变量声明与类型"><a class="markdownIt-Anchor" href="#1-变量声明与类型">#</a> 1. 变量声明与类型</h1>
<h3 id="11-var-let-const-区别"><a class="markdownIt-Anchor" href="#11-var-let-const-区别">#</a> 1.1 var let const 区别</h3>
<ol>
<li>var 是 ES5 语法，let、const 是 ES6 的语法</li>
<li>var 有变量提升</li>
<li>var、let 是变量，可修改；const 是常量，不可修改</li>
<li>let、const 块级作用域；var 函数作用域</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/59db5c8ee46748eeaed78b89683da38b.png" alt=""></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112340914">【ES6】变量声明 - var-let-const - 区别与联系 - 总结</a></p>
<h3 id="12-数据类型"><a class="markdownIt-Anchor" href="#12-数据类型">#</a> 1.2 数据类型</h3>
<p>值类型（7 个）：Undefined、Null、Number、String、Boolean、Symbol (ES6)、BigInt (ES10)<br>
 引用类型：Object：Array、Function</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/111460647">【JS】JavaScript-ES5 数据类型 - 基本数据类型 - 引用数据类型 - 类型之间的转换 - 数据类型的判断</a></p>
<h3 id="13-值类型与引用类型的区别"><a class="markdownIt-Anchor" href="#13-值类型与引用类型的区别">#</a> 1.3 值类型与引用类型的区别</h3>
<p>值类型 存在<strong>栈</strong>内存中，变量拿到的就是它的值<br>
引用类型 存在<strong>堆</strong>内存中，变量拿到的只是它的一个引用，是它的地址</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/111592531">【JS】JavaScript - 对象 - Object - 内建对象 - 宿主对象 - 自定义对象 - 操作对象 - 基本数据类型与引用数据类型区别</a></p>
<h3 id="14-typeof-能判断哪些类型"><a class="markdownIt-Anchor" href="#14-typeof-能判断哪些类型">#</a> 1.4 typeof 能判断哪些类型</h3>
<ol>
<li>undefined、string、number、boolean、symbol、bigint【除了 null 的基本类型】</li>
<li>function 【函数】</li>
<li>object (typeof null === ‘object’) 【所有引用类型只能到 object 这里】</li>
</ol>
<h3 id="15-判断数据类型的方式"><a class="markdownIt-Anchor" href="#15-判断数据类型的方式">#</a> 1.5 判断数据类型的方式</h3>
<ol>
<li>typeof 【除了 null 的基本类型 + function】</li>
<li>instanceof 【引用类型】【从子类到父类直到 object】【顺着原型链】</li>
<li>toString () 【任意类型】</li>
<li>Array.isArray () 【数组】</li>
</ol>
<h3 id="16-与"><a class="markdownIt-Anchor" href="#16-与">#</a> 1.6  <code>===</code>  与  <code>==</code></h3>
<p><code>===</code>  严格的比较是否相等</p>
<p><code>==</code>  会进行类型转换，再进行比较</p>
<p>以下都是成立的</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">100</span> <span class="token operator">==</span> <span class="token string">'100'</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token string">''</span>
<span class="token number">0</span> <span class="token operator">==</span> <span class="token boolean">false</span>
fase <span class="token operator">==</span> <span class="token string">''</span>
<span class="token keyword">null</span> <span class="token operator">==</span> <span class="token keyword">undefined</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>有一个情况可以用下  <code>==</code></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">||</span> a <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="17-truly变量与falsely变量"><a class="markdownIt-Anchor" href="#17-truly变量与falsely变量">#</a> 1.7 truly 变量与 falsely 变量</h3>
<p>truly 变量： <code>!!a === true</code>  的变量<br>
 falsely 变量： <code>!!b === false</code>  的变量</p>
<p>以下是 falsey 变量，除了这六种情况，其余都是 truely 变量</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token number">NaN</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token string">''</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">null</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token keyword">undefined</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span class="token operator">!</span><span class="token operator">!</span><span class="token boolean">false</span> <span class="token operator">===</span> <span class="token boolean">false</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="18-强制类型转换和隐式类型转换"><a class="markdownIt-Anchor" href="#18-强制类型转换和隐式类型转换">#</a> 1.8 强制类型转换和隐式类型转换</h3>
<p>强制： <code>parseInt</code> 、 <code>parseFloat</code> 、 <code>toString</code> <br>
 隐式： <code>if</code> 、逻辑运算、 <code>==</code> 、 <code>+</code>  拼接字符串</p>
<p>一定要看这个，狠详细<br>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/111460647">【JS】JavaScript-ES5 数据类型 - 基本数据类型 - 引用数据类型 - 类型之间的转换 - 数据类型的判断</a></p>
<h3 id="19-语句与表达式"><a class="markdownIt-Anchor" href="#19-语句与表达式">#</a> 1.9 语句与表达式</h3>
<p>表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">a
a<span class="token operator">+</span>b
<span class="token function">demo</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
x<span class="token operator">===</span>y<span class="token operator">?</span> <span class="token string">'a'</span><span class="token operator">:</span> <span class="token string">'b'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>语句</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="2-数组字符串相关"><a class="markdownIt-Anchor" href="#2-数组字符串相关">#</a> 2. 数组字符串相关</h2>
<h3 id="21-手写深拷贝"><a class="markdownIt-Anchor" href="#21-手写深拷贝">#</a> 2.1 手写深拷贝</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">deepClone</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">!==</span> <span class="token string">'object'</span> <span class="token operator">||</span> obj <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> obj
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">let</span> result <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			result<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">return</span> result
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/116092535">【JS】自定义 JS 工具函数库 - 自定义对象方法 - new-instanceof-mergeObject - 实现数组与对象的深拷贝与浅拷贝 - 封装字符串相关函数</a></p>
<h3 id="22-手写深度比较"><a class="markdownIt-Anchor" href="#22-手写深度比较">#</a> 2.2 手写深度比较</h3>
<pre class="line-numbers language-none"><code class="language-none">&#96;&#x2F;&#x2F; 判断是否是对象或数组
function isObject(obj) &#123;
  return typeof obj &#x3D;&#x3D;&#x3D; object &amp;&amp; obj !&#x3D;&#x3D; null;
&#125;

&#x2F;&#x2F; 深度比较
function isEqual(obj1, obj2) &#123;
  if (!isObject(obj1) || !isObject(obj2)) &#123;
    &#x2F;&#x2F; 值类型，直接判断【一般不会传函数，不考虑函数】
    return obj1 &#x3D;&#x3D;&#x3D; obj2;
  &#125;
  if (obj1 &#x3D;&#x3D;&#x3D; obj2) &#123;
    return true;
  &#125;
  &#x2F;&#x2F; 两个都是对象或数组，而且不相等
  &#x2F;&#x2F; 1. 先判断键的个数是否相等，不相等一定返回false
  const obj1Keys &#x3D; Object.keys(obj1);
  const obj2Keys &#x3D; Objext.keys(obj2);
  if (obj1Keys.length !&#x3D;&#x3D; obj2Keys.length) &#123;
    return false;
  &#125;
  &#x2F;&#x2F; 2. 以obj1为基准，和obj2依次递归比较
  for (let key in obj1) &#123;
    &#x2F;&#x2F; 递归比较
    const res &#x3D; isEqual(obj1[key], obj2[key]);
    if (!res) &#123;
      return false;
    &#125;
  &#125;
  &#x2F;&#x2F; 3. 全相等
  return true;
&#125;&#96; 

![](https:&#x2F;&#x2F;csdnimg.cn&#x2F;release&#x2F;blogv2&#x2F;dist&#x2F;pc&#x2F;img&#x2F;newCodeMoreBlack.png)

*   1
*   2
*   3
*   4
*   5
*   6
*   7
*   8
*   9
*   10
*   11
*   12
*   13
*   14
*   15
*   16
*   17
*   18
*   19
*   20
*   21
*   22
*   23
*   24
*   25
*   26
*   27
*   28
*   29
*   30
*   31
*   32

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="23-数组的api有哪些是纯函数"><a class="markdownIt-Anchor" href="#23-数组的api有哪些是纯函数">#</a> 2.3 数组的 API 有哪些是纯函数</h3>
<p>纯函数：①不改变原数组 (没有副作用) ②返回一个新数组<br>
 concat、map、filter、slice</p>
<p>非纯函数：push、pop、shift、unshift、forEach、some、every、reduce</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/118050919">【JS】你不得不知道的 JavaScript 数组相关知识【全面总结】复习专用</a></p>
<h3 id="24-split和join的区别"><a class="markdownIt-Anchor" href="#24-split和join的区别">#</a> 2.4  <code>split()</code>  和 <code>join()</code>  的区别</h3>
<p><code>split()</code>  是字符串的方法<br>
 <code>join()</code>  是数组的方法</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token string">'1-2-3'</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token comment">// [1,2,3]</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token comment">// 1-2-3</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h3 id="25-数组slice与splice区别"><a class="markdownIt-Anchor" href="#25-数组slice与splice区别">#</a> 2.5 数组 <code>slice</code>  与 <code>splice</code>  区别</h3>
<p>slice 切片<br>
 splice 剪接</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113093122">【JS】JavaScript 数组 - 操作方法 - concat - 数组强制打平 - slice-splice 方法使用</a></p>
<h3 id="26-手写字符串-trim"><a class="markdownIt-Anchor" href="#26-手写字符串-trim">#</a> 2.6 手写字符串 trim</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">String</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">trim</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\s+</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\s+$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h2 id="3-函数相关"><a class="markdownIt-Anchor" href="#3-函数相关">#</a> 3. 函数相关</h2>
<h3 id="31-函数声明与函数表达式"><a class="markdownIt-Anchor" href="#31-函数声明与函数表达式">#</a> 3.1 函数声明与函数表达式</h3>
<p>函数声明式</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>函数表达式</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="32-什么是json"><a class="markdownIt-Anchor" href="#32-什么是json">#</a> 3.2 什么是 JSON</h3>
<ul>
<li>JSON 是一种数据格式，本质是一段字符串</li>
<li>JSON 格式与 JS 对象结构一致，对 JS 语言更友好</li>
<li><code>window.JSON</code>  是一个全局对象，常用的两个方法  <code>JSON.stringify</code>  和 <code>JSON.parse</code></li>
</ul>
<h3 id="33-将url参数解析成js对象"><a class="markdownIt-Anchor" href="#33-将url参数解析成js对象">#</a> 3.3 将 URL 参数解析成 JS 对象</h3>
<p>传统方法，分析 search</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">queryToObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">const</span> search <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	search<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'&amp;'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">paramStr</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">const</span> arr <span class="token operator">=</span> paramStr<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'='</span><span class="token punctuation">)</span>
		<span class="token keyword">const</span> key <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
		<span class="token keyword">const</span> val <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
		res<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> res
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用 URLSearchParams</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">queryToObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
	<span class="token keyword">const</span> pList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span>
	pList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
		res<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> res
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="4-原型与原型链"><a class="markdownIt-Anchor" href="#4-原型与原型链">#</a> 4. 原型与原型链</h2>
<h3 id="41-解释一下原型与原型链"><a class="markdownIt-Anchor" href="#41-解释一下原型与原型链">#</a> 4.1 解释一下原型与原型链</h3>
<p>每个函数对象都有显式原型  <code>prototype</code> <br>
 每个实例对象都有隐式原型  <code>__proto__</code> <br>
实例对象的 <code>__proto__</code> 指向函数对象的 <code>prototype</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/3277ac902bca42dc9cf2a69bdc211ca0.png" alt=""></p>
<p>（之前博文中的图）</p>
<p>原型链：实例对象在获取对象上的属性和方法时，先在自身找，找不到就去隐式原型上面找</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/a4c32d27c575477f87b85f5863baae0c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt=""></p>
<p>（之前博文中的图）</p>
<h3 id="42-class的原型本质"><a class="markdownIt-Anchor" href="#42-class的原型本质">#</a> 4.2 class 的原型本质</h3>
<p>class 是 ES6 语法规范，由 ECMA 委员会发布【构造函数、继承】<br>
ECMA 只规定语法规则，不规定如何实现</p>
<p>下面博文具体介绍了 class 语法，以及具体的原生实现【构造函数、继承】</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112367802">【ES6】JavaScript 面向对象 - 面向对象与面向过程的对比 - 类 class - 继承 extends - 构造函数 - super</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/117223648">【JS】JavaScript 创建对象 - 工厂模式 - 构造函数模式 - 原型模式 - 原型链 - 组合模式</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/117225958">【JS】JavaScript 继承 - 原型链 - 盗用构造函数 - 组合继承 - 原型式继承 - 寄生式继承 - 寄生式组合继承</a></p>
<h3 id="43-new-object-与-objectcreate的区别"><a class="markdownIt-Anchor" href="#43-new-object-与-objectcreate的区别">#</a> 4.3 new Object () 与 Object.create () 的区别</h3>
<ul>
<li><code>&#123;&#125;</code>  等同于  <code>new Object()</code> ，原型为 <code>Object.prototype</code></li>
<li><code>Object.create(null)</code>  没有原型</li>
<li><code>Object.create(&#123;...&#125;)</code>  可以指定原型</li>
</ul>
<h3 id="44-用class语法写一个简单的jquery"><a class="markdownIt-Anchor" href="#44-用class语法写一个简单的jquery">#</a> 4.4 用 class 语法写一个简单的 jQuery</h3>
<pre class="line-numbers language-none"><code class="language-none">&#96;class jQuery &#123;
  constructor(selector) &#123;
    const result &#x3D; document.querySelectorAll(selector);
    const length &#x3D; result.length;
    for (let i &#x3D; 0; i &lt; length; i++) &#123;
      this[i] &#x3D; result[i];
    &#125;
    this.length &#x3D; length;
    this.selector &#x3D; selector;
  &#125;

  get(index) &#123;
    return this[index];
  &#125;

  each(fn) &#123;
    for (let i &#x3D; 0; i &lt; this.length; i++) &#123;
      const elem &#x3D; this[i];
      fn(elem);
    &#125;
  &#125;
  
  on(type, fn) &#123;
    return this.each((elem) &#x3D;&gt; &#123;
      elem.addEventListener(type, fn, false);
    &#125;);
  &#125;
&#125;

&#x2F;&#x2F; 插件
jQuery.prototype.dialog &#x3D; function(info)&#123;
	console.log(info);
&#125;

&#x2F;&#x2F; 拓展性
class myjQuery extends jQuery&#123;
	constructor(selector)&#123;
		super(selector)
	&#125;
	&#x2F;&#x2F; 扩展自己的方法
	addClass(className)&#123;&#125;
	addStyle(data)&#123;&#125;
&#125;&#96; 

![](https:&#x2F;&#x2F;csdnimg.cn&#x2F;release&#x2F;blogv2&#x2F;dist&#x2F;pc&#x2F;img&#x2F;newCodeMoreBlack.png)

*   1
*   2
*   3
*   4
*   5
*   6
*   7
*   8
*   9
*   10
*   11
*   12
*   13
*   14
*   15
*   16
*   17
*   18
*   19
*   20
*   21
*   22
*   23
*   24
*   25
*   26
*   27
*   28
*   29
*   30
*   31
*   32
*   33
*   34
*   35
*   36
*   37
*   38
*   39
*   40
*   41
*   42
*   43

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="5-作用域与闭包"><a class="markdownIt-Anchor" href="#5-作用域与闭包">#</a> 5. 作用域与闭包</h2>
<p>这篇博文写的很详细，推荐阅读<br>
<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/118543521">【JS】你不知道的 JavaScript 笔记（一）—— 作用域与闭包 - 编译原理 - LHS - RHS - 循环与闭包 - 模块 - 词法作用域 - 动态作用域</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/115955430">【JS】函数定义与调用方式 - 函数 this 指向问题 - call-apply-bind 方法使用与自定义</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/118607326">【JS】你不知道的 JavaScript 笔记（二）- this - 四种绑定规则 - 绑定优先级 - 绑定例外 - 箭头函数</a></p>
<h3 id="51-作用域"><a class="markdownIt-Anchor" href="#51-作用域">#</a> 5.1 作用域</h3>
<p>一个变量合法的使用范围，JS 中采用的是<strong>词法作用域</strong>（静态作用域）<br>
【变量的查找，取决于在哪里定义，而不是在哪里执行】</p>
<p>全局作用域 - 函数作用域 - 块级作用域</p>
<p><strong>自由变量</strong>：一个变量在当前作用域没有定义，但是被使用了。这时就向上级作用域一层一层依次查找，直到找到为止，最后在全局作用域都没找到就报错  <code>ReferenceError：xxx is not defiend</code></p>
<h3 id="52-this不同场景下如何取值"><a class="markdownIt-Anchor" href="#52-this不同场景下如何取值">#</a> 5.2 this 不同场景下如何取值</h3>
<p>this 查找采用的是<strong>动态作用域</strong><br>
【this 的指向，取决于在哪里执行，而不是在哪里定义】</p>
<p>例题</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
	count<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token function-variable function">getCount</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>count
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>User<span class="token punctuation">.</span><span class="token function">getCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token keyword">const</span> func <span class="token operator">=</span> User<span class="token punctuation">.</span>getCount
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/118607326">【JS】你不知道的 JavaScript 笔记（二）- this - 四种绑定规则 - 绑定优先级 - 绑定例外 - 箭头函数</a></p>
<h3 id="53-手写bind"><a class="markdownIt-Anchor" href="#53-手写bind">#</a> 5.3 手写 bind</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/115955430">【JS】函数定义与调用方式 - 函数 this 指向问题 - call-apply-bind 方法使用与自定义</a></p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">myBind</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// 将参数拆解为数组</span>
	<span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span>  
	<span class="token comment">// 获取this</span>
	<span class="token keyword">const</span> t <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token comment">// fn1.bind(...)中的 fn1</span>
	<span class="token keyword">const</span> self <span class="token operator">=</span> <span class="token keyword">this</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">return</span> <span class="token function">self</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> args<span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>使用</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'this'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token string">'this is fn1'</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> fn2 <span class="token operator">=</span> fn1<span class="token punctuation">.</span><span class="token function">myBind</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>x<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/843996d5c47b47559561a51607376811.png" alt=""></p>
<h3 id="54-闭包"><a class="markdownIt-Anchor" href="#54-闭包">#</a> 5.4 闭包</h3>
<p>当函数可以记住并访问所在的词法作用域，即使函数是在当前词法作用域之外执行，这时就产生了<strong>闭包</strong></p>
<p>① 函数作为参数被传递 ② 函数作为返回值被返回</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/118543521">【JS】你不知道的 JavaScript 笔记（一）—— 作用域与闭包 - 编译原理 - LHS - RHS - 循环与闭包 - 模块 - 词法作用域 - 动态作用域</a></p>
<h3 id="55-闭包的应用场景"><a class="markdownIt-Anchor" href="#55-闭包的应用场景">#</a> 5.5 闭包的应用场景</h3>
<p>隐藏数据，只提供 API</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>  <span class="token comment">// 闭包中的数据被隐藏，不被外界访问</span>
	<span class="token keyword">return</span> <span class="token punctuation">&#123;</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			data<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">return</span> data<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> cache <span class="token operator">=</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
c<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="6-es6新特性"><a class="markdownIt-Anchor" href="#6-es6新特性">#</a> 6. ES6 新特性</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112340914">【ES6】变量声明 - var-let-const - 区别与联系 - 总结</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/115280565">【ES6】Symbol 基本使用及常用内置符号</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112929712">【ES6】JavaScript 函数 - 箭头函数 - this 指向 - 简写</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112795786">【ES6】JavaScript - 变量的解构赋值 - 数组解构 - 对象解构 - 对象的属性 - 对象的方法</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112910925">【ES6】JavaScript 对象 - 增强的对象语法 - 属性值简写 - 可计算属性 - 简写方法名</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112950370">【ES6】JavaScript 函数 - 参数的默认值 - 与解构赋值的结合使用 - 对 arguments 的影响 - 默认参数作用域与暂时性死区</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113105956">【ES6】JavaScript 数组 - 数组的创建 - 构造函数 - 字面量 - Array.from ()-Array.of () 静态方法</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113574651">【ES6】JavaScript 数组 - 迭代器方法 - keys ()-values ()-entries ()- 迭代方法 - every ()-some ()-filter ()-map ()-forEach ()</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112367802">【ES6】JavaScript 面向对象 - 面向对象与面向过程的对比 - 类 class - 继承 extends - 构造函数 - super</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/115280516">【ES6】迭代器与生成器</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113779708">【Promise】入门 - 同步回调 - 异步回调 - JS 中的异常 error 处理 - Promis 的理解和使用 - 基本使用 - 链式调用 - 七个关键问题</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/114262960">【ES8】异步代码终极解决方案 async 和 await</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/114282782">【ES6 模块化】import - export - 按需引入 - 项目中使用 babel - ES6 模块化引入 npm 包</a></p>
<h2 id="7-异步相关"><a class="markdownIt-Anchor" href="#7-异步相关">#</a> 7. 异步相关</h2>
<p>因为单线程，所以异步【同步会阻塞代码执行】</p>
<p>JS 单线程， 和 DOM 渲染共用一个线程【因为 JS 可以修改 DOM 结构】<br>
浏览器和 node.js 已经支持 JavaScript 启动进程，如 Web Worker</p>
<h3 id="71-同步与异步的区别"><a class="markdownIt-Anchor" href="#71-同步与异步的区别">#</a> 7.1 同步与异步的区别</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/114380206">【JavaScript】同步与异步 - 异步与并行 - 异步运行机制 - 为什么要异步编程 - 异步与回调 - 回调地狱 - JavaScript 中的异步操作</a></p>
<h3 id="72-前端使用异步的场景"><a class="markdownIt-Anchor" href="#72-前端使用异步的场景">#</a> 7.2 前端使用异步的场景</h3>
<p>网络请求，如 ajax<br>
 定时任务</p>
<h3 id="73-promise的三种状态"><a class="markdownIt-Anchor" href="#73-promise的三种状态">#</a> 7.3 Promise 的三种状态</h3>
<ol>
<li>pending 等待中 不会触发 <code>then</code>  和 <code>catch</code></li>
<li>resolved 成功了 会触发后续的 <code>then</code>  回调函数</li>
<li>rejected 失败了 会触发后续的 <code>catch</code>  回调函数</li>
</ol>
<p><code>then</code>  正常返回 resolved，里面有报错则返回 rejected<br>
 <code>catch</code>  正常返回 resolved，里面有报错则返回 rejected</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113779708">【Promise】入门 - 同步回调 - 异步回调 - JS 中的异常 error 处理 - Promis 的理解和使用 - 基本使用 - 链式调用 - 七个关键问题</a></p>
<h3 id="74-promise的then和catch"><a class="markdownIt-Anchor" href="#74-promise的then和catch">#</a> 7.4 promise 的 then 和 catch</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 不执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
	<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'err1'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
	<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'err1'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 不执行</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="75-手写promise加载图片"><a class="markdownIt-Anchor" href="#75-手写promise加载图片">#</a> 7.5 手写 promise 加载图片</h3>
<pre class="line-numbers language-none"><code class="language-none">&#96;&#96;function loadImg(src)&#123;
	return new Promise((resolve, reject)&#x3D;&gt;&#123;
		const img &#x3D; document.createElement(&#39;img&#39;)
		img.onload &#x3D; () &#x3D;&gt;&#123;
			resolve(img)
		&#125;
		img.onerror &#x3D; () &#x3D;&gt; &#123;
			reject(new Error(&#96;图片加载失败 $&#123;src&#125;&#96;))
		&#125;
		img.src &#x3D; src
	&#125;)
&#125;

&#x2F;&#x2F; 使用
const url &#x3D; &#39;&#39;
loadImg(url).then(img &#x3D;&gt; &#123;
	console.log(img.width)
	return img
&#125;).then(img &#x3D;&gt; &#123;
	console.log(img.height)
&#125;.catch(err &#x3D;&gt; console.error(err))

&#x2F;&#x2F; 使用加载多张图片
url1 &#x3D; &#39;&#39;
url2 &#x3D; &#39;&#39;
loadImg(url1).then(img1 &#x3D;&gt; &#123;
	console.log(img1.width)
	return img1
&#125;).then(img1 &#x3D;&gt; &#123;
	console.log(img1.height)
	return loadImg(url2)	
&#125;).then(img2 &#x3D;&gt; &#123;
	console.log(img2.width)
	return img2
&#125;).then(img2 &#x3D;&gt; &#123;
	console.log(img2.height)
&#125;).catch(err &#x3D;&gt; console.error(err))&#96;&#96; 

![](https:&#x2F;&#x2F;csdnimg.cn&#x2F;release&#x2F;blogv2&#x2F;dist&#x2F;pc&#x2F;img&#x2F;newCodeMoreBlack.png)

*   1
*   2
*   3
*   4
*   5
*   6
*   7
*   8
*   9
*   10
*   11
*   12
*   13
*   14
*   15
*   16
*   17
*   18
*   19
*   20
*   21
*   22
*   23
*   24
*   25
*   26
*   27
*   28
*   29
*   30
*   31
*   32
*   33
*   34
*   35
*   36
*   37

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="76-asyncawait与promise"><a class="markdownIt-Anchor" href="#76-asyncawait与promise">#</a> 7.6 async/await 与 Promise</h3>
<ol>
<li>执行 <code>async</code>  函数，返回的是 Promise 对象</li>
<li><code>await</code>  相当于 Promise 的 <code>then</code></li>
<li><code>try/catch</code>  可以捕获异常，代替了 Promise 的 <code>catch</code></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/114262960">【ES8】异步代码终极解决方案 async 和 await</a></p>
<h3 id="77-字节面试看代码题"><a class="markdownIt-Anchor" href="#77-字节面试看代码题">#</a> 7.7 字节面试看代码题</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 函数定义</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"async1 start"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
  <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 函数执行</span>
  <span class="token comment">// await后面的内容，可以看作是回调里的内容，即异步执行</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"async1 end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// 函数定义</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"async2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"script start"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 函数执行</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"script end"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5 同步代码执行完毕</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="78-for-of-的应用场景-异步"><a class="markdownIt-Anchor" href="#78-for-of-的应用场景-异步">#</a> 7.8 for-of 的应用场景 【异步】</h3>
<p>for、forEach、for-in 是常规的【同步】遍历<br>
 for-of 常用于【异步】的遍历</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">muti</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>num <span class="token operator">*</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> nums <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

nums<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">muti</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 会同时打印出三个结果</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token keyword">of</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">muti</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 会每隔一秒打印出一个结果</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="8-event-loop"><a class="markdownIt-Anchor" href="#8-event-loop">#</a> 8. Event Loop</h2>
<h3 id="81-宏任务macrotask与微任务microtask"><a class="markdownIt-Anchor" href="#81-宏任务macrotask与微任务microtask">#</a> 8.1 宏任务 macroTask 与微任务 microTask</h3>
<ul>
<li>宏任务：setTimeout、setInterval、Ajax、DOM 事件【W3C 规范】</li>
<li>微任务：Promise、async/await【ES 规范】</li>
</ul>
<p>微任务执行时机比宏任务早</p>
<hr>
<ul>
<li>微任务在 DOM 渲染<strong>前</strong>触发 【Promise】</li>
<li>宏任务在 DOM 渲染<strong>后</strong>触发 【setTimeout】</li>
</ul>
<h3 id="82-event-loop机制"><a class="markdownIt-Anchor" href="#82-event-loop机制">#</a> 8.2 Event Loop 机制</h3>
<ul>
<li>回调栈 Call Stack</li>
<li>事件循环 event loop</li>
<li>回调队列 Callback Queue</li>
<li>微任务队列 micro task queue<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img-blog.csdnimg.cn/20210709215035349.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDk3MjAwOA==,size_16,color_FFFFFF,t_70" alt=""></li>
</ul>
<ol>
<li>同步代码，一行一行放在回调栈中执行，执行完了就出栈</li>
<li>遇到异步，记录下来，等待时机；时机到了，就移动到回调队列中</li>
<li>当回调栈为空，（微任务 [微任务队列]）【尝试 DOM 渲染】 事件循环开始工作：轮询查找（宏任务）回调队列，有则移动到回调栈中执行</li>
<li>继续轮询 loop</li>
</ol>
<p>【同步任务 —— 微任务 ——DOM 渲染 —— 宏任务】—— 同步任务 —— 微任务 ——DOM 渲染 —— 宏任务…</p>
<hr>
<p>实际上真正的 event loop 是这样的</p>
<ol>
<li>一开始整个脚本作为一个<strong>宏任务</strong>执行</li>
<li>执行过程中<strong>同步代码</strong>直接执行，宏任务进入宏任务队列，微任务进入微任务队列</li>
<li>当前宏任务执行完出队，检查<strong>微任务</strong>列表，有则依次执行，直到全部执行完</li>
<li>执行浏览器 UI 线程的渲染工作</li>
<li>检查是否有 Web Worker 任务，有则执行</li>
<li>执行完本轮的<strong>宏任务</strong>，回到 2，依此循环，直到宏任务和微任务队列都为空</li>
</ol>
<p>所以过程是</p>
<p>【宏任务（代码整体）—— 同步任务 —— 微任务 ——DOM 渲染】—— 宏任务 —— 同步任务 —— 微任务 ——DOM 渲染…</p>
<h3 id="83-event-loop练习"><a class="markdownIt-Anchor" href="#83-event-loop练习">#</a> 8.3 event loop 练习</h3>
<pre class="line-numbers language-none"><code class="language-none">&#96;console.log(&#39;1&#39;); &#x2F;&#x2F; ①同步任务 

setTimeout(function() &#123; &#x2F;&#x2F; ① 宏任务
    console.log(&#39;2&#39;);
    process.nextTick(function() &#123;
        console.log(&#39;3&#39;);
    &#125;)
    new Promise(function(resolve) &#123;
        console.log(&#39;4&#39;);
        resolve();
    &#125;).then(function() &#123;
        console.log(&#39;5&#39;)
    &#125;)
&#125;)

process.nextTick(function() &#123; &#x2F;&#x2F; ① 微任务
    console.log(&#39;6&#39;);
&#125;)

new Promise(function(resolve) &#123;
    console.log(&#39;7&#39;); &#x2F;&#x2F; ① 同步任务 
    resolve();
&#125;).then(function() &#123; &#x2F;&#x2F; ① 微任务
    console.log(&#39;8&#39;)
&#125;)

setTimeout(function() &#123; &#x2F;&#x2F; ① 宏任务
    console.log(&#39;9&#39;);
    process.nextTick(function() &#123;
        console.log(&#39;10&#39;);
    &#125;)
    
    new Promise(function(resolve) &#123;
        console.log(&#39;11&#39;);
        resolve();
    &#125;).then(function() &#123;
        console.log(&#39;12&#39;)
    &#125;)
    
    console.log(&#39;13&#39;);
    
    process.nextTick(function() &#123;
        console.log(&#39;14&#39;); &#x2F;&#x2F; 微任务 process.nextTick 比 promse.then优先级要高
    &#125;)
&#125;)&#96; 

![](https:&#x2F;&#x2F;csdnimg.cn&#x2F;release&#x2F;blogv2&#x2F;dist&#x2F;pc&#x2F;img&#x2F;newCodeMoreBlack.png)

*   1
*   2
*   3
*   4
*   5
*   6
*   7
*   8
*   9
*   10
*   11
*   12
*   13
*   14
*   15
*   16
*   17
*   18
*   19
*   20
*   21
*   22
*   23
*   24
*   25
*   26
*   27
*   28
*   29
*   30
*   31
*   32
*   33
*   34
*   35
*   36
*   37
*   38
*   39
*   40
*   41
*   42
*   43
*   44
*   45

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>1 7 6 8 2 4 3 5 9 11 13 10 14 12</p>
<h2 id="9-dom"><a class="markdownIt-Anchor" href="#9-dom">#</a> 9. DOM</h2>
<h3 id="91-获取节点操作"><a class="markdownIt-Anchor" href="#91-获取节点操作">#</a> 9.1 获取节点操作</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'yk'</span><span class="token punctuation">)</span> <span class="token comment">// 元素</span>
document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span> <span class="token comment">// 集合</span>

document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">'container'</span><span class="token punctuation">)</span> <span class="token comment">// 集合</span>
document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span> <span class="token comment">// 集合</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="92-标签属性-attribute"><a class="markdownIt-Anchor" href="#92-标签属性-attribute">#</a> 9.2 标签属性 attribute</h3>
<p>修改的是标签属性【内联样式】<br>
修改 html 属性，会改变 html 结构</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> pList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> pList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>

p<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'data-name'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'data-name'</span><span class="token punctuation">,</span><span class="token string">'ykjun'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span>
p<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'font-size: 10px'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="93-对象属性-property"><a class="markdownIt-Anchor" href="#93-对象属性-property">#</a> 9.3 对象属性 property</h3>
<p>用 JS 的属性操作 DOM 元素<br>
修改对象属性，不会 体现到 html 结构中</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> pList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> pList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token comment">// 获取样式</span>
p<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">'100px'</span> <span class="token comment">// 修改样式</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>className<span class="token punctuation">)</span> <span class="token comment">// 获取class</span>
p<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">'p1'</span> <span class="token comment">// 修改class</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>nodeName<span class="token punctuation">)</span> <span class="token comment">// 获取nodeName节点名称</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>nodeType<span class="token punctuation">)</span> <span class="token comment">// 获取nodeType节点类型</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="94-dom结构操作"><a class="markdownIt-Anchor" href="#94-dom结构操作">#</a> 9.4 DOM 结构操作</h3>
<pre class="line-numbers language-none"><code class="language-none">&#96;const div1 &#x3D; document.getElementById(&#39;div1&#39;)
const div2 &#x3D; document.getElementById(&#39;div2&#39;)

&#x2F;&#x2F; 新建节点
const newP &#x3D; document.createElement(&#39;p&#39;)
newP.innerHTML &#x3D; &#39;this is new p&#39;

&#x2F;&#x2F; 插入节点
div1.appendChild(newP)

&#x2F;&#x2F; 移动节点
const p1 &#x3D; document.getElementsByTagName(&#39;p&#39;)[0]
div2.appendChild(p1)

&#x2F;&#x2F; 获取父元素
console.log(p1.parentNode)

&#x2F;&#x2F; 获取子元素列表
const div1ChildNodes &#x3D; div1.childNodes
console.log(&#39;div1ChildNodes&#39;, div1ChildNodes)

const div1ChildNodesP &#x3D; Array.from(div1ChildNodes).filter(child &#x3D;&gt; &#123;
	if(child.nodeType &#x3D;&#x3D;&#x3D; 1) &#123;
		return true;
	&#125;
	return false;
&#125;
console.log(&#39;div1ChildNodesP&#39;, div1ChildNodesP)

&#x2F;&#x2F; 删除节点
div1.removeChild(div1ChildNodesP[0])&#96; 

![](https:&#x2F;&#x2F;csdnimg.cn&#x2F;release&#x2F;blogv2&#x2F;dist&#x2F;pc&#x2F;img&#x2F;newCodeMoreBlack.png)

*   1
*   2
*   3
*   4
*   5
*   6
*   7
*   8
*   9
*   10
*   11
*   12
*   13
*   14
*   15
*   16
*   17
*   18
*   19
*   20
*   21
*   22
*   23
*   24
*   25
*   26
*   27
*   28
*   29
*   30
*   31

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="95-优化dom性能"><a class="markdownIt-Anchor" href="#95-优化dom性能">#</a> 9.5 优化 DOM 性能</h3>
<h4 id="951-对dom查询进行缓存"><a class="markdownIt-Anchor" href="#951-对dom查询进行缓存">#</a> 9.5.1 对 DOM 查询进行缓存</h4>
<p>不使用缓存 DOM 查询结果</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> document<span class="token punctuation">.</span><span class="token function">getELementsByTagName</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token comment">//	每次循环都会计算length，频繁进行DOM查询</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>缓存 DOM 查询结果</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> pList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getELementsByTagName</span><span class="token punctuation">(</span><span class="token string">'p'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> length <span class="token operator">=</span> pList<span class="token punctuation">.</span>length
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token comment">// 缓存length， 只进行一次DOM查询</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="952-将频繁操作改为一次性操作"><a class="markdownIt-Anchor" href="#952-将频繁操作改为一次性操作">#</a> 9.5.2 将频繁操作改为一次性操作</h4>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> listNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'list'</span><span class="token punctuation">)</span>
<span class="token comment">// 创建一个文档片段，此时还没有插入到DOM树中</span>
<span class="token keyword">const</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 执行插入操作</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span>
	li<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">"Iist Item "</span> <span class="token operator">+</span> i
	frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// 都完成后，再插入DOM树中</span>
listNode<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="10-bom"><a class="markdownIt-Anchor" href="#10-bom">#</a> 10. BOM</h2>
<ul>
<li>navigator</li>
<li>screen</li>
<li>location</li>
<li>history</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112258690">【BOM】JavaScript - 定时器 - 执行机制 - location-navigator-history</a></p>
<h3 id="101-检查浏览器类型"><a class="markdownIt-Anchor" href="#101-检查浏览器类型">#</a> 10.1 检查浏览器类型</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> ua <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent
<span class="token keyword">const</span> isChorme <span class="token operator">=</span> ua<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'Chrome'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>isChorme<span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="102-拆解url各个部分"><a class="markdownIt-Anchor" href="#102-拆解url各个部分">#</a> 10.2 拆解 URL 各个部分</h3>
<p>location<br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/20210710100415245.png" alt=""></p>
<h2 id="11-事件"><a class="markdownIt-Anchor" href="#11-事件">#</a> 11. 事件</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/112212622">【DOM】JavaScript - 事件高级 - 注册事件 - 事件流 - 事件对象 - 事件冒泡 - 委派 - 鼠标键盘事件</a></p>
<h3 id="111-事件绑定-冒泡-代理"><a class="markdownIt-Anchor" href="#111-事件绑定-冒泡-代理">#</a> 11.1 事件绑定、冒泡、代理</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'btn1'</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'clicked'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="112-写一个通用的事件绑定函数"><a class="markdownIt-Anchor" href="#112-写一个通用的事件绑定函数">#</a> 11.2 写一个通用的事件绑定函数</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">bindEvent</span><span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> fn<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getELementById</span><span class="token punctuation">(</span><span class="token string">'btn1'</span><span class="token punctuation">)</span>
<span class="token function">bindEvent</span><span class="token punctuation">(</span>btn1<span class="token punctuation">,</span>  <span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token comment">// 获取触发的元素</span>
	event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 阻止默认行为</span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'clicked'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>升级版【支持代理】</p>
<pre class="line-numbers language-none"><code class="language-none">&#96;function bindEvent(elem, type, selector, fn)&#123;
	if(fn &#x3D;&#x3D; null)&#123;
		fn &#x3D; selector
		selector &#x3D; null
	&#125;
	elem.addEventListener(type, event &#x3D;&gt; &#123;
		if(selector)&#123;
			&#x2F;&#x2F; 代理绑定 
			if (target.matches(selector))&#123;
				fn.call(target, event)
			&#125;
		&#125;else &#123;
			&#x2F;&#x2F; 普通绑定
			fn.call(target, event)
		&#125;
	&#125;)
&#125;

&#x2F;&#x2F; 普通绑定
const btn1 &#x3D; document.getELementById(&#39;btn1&#39;)
bindEvent(btn1, &#39;click&#39;, function(event) &#123;
	console.log(event.target) &#x2F;&#x2F; 获取触发的元素
	event.preventDefault() &#x2F;&#x2F; 阻止默认行为
	alert(this.innerHTML)
&#125;)

&#x2F;&#x2F; 代理绑定 [在a父节点div上绑定事件]
const div3 &#x3D; document.getElementById(&#39;div3&#39;)
bindEvent(div3, &#39;click&#39;, &#39;a&#39;, function(event) &#123;
	event.preventDefault()
	alert(this.innerHTML)
&#125;)&#96; 

![](https:&#x2F;&#x2F;csdnimg.cn&#x2F;release&#x2F;blogv2&#x2F;dist&#x2F;pc&#x2F;img&#x2F;newCodeMoreBlack.png)

*   1
*   2
*   3
*   4
*   5
*   6
*   7
*   8
*   9
*   10
*   11
*   12
*   13
*   14
*   15
*   16
*   17
*   18
*   19
*   20
*   21
*   22
*   23
*   24
*   25
*   26
*   27
*   28
*   29
*   30
*   31
*   32
*   33

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="113-描述事件冒泡过程"><a class="markdownIt-Anchor" href="#113-描述事件冒泡过程">#</a> 11.3 描述事件冒泡过程</h3>
<ul>
<li>基于 DOM 树形结构</li>
<li>事件会顺着触发元素往上冒泡</li>
<li>应用场景：事件代理</li>
</ul>
<h3 id="114-无限下拉的图片列表如何监听每个图片的点击"><a class="markdownIt-Anchor" href="#114-无限下拉的图片列表如何监听每个图片的点击">#</a> 11.4 无限下拉的图片列表，如何监听每个图片的点击</h3>
<ul>
<li>事件代理</li>
<li>用 <code>event.target</code>  获取触发元素</li>
<li>用 <code>matches</code>  来判断是否是触发元素</li>
</ul>
<h2 id="12-ajax"><a class="markdownIt-Anchor" href="#12-ajax">#</a> 12. AJAX</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113772348#comments_17323096">【Ajax】HTTP 相关问题 - GET-POST-XHR 使用 - jQuery 中的 ajax - 跨域 - 同源 - jsonp-cors</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/114368528">【axios】使用 json-server 搭建 REST API - 使用 axios - 自定义 axios - 取消请求 - 拦截器</a></p>
<h3 id="121-手写一个简单的ajax"><a class="markdownIt-Anchor" href="#121-手写一个简单的ajax">#</a> 12.1 手写一个简单的 ajax</h3>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">const</span> xhr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">'GET'</span><span class="token punctuation">,</span> url<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
		xhr<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
					<span class="token function">resolve</span><span class="token punctuation">(</span>
						<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">)</span>
					<span class="token punctuation">)</span>
				<span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>xhr<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
					<span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'404 not found'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span>
		<span class="token punctuation">&#125;</span>
		xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> p
<span class="token punctuation">&#125;</span>

<span class="token comment">// 使用</span>
<span class="token keyword">const</span> url <span class="token operator">=</span> <span class="token string">'/data/test.json'</span>
<span class="token function">ajax</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=></span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="122-跨域解决方案"><a class="markdownIt-Anchor" href="#122-跨域解决方案">#</a> 12.2 跨域解决方案</h3>
<p>浏览器中加载图片、css、js 可以无视同源策略</p>
<ul>
<li><code>&lt;img /&gt;</code>  可用于统计打点，可使用第三方服务</li>
<li><code>&lt;link /&gt;</code>   <code>&lt;script&gt;</code>  可以使用 CDN</li>
<li><code>&lt;script&gt;</code>  可以实现 JSONP</li>
</ul>
<p>所有跨域，都必须经过 server 端允许和配合<br>
未经 server 允许就实现跨域，说明浏览器有漏洞</p>
<ul>
<li>JSONP</li>
<li>CORS</li>
<li>代理</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/113772348#comments_17323096">【Ajax】HTTP 相关问题 - GET-POST-XHR 使用 - jQuery 中的 ajax - 跨域 - 同源 - jsonp-cors</a></p>
<h2 id="13-浏览器存储"><a class="markdownIt-Anchor" href="#13-浏览器存储">#</a> 13. 浏览器存储</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/118103017">【浏览器】浏览器存储 &amp; 缓存 - Cookie - localStorage - sessionStorage - IndexDB - Cache Storage - Application Cache</a></p>
<p>cookie</p>
<ul>
<li>本身用于浏览器和服务器通讯</li>
<li>存储大小最大 4KB</li>
<li>http 请求时需要发送到服务端，增加请求数据量</li>
<li>是能用 <code>document.cookie='...'</code>  来修改，太过简陋</li>
</ul>
<p>localStorage 和 sessionStorage</p>
<ul>
<li>HTML5 专门为存储设计，最大可存 5M</li>
<li>API 简单易用  <code>setItem</code>   <code>getItem</code></li>
<li>不会随着 HTTP 请求被发出去</li>
</ul>
<h2 id="14-页面加载"><a class="markdownIt-Anchor" href="#14-页面加载">#</a> 14. 页面加载</h2>
<h3 id="141-资源的形式"><a class="markdownIt-Anchor" href="#141-资源的形式">#</a> 14.1 资源的形式</h3>
<ul>
<li>HTML 代码</li>
<li>媒体文件，如图片、视频</li>
<li>JavaScript 代码 css 代码</li>
</ul>
<h3 id="142-从输入url到渲染出页面的整个过程"><a class="markdownIt-Anchor" href="#142-从输入url到渲染出页面的整个过程">#</a> 14.2 从输入 url 到渲染出页面的整个过程</h3>
<p>① 获取资源<br>
 DNS 域名解析：域名 ——&gt; IP 地址<br>
 TCP 三次握手建立连接<br>
浏览器根据 IP 地址向服务器发起 HTTP 请求<br>
服务器处理 HTTP 请求，并资源返回给浏览器</p>
<p>② 渲染页面<br>
浏览器根据 HTML 代码生成 DOM Tree<br>
 根据 CSS 代码生成 CSSOM<br>
 将 DOM Tree 和 CSSOM 整合成 渲染树 Render Tree<br>
 根据 Render Tree 渲染页面<br>
遇到 scrpit 标签 则暂停渲染，优先加载并执行 JS 代码，完成再继续<br>
直至把 Render Tree 渲染完成</p>
<h3 id="143-windowonload与domcontentloaded的区别"><a class="markdownIt-Anchor" href="#143-windowonload与domcontentloaded的区别">#</a> 14.3 window.onload 与 DOMContentLoaded 的区别</h3>
<p><code>window.onload</code>  资源全部加载完成才能执行，包括图片<br>
 <code>DOMContentLoaded</code>  DOM 渲染完成即可，图片可能尚未下载</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> img1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'img1'</span><span class="token punctuation">)</span>
img1<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'img loaded'</span><span class="token punctuation">)</span> <span class="token comment">// 2 </span>
<span class="token punctuation">&#125;</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'window loaded'</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'dom content loaded'</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="144-重绘与回流"><a class="markdownIt-Anchor" href="#144-重绘与回流">#</a> 14.4 重绘与回流</h3>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://raw.githubusercontent.com/HarryQu1229/image-host/main/notes-img/6c652a65076f48388b2d0f3b1efd6701.png" alt=""></p>
<p>重绘：当我们对 DOM 的修改导致了样式的变化、却并未影响其几何属性（比如修改了颜色或背景色）时，浏览器不需重新计算元素的几何属性、直接为该元素绘制新的样式（跳过了上图所示的回流环节）。</p>
<p>回流：当我们对 DOM 的修改引发了 DOM 几何尺寸的变化（比如修改元素的宽、高或隐藏元素等）时，浏览器需要重新计算元素的几何属性（其他元素的几何属性和位置也会因此受到影响），然后再将计算的结果绘制出来。这个过程就是回流（也叫重排）</p>
<h2 id="15-性能优化"><a class="markdownIt-Anchor" href="#15-性能优化">#</a> 15. 性能优化</h2>
<h3 id="151-前端常见性能优化方案"><a class="markdownIt-Anchor" href="#151-前端常见性能优化方案">#</a> 15.1 前端常见性能优化方案</h3>
<ol>
<li>思路</li>
</ol>
<ul>
<li>多使用内存、缓存或其他方法</li>
<li>减少 CPU 计算量，减少网络加载耗时</li>
<li>空间换时间</li>
</ul>
<ol start="2">
<li>加载优化</li>
</ol>
<ul>
<li>减少资源体积：压缩代码</li>
<li>减少访问次数：合并代码，SSR 服务端渲染、缓存</li>
<li>使用更快的网络：CDN</li>
</ul>
<ol start="3">
<li>渲染优化</li>
</ol>
<ul>
<li>CSS 放在 head，JS 放在 body 最下面</li>
<li>尽早开始执行 JS，用 DOMContentLoaded 触发</li>
<li>懒加载</li>
<li>对 DOM 查询进行缓存</li>
<li>频繁 DOM 操作，合并到一起插入 DOM 结构</li>
<li>节流与防抖</li>
</ul>
<h3 id="152-缓存"><a class="markdownIt-Anchor" href="#152-缓存">#</a> 15.2 缓存</h3>
<p>静态资源加 hash 后缀，根据文件内容计算 hash<br>
 文件内容不变，则 hash 不变，则 url 不变<br>
 url 和文件不变，就会自动触发 HTTP 缓存机制，返回 304</p>
<p>网络方面的缓存分为三块：DNS 缓存、HTTP 缓存、CDN 缓存， HTTP 缓存也称为浏览器缓存</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6993358764481085453">(建议收藏) 为什么第二次打开页面快？五步吃透前端缓存，让页面飞起</a></p>
<h3 id="153-ssr服务渲染"><a class="markdownIt-Anchor" href="#153-ssr服务渲染">#</a> 15.3 SSR 服务渲染</h3>
<p>将网页和数据一起加载，一起渲染<br>
非 SSR（前后端分离）：先加载网页，再加载数据 (ajax)，再渲染数据</p>
<h3 id="154-图片懒加载"><a class="markdownIt-Anchor" href="#154-图片懒加载">#</a> 15.4 图片懒加载</h3>
<p>先给一个小的预览图，判断到用户访问到当前位置，再加载高清</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>img1<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preview.png<span class="token punctuation">"</span></span> <span class="token attr-name">data-realsrc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>real.png<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span>
	let img1 = document.getElementById('img1')
	img1.src = img1.getAttribute('data-realsrc')
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="155-节流与防抖"><a class="markdownIt-Anchor" href="#155-节流与防抖">#</a> 15.5 节流与防抖</h3>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/115969534">【JS】函数节流与函数防抖 - 自定义 JS 工具类</a></p>
<h2 id="16-前端安全"><a class="markdownIt-Anchor" href="#16-前端安全">#</a> 16. 前端安全</h2>
<h3 id="161-xss-跨站请求攻击"><a class="markdownIt-Anchor" href="#161-xss-跨站请求攻击">#</a> 16.1 XSS 跨站请求攻击</h3>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903685122703367">前端安全系列（一）：如何防止 XSS 攻击？</a></p>
<h3 id="162-xsrf-跨站请求伪造"><a class="markdownIt-Anchor" href="#162-xsrf-跨站请求伪造">#</a> 16.2 XSRF 跨站请求伪造</h3>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844903689702866952">前端安全系列之二：如何防止 CSRF 攻击？</a></p>
<h2 id="17-算法刷题"><a class="markdownIt-Anchor" href="#17-算法刷题">#</a> 17. 算法刷题</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/115670939">【算法】经典排序算法总结 - JavaScript 描述 - 图解 - 复杂度分析</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/117390861">【LeetCode】经典题分类（数学 - 数组 - 字符串）精选 - JavaScript - ES6 - 技巧总结</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44972008/article/details/117857353">【LeetCode】经典题分类（链表 ）精选 - JavaScript - ES6 - 技巧总结</a></p>
<p>[【LeetCode】经典题分类（树 &amp; 图 ）精选 - JavaScript - ES6 - 技巧总结](</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Harry Qu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://harryqu1229.github.io/2022/02/25/JS%E9%9D%A2%E8%AF%95%E9%A2%98--YK%E8%8F%8C/">https://harryqu1229.github.io/2022/02/25/JS%E9%9D%A2%E8%AF%95%E9%A2%98--YK%E8%8F%8C/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/frontend/">frontend</a><a class="post-meta__tags" href="/tags/interview/">interview</a><a class="post-meta__tags" href="/tags/javascript/">javascript</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-621848f44e1c3724" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/02/25/%E4%B8%80%E4%BA%9B%E7%AE%97%E6%B3%95%E7%9A%84%E5%B0%8F%E6%80%BB%E7%BB%93/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/forest.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Algorithm and Data Structure interview summary notes</div></div></a></div><div class="next-post pull-right"><a href="/2022/02/25/%E4%B8%80%E4%BA%9B%E6%AF%94%E8%BE%83%E9%9A%BE%E7%9A%84promise%E9%9D%A2%E8%AF%95%E9%A2%98/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/statue.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Promise Interview Questions</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/02/21/js,css%E7%AD%89%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="css and JS Frontend Interview Quesitions"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/hello-world.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-21</div><div class="title">css and JS Frontend Interview Quesitions</div></div></a></div><div><a href="/2022/01/13/js%E4%B8%87%E5%AD%97%E6%80%BB%E7%BB%93/" title="Javascript 26k words Summary"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/sun.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-13</div><div class="title">Javascript 26k words Summary</div></div></a></div><div><a href="/2021/12/08/js%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E6%80%BB%E7%BB%93/" title="Javascript Interview Summary"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/cat.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-08</div><div class="title">Javascript Interview Summary</div></div></a></div><div><a href="/2022/01/01/20%E9%81%93%E5%A4%A7%E5%8E%82%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95%E9%A2%98/" title="20 Frontend Interview Quesitions"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/car.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">20 Frontend Interview Quesitions</div></div></a></div><div><a href="/2022/01/01/45%E9%81%93promise%E9%9D%A2%E8%AF%95%E9%A2%98/" title="45 Promise Frontend Interview Quesitions"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/cat.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">45 Promise Frontend Interview Quesitions</div></div></a></div><div><a href="/2022/01/01/30%E9%81%93vue%E9%9D%A2%E8%AF%95%E9%A2%98/" title="30 Vue Frontend Interview Quesitions"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/mountain2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-01</div><div class="title">30 Vue Frontend Interview Quesitions</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="comment-switch"><span class="first-comment">Disqus</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Harry Qu</div><div class="author-info__description">Software Engineering Student</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">158</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">84</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">57</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HarryQu1229"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.linkedin.com/in/harry-qu-a0a38220a" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://github.com/HarryQu1229" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Harryqu666@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="weixin://dl/chat?harry666ya" target="_blank" title="Wechat"><i class="fab fa-weixin"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">be healthy, stay safe</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-%E5%8F%98%E9%87%8F%E5%A3%B0%E6%98%8E%E4%B8%8E%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text"> 1. 变量声明与类型</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#11-var-let-const-%E5%8C%BA%E5%88%AB"><span class="toc-number">1.0.1.</span> <span class="toc-text"> 1.1 var let const 区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#12-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.2.</span> <span class="toc-text"> 1.2 数据类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#13-%E5%80%BC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.0.3.</span> <span class="toc-text"> 1.3 值类型与引用类型的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#14-typeof-%E8%83%BD%E5%88%A4%E6%96%AD%E5%93%AA%E4%BA%9B%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.0.4.</span> <span class="toc-text"> 1.4 typeof 能判断哪些类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.0.5.</span> <span class="toc-text"> 1.5 判断数据类型的方式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#16-%E4%B8%8E"><span class="toc-number">1.0.6.</span> <span class="toc-text"> 1.6  &#x3D;&#x3D;&#x3D;  与  &#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#17-truly%E5%8F%98%E9%87%8F%E4%B8%8Efalsely%E5%8F%98%E9%87%8F"><span class="toc-number">1.0.7.</span> <span class="toc-text"> 1.7 truly 变量与 falsely 变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#18-%E5%BC%BA%E5%88%B6%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2%E5%92%8C%E9%9A%90%E5%BC%8F%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2"><span class="toc-number">1.0.8.</span> <span class="toc-text"> 1.8 强制类型转换和隐式类型转换</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#19-%E8%AF%AD%E5%8F%A5%E4%B8%8E%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.0.9.</span> <span class="toc-text"> 1.9 语句与表达式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E6%95%B0%E7%BB%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3"><span class="toc-number">1.1.</span> <span class="toc-text"> 2. 数组字符串相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#21-%E6%89%8B%E5%86%99%E6%B7%B1%E6%8B%B7%E8%B4%9D"><span class="toc-number">1.1.1.</span> <span class="toc-text"> 2.1 手写深拷贝</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#22-%E6%89%8B%E5%86%99%E6%B7%B1%E5%BA%A6%E6%AF%94%E8%BE%83"><span class="toc-number">1.1.2.</span> <span class="toc-text"> 2.2 手写深度比较</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#23-%E6%95%B0%E7%BB%84%E7%9A%84api%E6%9C%89%E5%93%AA%E4%BA%9B%E6%98%AF%E7%BA%AF%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.3.</span> <span class="toc-text"> 2.3 数组的 API 有哪些是纯函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#24-split%E5%92%8Cjoin%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.4.</span> <span class="toc-text"> 2.4  split()  和 join()  的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#25-%E6%95%B0%E7%BB%84slice%E4%B8%8Esplice%E5%8C%BA%E5%88%AB"><span class="toc-number">1.1.5.</span> <span class="toc-text"> 2.5 数组 slice  与 splice  区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#26-%E6%89%8B%E5%86%99%E5%AD%97%E7%AC%A6%E4%B8%B2-trim"><span class="toc-number">1.1.6.</span> <span class="toc-text"> 2.6 手写字符串 trim</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%87%BD%E6%95%B0%E7%9B%B8%E5%85%B3"><span class="toc-number">1.2.</span> <span class="toc-text"> 3. 函数相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#31-%E5%87%BD%E6%95%B0%E5%A3%B0%E6%98%8E%E4%B8%8E%E5%87%BD%E6%95%B0%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text"> 3.1 函数声明与函数表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#32-%E4%BB%80%E4%B9%88%E6%98%AFjson"><span class="toc-number">1.2.2.</span> <span class="toc-text"> 3.2 什么是 JSON</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#33-%E5%B0%86url%E5%8F%82%E6%95%B0%E8%A7%A3%E6%9E%90%E6%88%90js%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.2.3.</span> <span class="toc-text"> 3.3 将 URL 参数解析成 JS 对象</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">1.3.</span> <span class="toc-text"> 4. 原型与原型链</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#41-%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8B%E5%8E%9F%E5%9E%8B%E4%B8%8E%E5%8E%9F%E5%9E%8B%E9%93%BE"><span class="toc-number">1.3.1.</span> <span class="toc-text"> 4.1 解释一下原型与原型链</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#42-class%E7%9A%84%E5%8E%9F%E5%9E%8B%E6%9C%AC%E8%B4%A8"><span class="toc-number">1.3.2.</span> <span class="toc-text"> 4.2 class 的原型本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#43-new-object-%E4%B8%8E-objectcreate%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.3.3.</span> <span class="toc-text"> 4.3 new Object () 与 Object.create () 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#44-%E7%94%A8class%E8%AF%AD%E6%B3%95%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84jquery"><span class="toc-number">1.3.4.</span> <span class="toc-text"> 4.4 用 class 语法写一个简单的 jQuery</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%B8%8E%E9%97%AD%E5%8C%85"><span class="toc-number">1.4.</span> <span class="toc-text"> 5. 作用域与闭包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#51-%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="toc-number">1.4.1.</span> <span class="toc-text"> 5.1 作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#52-this%E4%B8%8D%E5%90%8C%E5%9C%BA%E6%99%AF%E4%B8%8B%E5%A6%82%E4%BD%95%E5%8F%96%E5%80%BC"><span class="toc-number">1.4.2.</span> <span class="toc-text"> 5.2 this 不同场景下如何取值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#53-%E6%89%8B%E5%86%99bind"><span class="toc-number">1.4.3.</span> <span class="toc-text"> 5.3 手写 bind</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#54-%E9%97%AD%E5%8C%85"><span class="toc-number">1.4.4.</span> <span class="toc-text"> 5.4 闭包</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#55-%E9%97%AD%E5%8C%85%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">1.4.5.</span> <span class="toc-text"> 5.5 闭包的应用场景</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-es6%E6%96%B0%E7%89%B9%E6%80%A7"><span class="toc-number">1.5.</span> <span class="toc-text"> 6. ES6 新特性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E5%BC%82%E6%AD%A5%E7%9B%B8%E5%85%B3"><span class="toc-number">1.6.</span> <span class="toc-text"> 7. 异步相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#71-%E5%90%8C%E6%AD%A5%E4%B8%8E%E5%BC%82%E6%AD%A5%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.1.</span> <span class="toc-text"> 7.1 同步与异步的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#72-%E5%89%8D%E7%AB%AF%E4%BD%BF%E7%94%A8%E5%BC%82%E6%AD%A5%E7%9A%84%E5%9C%BA%E6%99%AF"><span class="toc-number">1.6.2.</span> <span class="toc-text"> 7.2 前端使用异步的场景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#73-promise%E7%9A%84%E4%B8%89%E7%A7%8D%E7%8A%B6%E6%80%81"><span class="toc-number">1.6.3.</span> <span class="toc-text"> 7.3 Promise 的三种状态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#74-promise%E7%9A%84then%E5%92%8Ccatch"><span class="toc-number">1.6.4.</span> <span class="toc-text"> 7.4 promise 的 then 和 catch</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#75-%E6%89%8B%E5%86%99promise%E5%8A%A0%E8%BD%BD%E5%9B%BE%E7%89%87"><span class="toc-number">1.6.5.</span> <span class="toc-text"> 7.5 手写 promise 加载图片</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#76-asyncawait%E4%B8%8Epromise"><span class="toc-number">1.6.6.</span> <span class="toc-text"> 7.6 async&#x2F;await 与 Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#77-%E5%AD%97%E8%8A%82%E9%9D%A2%E8%AF%95%E7%9C%8B%E4%BB%A3%E7%A0%81%E9%A2%98"><span class="toc-number">1.6.7.</span> <span class="toc-text"> 7.7 字节面试看代码题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#78-for-of-%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF-%E5%BC%82%E6%AD%A5"><span class="toc-number">1.6.8.</span> <span class="toc-text"> 7.8 for-of 的应用场景 【异步】</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-event-loop"><span class="toc-number">1.7.</span> <span class="toc-text"> 8. Event Loop</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#81-%E5%AE%8F%E4%BB%BB%E5%8A%A1macrotask%E4%B8%8E%E5%BE%AE%E4%BB%BB%E5%8A%A1microtask"><span class="toc-number">1.7.1.</span> <span class="toc-text"> 8.1 宏任务 macroTask 与微任务 microTask</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#82-event-loop%E6%9C%BA%E5%88%B6"><span class="toc-number">1.7.2.</span> <span class="toc-text"> 8.2 Event Loop 机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#83-event-loop%E7%BB%83%E4%B9%A0"><span class="toc-number">1.7.3.</span> <span class="toc-text"> 8.3 event loop 练习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-dom"><span class="toc-number">1.8.</span> <span class="toc-text"> 9. DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#91-%E8%8E%B7%E5%8F%96%E8%8A%82%E7%82%B9%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.1.</span> <span class="toc-text"> 9.1 获取节点操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#92-%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7-attribute"><span class="toc-number">1.8.2.</span> <span class="toc-text"> 9.2 标签属性 attribute</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#93-%E5%AF%B9%E8%B1%A1%E5%B1%9E%E6%80%A7-property"><span class="toc-number">1.8.3.</span> <span class="toc-text"> 9.3 对象属性 property</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#94-dom%E7%BB%93%E6%9E%84%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.4.</span> <span class="toc-text"> 9.4 DOM 结构操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#95-%E4%BC%98%E5%8C%96dom%E6%80%A7%E8%83%BD"><span class="toc-number">1.8.5.</span> <span class="toc-text"> 9.5 优化 DOM 性能</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#951-%E5%AF%B9dom%E6%9F%A5%E8%AF%A2%E8%BF%9B%E8%A1%8C%E7%BC%93%E5%AD%98"><span class="toc-number">1.8.5.1.</span> <span class="toc-text"> 9.5.1 对 DOM 查询进行缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#952-%E5%B0%86%E9%A2%91%E7%B9%81%E6%93%8D%E4%BD%9C%E6%94%B9%E4%B8%BA%E4%B8%80%E6%AC%A1%E6%80%A7%E6%93%8D%E4%BD%9C"><span class="toc-number">1.8.5.2.</span> <span class="toc-text"> 9.5.2 将频繁操作改为一次性操作</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-bom"><span class="toc-number">1.9.</span> <span class="toc-text"> 10. BOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#101-%E6%A3%80%E6%9F%A5%E6%B5%8F%E8%A7%88%E5%99%A8%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.9.1.</span> <span class="toc-text"> 10.1 检查浏览器类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#102-%E6%8B%86%E8%A7%A3url%E5%90%84%E4%B8%AA%E9%83%A8%E5%88%86"><span class="toc-number">1.9.2.</span> <span class="toc-text"> 10.2 拆解 URL 各个部分</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E4%BA%8B%E4%BB%B6"><span class="toc-number">1.10.</span> <span class="toc-text"> 11. 事件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#111-%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A-%E5%86%92%E6%B3%A1-%E4%BB%A3%E7%90%86"><span class="toc-number">1.10.1.</span> <span class="toc-text"> 11.1 事件绑定、冒泡、代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#112-%E5%86%99%E4%B8%80%E4%B8%AA%E9%80%9A%E7%94%A8%E7%9A%84%E4%BA%8B%E4%BB%B6%E7%BB%91%E5%AE%9A%E5%87%BD%E6%95%B0"><span class="toc-number">1.10.2.</span> <span class="toc-text"> 11.2 写一个通用的事件绑定函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#113-%E6%8F%8F%E8%BF%B0%E4%BA%8B%E4%BB%B6%E5%86%92%E6%B3%A1%E8%BF%87%E7%A8%8B"><span class="toc-number">1.10.3.</span> <span class="toc-text"> 11.3 描述事件冒泡过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#114-%E6%97%A0%E9%99%90%E4%B8%8B%E6%8B%89%E7%9A%84%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8%E5%A6%82%E4%BD%95%E7%9B%91%E5%90%AC%E6%AF%8F%E4%B8%AA%E5%9B%BE%E7%89%87%E7%9A%84%E7%82%B9%E5%87%BB"><span class="toc-number">1.10.4.</span> <span class="toc-text"> 11.4 无限下拉的图片列表，如何监听每个图片的点击</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-ajax"><span class="toc-number">1.11.</span> <span class="toc-text"> 12. AJAX</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#121-%E6%89%8B%E5%86%99%E4%B8%80%E4%B8%AA%E7%AE%80%E5%8D%95%E7%9A%84ajax"><span class="toc-number">1.11.1.</span> <span class="toc-text"> 12.1 手写一个简单的 ajax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#122-%E8%B7%A8%E5%9F%9F%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.11.2.</span> <span class="toc-text"> 12.2 跨域解决方案</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E6%B5%8F%E8%A7%88%E5%99%A8%E5%AD%98%E5%82%A8"><span class="toc-number">1.12.</span> <span class="toc-text"> 13. 浏览器存储</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E9%A1%B5%E9%9D%A2%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.13.</span> <span class="toc-text"> 14. 页面加载</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#141-%E8%B5%84%E6%BA%90%E7%9A%84%E5%BD%A2%E5%BC%8F"><span class="toc-number">1.13.1.</span> <span class="toc-text"> 14.1 资源的形式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#142-%E4%BB%8E%E8%BE%93%E5%85%A5url%E5%88%B0%E6%B8%B2%E6%9F%93%E5%87%BA%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%95%B4%E4%B8%AA%E8%BF%87%E7%A8%8B"><span class="toc-number">1.13.2.</span> <span class="toc-text"> 14.2 从输入 url 到渲染出页面的整个过程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#143-windowonload%E4%B8%8Edomcontentloaded%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.13.3.</span> <span class="toc-text"> 14.3 window.onload 与 DOMContentLoaded 的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#144-%E9%87%8D%E7%BB%98%E4%B8%8E%E5%9B%9E%E6%B5%81"><span class="toc-number">1.13.4.</span> <span class="toc-text"> 14.4 重绘与回流</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.14.</span> <span class="toc-text"> 15. 性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#151-%E5%89%8D%E7%AB%AF%E5%B8%B8%E8%A7%81%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88"><span class="toc-number">1.14.1.</span> <span class="toc-text"> 15.1 前端常见性能优化方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#152-%E7%BC%93%E5%AD%98"><span class="toc-number">1.14.2.</span> <span class="toc-text"> 15.2 缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#153-ssr%E6%9C%8D%E5%8A%A1%E6%B8%B2%E6%9F%93"><span class="toc-number">1.14.3.</span> <span class="toc-text"> 15.3 SSR 服务渲染</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#154-%E5%9B%BE%E7%89%87%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="toc-number">1.14.4.</span> <span class="toc-text"> 15.4 图片懒加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#155-%E8%8A%82%E6%B5%81%E4%B8%8E%E9%98%B2%E6%8A%96"><span class="toc-number">1.14.5.</span> <span class="toc-text"> 15.5 节流与防抖</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8"><span class="toc-number">1.15.</span> <span class="toc-text"> 16. 前端安全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#161-xss-%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E6%94%BB%E5%87%BB"><span class="toc-number">1.15.1.</span> <span class="toc-text"> 16.1 XSS 跨站请求攻击</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#162-xsrf-%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0"><span class="toc-number">1.15.2.</span> <span class="toc-text"> 16.2 XSRF 跨站请求伪造</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-%E7%AE%97%E6%B3%95%E5%88%B7%E9%A2%98"><span class="toc-number">1.16.</span> <span class="toc-text"> 17. 算法刷题</span></a></li></ol></li></ol></div></div><div class="card-widget card-map"><div class="card-content"><div class="item-headline"><i class="fa fa-globe-asia" aria-hidden="true"></i><span>Visitor Map</span></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=4LA950xi3DtQgUHPlkO0mo-n_QgrcOu-1BIiVpExg7k"></script></div></div><div class="card-widget card-pixiv"><div class="card-content"><div class="item-headline"><i class="fa fa-image" aria-hidden="true"></i><span>Pixiv Top50</span><iframe src="https://cloud.mokeyjay.com/pixiv" frameborder="0" style="width:99%;height:380px;margin:0;"></iframe></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/28/Maven/" title="My Maven notes"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/hello-world.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="My Maven notes"/></a><div class="content"><a class="title" href="/2022/07/28/Maven/" title="My Maven notes">My Maven notes</a><time datetime="2022-07-27T12:00:00.000Z" title="Created 2022-07-28 00:00:00">2022-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/25/nodejs/" title="Nodejs notes"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/town.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nodejs notes"/></a><div class="content"><a class="title" href="/2022/07/25/nodejs/" title="Nodejs notes">Nodejs notes</a><time datetime="2022-07-24T12:00:00.000Z" title="Created 2022-07-25 00:00:00">2022-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/12/%E7%AE%97%E6%B3%95%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/" title="My ultimate data structure and algorithm guide"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/statue.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="My ultimate data structure and algorithm guide"/></a><div class="content"><a class="title" href="/2022/06/12/%E7%AE%97%E6%B3%95%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/" title="My ultimate data structure and algorithm guide">My ultimate data structure and algorithm guide</a><time datetime="2022-06-11T12:00:00.000Z" title="Created 2022-06-12 00:00:00">2022-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="Design Patterns"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/home.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Design Patterns"/></a><div class="content"><a class="title" href="/2022/06/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="Design Patterns">Design Patterns</a><time datetime="2022-06-11T12:00:00.000Z" title="Created 2022-06-12 00:00:00">2022-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/" title="Design Patterns - Factory Method"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/home.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Design Patterns - Factory Method"/></a><div class="content"><a class="title" href="/2022/06/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/" title="Design Patterns - Factory Method">Design Patterns - Factory Method</a><time datetime="2022-06-10T12:00:00.000Z" title="Created 2022-06-11 00:00:00">2022-06-11</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Harry Qu</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://harryqu1229.github.io/2022/02/25/JS%E9%9D%A2%E8%AF%95%E9%A2%98--YK%E8%8F%8C/'
    this.page.identifier = '2022/02/25/JS面试题--YK菌/'
    this.page.title = 'some JS Frontend Interview Quesitions'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://harry-study-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '5df1e915e0fa867b50de',
      clientSecret: 'ce1cb793fe49078ee9d0102d3326d0d50ff6937b',
      repo: 'blog-comments-storage',
      owner: 'HarryQu1229',
      admin: ['HarryQu1229'],
      id: '10b87cefe08296e94890db508e558bfb',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Disqus' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[image]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[link]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[code]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=harry-study-blog&related=thread&limit=6&api_key=B5XFmdGuVaYDW7OIBakffpXoKorvphwRiwONIol4puEtr8YiwYAMAk2K7QcExNLY')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "Unable to get the data, please make sure the settings are correct."
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'No Comment'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="2809513713" data-server="netease" data-type="playlist" data-autoplay="false" data-fixed="true" data-order="random" data-theme="#e9ccd3"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="255,255,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>((window.gitter = {}).chat = {}).options = {
  disableDefaultChat: true,
};
document.addEventListener('gitter-sidecar-ready', (e) => {
  const GitterChat = e.detail.Chat
  let chat

  function initGitter () {
    chat = new GitterChat({
      room: 'HarryStudyBlog/community',
      activationElement: '#chat_btn'
    });
  }

  initGitter()

  if (true) {
    document.addEventListener('pjax:complete', () => {
      chat.destroy()
      initGitter()
    })
  }

})</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="async" defer="defer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v3.8.2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":300,"height":450},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>