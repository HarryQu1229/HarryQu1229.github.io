<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>Java Style Guide | Harry Blog</title><meta name="keywords" content="standard,java style guide"><meta name="author" content="Harry Qu"><meta name="copyright" content="Harry Qu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="# Java Style Guide The intention of this guide is to provide a set of conventions that encourage good code. It is the distillation of many combined man-years of software engineering and Java developme">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Style Guide">
<meta property="og:url" content="https://harryqu1229.github.io/2022/02/26/styleguide/index.html">
<meta property="og:site_name" content="Harry Blog">
<meta property="og:description" content="# Java Style Guide The intention of this guide is to provide a set of conventions that encourage good code. It is the distillation of many combined man-years of software engineering and Java developme">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://harryqu1229.github.io/img/default-covers/mountain.jpg">
<meta property="article:published_time" content="2022-02-25T11:00:00.000Z">
<meta property="article:modified_time" content="2022-06-12T01:15:29.168Z">
<meta property="article:author" content="Harry Qu">
<meta property="article:tag" content="standard">
<meta property="article:tag" content="java style guide">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://harryqu1229.github.io/img/default-covers/mountain.jpg"><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://harryqu1229.github.io/2022/02/26/styleguide/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  translate: undefined,
  noticeOutdate: {"limitDay":100,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'mediumZoom',
  Snackbar: {"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#C78550","bgDark":"#c08eaf","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Java Style Guide',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-06-12 13:15:29'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><style type="text/css">.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><!-- hexo injector head_end start --><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-footer-beautify@1.0.0/lib/runtime.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">Loading...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">158</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">84</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">57</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('data:image/png;base64,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')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">Harry Blog</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-graduation-cap"></i><span> Journey</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> Hobbies</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/Music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/Photos/"><i class="fa-fw fas fa-images"></i><span> Photos</span></a></li><li><a class="site-page child" href="/Movies/"><i class="fa-fw fas fa-video"></i><span> Movies</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Links</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Java Style Guide</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-02-25T11:00:00.000Z" title="Created 2022-02-26 00:00:00">2022-02-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-06-12T01:15:29.168Z" title="Updated 2022-06-12 13:15:29">2022-06-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Standard/">Standard</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">5.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>34min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Java Style Guide"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="java-style-guide"><a class="markdownIt-Anchor" href="#java-style-guide">#</a> Java Style Guide</h1>
<p>The intention of this guide is to provide a set of conventions that encourage good code.<br>
It is the distillation of many combined man-years of software engineering and Java development<br>
experience.  While some suggestions are more strict than others, you should always practice good<br>
judgement.</p>
<p>If following the guide causes unnecessary hoop-jumping or otherwise less-readable code,<br>
<em>readability trumps the guide</em>.  However, if the more ‘readable’ variant comes with<br>
perils or pitfalls, readability may be sacrificed.</p>
<p>In general, much of our style and conventions mirror the<br>
<a target="_blank" rel="noopener" href="http://www.oracle.com/technetwork/java/codeconvtoc-136057.html">Code Conventions for the Java Programming Language</a><br>
and <a target="_blank" rel="noopener" href="https://google.github.io/styleguide/javaguide.html">Google’s Java Style Guide</a>.</p>
<h2 id="table-of-contents"><a class="markdownIt-Anchor" href="#table-of-contents">#</a> Table of contents</h2>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#recommended-reading">Recommended reading</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#coding-style">Coding style</a>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#formatting">Formatting</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#field-class-and-method-declarations">Field, class, and method declarations</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#variable-naming">Variable naming</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#space-pad-operators-and-equals">Space pad operators and equals</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#be-explicit-about-operator-precedence">Be explicit about operator precedence</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#documentation">Documentation</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#imports">Imports</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#use-annotations-wisely">Use annotations wisely</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#use-interfaces">Use interfaces</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#writing-testable-code">Writing testable code</a>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#fakes-and-mocks">Fakes and mocks</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#let-your-callers-construct-support-objects">Let your callers construct support objects</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#testing-multithreaded-code">Testing multithreaded code</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#testing-antipatterns">Testing antipatterns</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#avoid-randomness-in-tests">Avoid randomness in tests</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#best-practices">Best practices</a>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#defensive-programming">Defensive programming</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#clean-code">Clean code</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#use-newerbetter-libraries">Use newer/better libraries</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#equals-and-hashcode">equals() and hashCode()</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#premature-optimization-is-the-root-of-all-evil">Premature optimization is the root of all evil</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#todos">TODOs</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#obey-the-law-of-demeter-lod">Obey the Law of Demeter</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#dont-repeat-yourself-dry">Don’t Repeat Yourself</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#manage-threads-properly">Manage threads properly</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#avoid-unnecessary-code">Avoid unnecessary code</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/styleguide.md#the-fast-implementation">The ‘fast’ implementation</a></li>
</ul>
</li>
</ul>
<h2 id="recommended-reading"><a class="markdownIt-Anchor" href="#recommended-reading">#</a> Recommended reading</h2>
<ul>
<li>
<p><a target="_blank" rel="noopener" href="http://www.amazon.com/Effective-Java-Edition-Joshua-Bloch/dp/0321356683">Effective Java</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://jcip.net/">Java Concurrency in Practice</a></p>
</li>
<li>
<p><a target="_blank" rel="noopener" href="http://www.stevemcconnell.com/cc.htm">Code Complete 2</a><br /><br>
Not java-specific, but a good handbook for programming best-practices.</p>
</li>
</ul>
<h2 id="coding-style"><a class="markdownIt-Anchor" href="#coding-style">#</a> Coding style</h2>
<h3 id="formatting"><a class="markdownIt-Anchor" href="#formatting">#</a> Formatting</h3>
<h4 id="use-line-breaks-wisely"><a class="markdownIt-Anchor" href="#use-line-breaks-wisely">#</a> Use line breaks wisely</h4>
<p>There are generally two reasons to insert a line break:</p>
<ol>
<li>
<p>Your statement exceeds the column limit.</p>
</li>
<li>
<p>You want to logically separate a thought.<br /><br>
Writing code is like telling a story.  Written language constructs like chapters, paragraphs,<br>
and punctuation (e.g. semicolons, commas, periods, hyphens) convey thought hierarchy and<br>
separation.  We have similar constructs in programming languages; you should use them to your<br>
advantage to effectively tell the story to those reading the code.</p>
</li>
</ol>
<h4 id="indent-style"><a class="markdownIt-Anchor" href="#indent-style">#</a> Indent style</h4>
<p>We use the “one true brace style” (<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Indent_style#Variant:_1TBS">1TBS</a>).<br>
Indent size is 2 columns.</p>
<pre><code>:::java
// Like this.
if (x &lt; 0) &#123;
  negative(x);
&#125; else &#123;
  nonnegative(x);
&#125;

// Not like this.
if (x &lt; 0)
  negative(x);

// Also not like this.
if (x &lt; 0) negative(x);
</code></pre>
<p>Continuation indent is 4 columns.  Nested continuations may add 4 columns or 2 at each level.</p>
<pre><code>:::java
// Bad.
//   - Line breaks are arbitrary.
//   - Scanning the code makes it difficult to piece the message together.
throw new IllegalStateException(&quot;Failed to process request&quot; + request.getId()
    + &quot; for user &quot; + user.getId() + &quot; query: '&quot; + query.getText()
    + &quot;'&quot;);

// Good.
//   - Each component of the message is separate and self-contained.
//   - Adding or removing a component of the message requires minimal reformatting.
throw new IllegalStateException(&quot;Failed to process&quot;
    + &quot; request &quot; + request.getId()
    + &quot; for user &quot; + user.getId()
    + &quot; query: '&quot; + query.getText() + &quot;'&quot;);
</code></pre>
<p>Don’t break up a statement unnecessarily.</p>
<pre><code>:::java
// Bad.
final String value =
    otherValue;

// Good.
final String value = otherValue;
</code></pre>
<p>Method declaration continuations.</p>
<pre><code>:::java
// Sub-optimal since line breaks are arbitrary and only filling lines.
String downloadAnInternet(Internet internet, Tubes tubes,
    Blogosphere blogs, Amount&lt;Long, Data&gt; bandwidth) &#123;
  tubes.download(internet);
  ...
&#125;

// Acceptable.
String downloadAnInternet(Internet internet, Tubes tubes, Blogosphere blogs,
    Amount&lt;Long, Data&gt; bandwidth) &#123;
  tubes.download(internet);
  ...
&#125;

// Nicer, as the extra newline gives visual separation to the method body.
String downloadAnInternet(Internet internet, Tubes tubes, Blogosphere blogs,
    Amount&lt;Long, Data&gt; bandwidth) &#123;

  tubes.download(internet);
  ...
&#125;

// Also acceptable, but may be awkward depending on the column depth of the opening parenthesis.
public String downloadAnInternet(Internet internet,
                                 Tubes tubes,
                                 Blogosphere blogs,
                                 Amount&lt;Long, Data&gt; bandwidth) &#123;
  tubes.download(internet);
  ...
&#125;

// Preferred for easy scanning and extra column space.
public String downloadAnInternet(
    Internet internet,
    Tubes tubes,
    Blogosphere blogs,
    Amount&lt;Long, Data&gt; bandwidth) &#123;

  tubes.download(internet);
  ...
&#125;
</code></pre>
<h5 id="chained-method-calls"><a class="markdownIt-Anchor" href="#chained-method-calls">#</a> Chained method calls</h5>
<pre><code>:::java
// Bad.
//   - Line breaks are based on line length, not logic.
Iterable&lt;Module&gt; modules = ImmutableList.&lt;Module&gt;builder().add(new LifecycleModule())
    .add(new AppLauncherModule()).addAll(application.getModules()).build();

// Better.
//   - Calls are logically separated.
//   - However, the trailing period logically splits a statement across two lines.
Iterable&lt;Module&gt; modules = ImmutableList.&lt;Module&gt;builder().
    add(new LifecycleModule()).
    add(new AppLauncherModule()).
    addAll(application.getModules()).
    build();

// Good.
//   - Method calls are isolated to a line.
//   - The proper location for a new method call is unambiguous.
Iterable&lt;Module&gt; modules = ImmutableList.&lt;Module&gt;builder()
    .add(new LifecycleModule())
    .add(new AppLauncherModule())
    .addAll(application.getModules())
    .build();
</code></pre>
<h4 id="no-tabs"><a class="markdownIt-Anchor" href="#no-tabs">#</a> No tabs</h4>
<p>An oldie, but goodie.  We’ve found tab characters to cause more harm than good.</p>
<h4 id="100-column-limit"><a class="markdownIt-Anchor" href="#100-column-limit">#</a> 100 column limit</h4>
<p>You should follow the convention set by the body of code you are working with.<br>
We tend to use 100 columns for a balance between fewer continuation lines but still easily<br>
fitting two editor tabs side-by-side on a reasonably-high resolution display.</p>
<h4 id="camelcase-for-types-camelcase-for-variables-upper_snake-for-constants"><a class="markdownIt-Anchor" href="#camelcase-for-types-camelcase-for-variables-upper_snake-for-constants">#</a> CamelCase for types, camelCase for variables, UPPER_SNAKE for constants</h4>
<h4 id="no-trailing-whitespace"><a class="markdownIt-Anchor" href="#no-trailing-whitespace">#</a> No trailing whitespace</h4>
<p>Trailing whitespace characters, while logically benign, add nothing to the program.<br>
However, they do serve to frustrate developers when using keyboard shortcuts to navigate code.</p>
<h3 id="field-class-and-method-declarations"><a class="markdownIt-Anchor" href="#field-class-and-method-declarations">#</a> Field, class, and method declarations</h3>
<h5 id="modifier-order"><a class="markdownIt-Anchor" href="#modifier-order">#</a> Modifier order</h5>
<p>We follow the <a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/specs/">Java Language Specification</a> for modifier<br>
ordering (sections<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.1.1">8.1.1</a>,<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.3.1">8.3.1</a> and<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/specs/jls/se7/html/jls-8.html#jls-8.4.3">8.4.3</a>).</p>
<pre><code>:::java
// Bad.
final volatile private String value;

// Good.
private final volatile String value;
</code></pre>
<h3 id="variable-naming"><a class="markdownIt-Anchor" href="#variable-naming">#</a> Variable naming</h3>
<h4 id="extremely-short-variable-names-should-be-reserved-for-instances-like-loop-indices"><a class="markdownIt-Anchor" href="#extremely-short-variable-names-should-be-reserved-for-instances-like-loop-indices">#</a> Extremely short variable names should be reserved for instances like loop indices.</h4>
<pre><code>:::java
// Bad.
//   - Field names give little insight into what fields are used for.
class User &#123;
  private final int a;
  private final String m;

  ...
&#125;

// Good.
class User &#123;
  private final int ageInYears;
  private final String maidenName;

  ...
&#125;
</code></pre>
<h4 id="include-units-in-variable-names"><a class="markdownIt-Anchor" href="#include-units-in-variable-names">#</a> Include units in variable names</h4>
<pre><code>:::java
// Bad.
long pollInterval;
int fileSize;

// Good.
long pollIntervalMs;
int fileSizeGb.

// Better.
//   - Unit is built in to the type.
//   - The field is easily adaptable between units, readability is high.
Amount&lt;Long, Time&gt; pollInterval;
Amount&lt;Integer, Data&gt; fileSize;
</code></pre>
<h4 id="dont-embed-metadata-in-variable-names"><a class="markdownIt-Anchor" href="#dont-embed-metadata-in-variable-names">#</a> Don’t embed metadata in variable names</h4>
<p>A variable name should describe the variable’s purpose.  Adding extra information like scope and<br>
type is generally a sign of a bad variable name.</p>
<p>Avoid embedding the field type in the field name.</p>
<pre><code>:::java
// Bad.
Map&lt;Integer, User&gt; idToUserMap;
String valueString;

// Good.
Map&lt;Integer, User&gt; usersById;
String value;
</code></pre>
<p>Also avoid embedding scope information in a variable.  Hierarchy-based naming suggests that a class<br>
is too complex and should be broken apart.</p>
<pre><code>:::java
// Bad.
String _value;
String mValue;

// Good.
String value;
</code></pre>
<h3 id="space-pad-operators-and-equals"><a class="markdownIt-Anchor" href="#space-pad-operators-and-equals">#</a> Space pad operators and equals.</h3>
<pre><code>:::java
// Bad.
//   - This offers poor visual separation of operations.
int foo=a+b+1;

// Good.
int foo = a + b + 1;
</code></pre>
<h3 id="be-explicit-about-operator-precedence"><a class="markdownIt-Anchor" href="#be-explicit-about-operator-precedence">#</a> Be explicit about operator precedence</h3>
<p>Don’t make your reader open the<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/tutorial/java/nutsandbolts/operators.html">spec</a> to confirm,<br>
if you expect a specific operation ordering, make it obvious with parenthesis.</p>
<pre><code>:::java
// Bad.
return a &lt;&lt; 8 * n + 1 | 0xFF;

// Good.
return (a &lt;&lt; (8 * n) + 1) | 0xFF;
</code></pre>
<p>It’s even good to be <em>really</em> obvious.</p>
<pre><code>:::java
if ((values != null) &amp;&amp; (10 &gt; values.size())) &#123;
  ...
&#125;
</code></pre>
<h3 id="documentation"><a class="markdownIt-Anchor" href="#documentation">#</a> Documentation</h3>
<p>The more visible a piece of code is (and by extension - the farther away consumers might be),<br>
the more documentation is needed.</p>
<h4 id="im-writing-a-report-about"><a class="markdownIt-Anchor" href="#im-writing-a-report-about">#</a> “I’m writing a report about…”</h4>
<p>Your elementary school teacher was right - you should never start a statement this way.<br>
Likewise, you shouldn’t write documentation this way.</p>
<pre><code>:::java
// Bad.
/**
 * This is a class that implements a cache.  It does caching for you.
 */
class Cache &#123;
  ...
&#125;

// Good.
/**
 * A volatile storage for objects based on a key, which may be invalidated and discarded.
 */
class Cache &#123;
  ...
&#125;
</code></pre>
<h4 id="documenting-a-class"><a class="markdownIt-Anchor" href="#documenting-a-class">#</a> Documenting a class</h4>
<p>Documentation for a class may range from a single sentence<br>
to paragraphs with code examples. Documentation should serve to disambiguate any conceptual<br>
blanks in the API, and make it easier to quickly and <em>correctly</em> use your API.<br>
A thorough class doc usually has a one sentence summary and, if necessary,<br>
a more detailed explanation.</p>
<pre><code>:::java
/**
 * An RPC equivalent of a unix pipe tee.  Any RPC sent to the tee input is guaranteed to have
 * been sent to both tee outputs before the call returns.
 *
 * @param &lt;T&gt; The type of the tee'd service.
 */
public class RpcTee&lt;T&gt; &#123;
  ...
&#125;
</code></pre>
<h4 id="documenting-a-method"><a class="markdownIt-Anchor" href="#documenting-a-method">#</a> Documenting a method</h4>
<p>A method doc should tell what the method <em>does</em>.  Depending on the argument types, it may<br>
also be important to document input format.</p>
<pre><code>:::java
// Bad.
//   - The doc tells nothing that the method declaration didn't.
//   - This is the 'filler doc'.  It would pass style checks, but doesn't help anybody.
/**
 * Splits a string.
 *
 * @param s A string.
 * @return A list of strings.
 */
List&lt;String&gt; split(String s);

// Better.
//   - We know what the method splits on.
//   - Still some undefined behavior.
/**
 * Splits a string on whitespace.
 *
 * @param s The string to split.  An &#123;@code null&#125; string is treated as an empty string.
 * @return A list of the whitespace-delimited parts of the input.
 */
List&lt;String&gt; split(String s);

// Great.
//   - Covers yet another edge case.
/**
 * Splits a string on whitespace.  Repeated whitespace characters are collapsed.
 *
 * @param s The string to split.  An &#123;@code null&#125; string is treated as an empty string.
 * @return A list of the whitespace-delimited parts of the input.
 */
List&lt;String&gt; split(String s);
</code></pre>
<h4 id="be-professional"><a class="markdownIt-Anchor" href="#be-professional">#</a> Be professional</h4>
<p>We’ve all encountered frustration when dealing with other libraries, but ranting about it doesn’t<br>
do you any favors.  Suppress the expletives and get to the point.</p>
<pre><code>:::java
// Bad.
// I hate xml/soap so much, why can't it do this for me!?
try &#123;
  userId = Integer.parseInt(xml.getField(&quot;id&quot;));
&#125; catch (NumberFormatException e) &#123;
  ...
&#125;

// Good.
// TODO(Jim): Tuck field validation away in a library.
try &#123;
  userId = Integer.parseInt(xml.getField(&quot;id&quot;));
&#125; catch (NumberFormatException e) &#123;
  ...
&#125;
</code></pre>
<h4 id="dont-document-overriding-methods-usually"><a class="markdownIt-Anchor" href="#dont-document-overriding-methods-usually">#</a> Don’t document overriding methods (usually)</h4>
<pre><code>:::java
interface Database &#123;
  /**
   * Gets the installed version of the database.
   *
   * @return The database version identifier.
   */
  String getVersion();
&#125;

// Bad.
//   - Overriding method doc doesn't add anything.
class PostgresDatabase implements Database &#123;
  /**
   * Gets the installed version of the database.
   *
   * @return The database version identifier.
   */
  @Override
  public String getVersion() &#123;
    ...
  &#125;
&#125;

// Good.
class PostgresDatabase implements Database &#123;
  @Override
  public int getVersion();
&#125;

// Great.
//   - The doc explains how it differs from or adds to the interface doc.
class TwitterDatabase implements Database &#123;
  /**
   * Semantic version number.
   *
   * @return The database version in semver format.
   */
  @Override
  public String getVersion() &#123;
    ...
  &#125;
&#125;
</code></pre>
<h4 id="use-javadoc-features"><a class="markdownIt-Anchor" href="#use-javadoc-features">#</a> Use javadoc features</h4>
<h5 id="no-author-tags"><a class="markdownIt-Anchor" href="#no-author-tags">#</a> No author tags</h5>
<p>Code can change hands numerous times in its lifetime, and quite often the original author of a<br>
source file is irrelevant after several iterations.  We find it’s better to trust commit<br>
history and  <code>OWNERS</code>  files to determine ownership of a body of code.</p>
<h3 id="imports"><a class="markdownIt-Anchor" href="#imports">#</a> Imports</h3>
<h4 id="import-ordering"><a class="markdownIt-Anchor" href="#import-ordering">#</a> Import ordering</h4>
<p>Imports are grouped by top-level package, with blank lines separating groups.  Static imports are<br>
grouped in the same way, in a section below traditional imports.</p>
<pre><code>:::java
import java.*
import javax.*

import scala.*

import com.*

import net.*

import org.*

import com.twitter.*

import static *
</code></pre>
<h4 id="no-wildcard-imports"><a class="markdownIt-Anchor" href="#no-wildcard-imports">#</a> No wildcard imports</h4>
<p>Wildcard imports make the source of an imported class less clear.  They also tend to hide a high<br>
class <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Coupling_(computer_programming)#Module_coupling">fan-out</a>.<br /><br>
<em>See also <a href="#stay-out-of-texas">texas imports</a></em></p>
<pre><code>:::java
// Bad.
//   - Where did Foo come from?
import com.twitter.baz.foo.*;
import com.twitter.*;

interface Bar extends Foo &#123;
  ...
&#125;

// Good.
import com.twitter.baz.foo.BazFoo;
import com.twitter.Foo;

interface Bar extends Foo &#123;
  ...
&#125;
</code></pre>
<h3 id="use-annotations-wisely"><a class="markdownIt-Anchor" href="#use-annotations-wisely">#</a> Use annotations wisely</h3>
<h4 id="nullable"><a class="markdownIt-Anchor" href="#nullable">#</a> @Nullable</h4>
<p>By default - disallow  <code>null</code> .  When a variable, parameter, or method return value may be  <code>null</code> ,<br>
be explicit about it by marking<br>
<a target="_blank" rel="noopener" href="http://code.google.com/p/jsr-305/source/browse/trunk/ri/src/main/java/javax/annotation/Nullable.java?r=24">@Nullable</a>.<br>
This is advisable even for fields/methods with private visibility.</p>
<pre><code>:::java
class Database &#123;
  @Nullable private Connection connection;

  @Nullable
  Connection getConnection() &#123;
    return connection;
  &#125;

  void setConnection(@Nullable Connection connection) &#123;
    this.connection = connection;
  &#125;
&#125;
</code></pre>
<h4 id="visiblefortesting"><a class="markdownIt-Anchor" href="#visiblefortesting">#</a> @VisibleForTesting</h4>
<p>Sometimes it makes sense to hide members and functions in general, but they may still be required<br>
for good test coverage.  It’s usually preferred to make these package-private and tag with<br>
<a target="_blank" rel="noopener" href="http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/annotations/VisibleForTesting.html">@VisibleForTesting</a><br>
to indicate the purpose for visibility.</p>
<p>Constants are a great example of things that are frequently exposed in this way.</p>
<pre><code>:::java
// Bad.
//   - Any adjustments to field names need to be duplicated in the test.
class ConfigReader &#123;
  private static final String USER_FIELD = &quot;user&quot;;

  Config parseConfig(String configData) &#123;
    ...
  &#125;
&#125;
public class ConfigReaderTest &#123;
  @Test
  public void testParseConfig() &#123;
    ...
    assertEquals(expectedConfig, reader.parseConfig(&quot;&#123;user: bob&#125;&quot;));
  &#125;
&#125;

// Good.
//   - The test borrows directly from the same constant.
class ConfigReader &#123;
  @VisibleForTesting static final String USER_FIELD = &quot;user&quot;;

  Config parseConfig(String configData) &#123;
    ...
  &#125;
&#125;
public class ConfigReaderTest &#123;
  @Test
  public void testParseConfig() &#123;
    ...
    assertEquals(expectedConfig,
        reader.parseConfig(String.format(&quot;&#123;%s: bob&#125;&quot;, ConfigReader.USER_FIELD)));
  &#125;
&#125;
</code></pre>
<h3 id="use-interfaces"><a class="markdownIt-Anchor" href="#use-interfaces">#</a> Use interfaces</h3>
<p>Interfaces decouple functionality from implementation, allowing you to use multiple implementations<br>
without changing consumers.<br>
Interfaces are a great way to isolate packages - provide a set of interfaces, and keep your<br>
implementations package private.</p>
<p>Many small interfaces can seem heavyweight, since you end up with a large number of source files.<br>
Consider the pattern below as an alternative.</p>
<pre><code>:::java
interface FileFetcher &#123;
  File getFile(String name);

  // All the benefits of an interface, with little source management overhead.
  // This is particularly useful when you only expect one implementation of an interface.
  static class HdfsFileFetcher implements FileFetcher &#123;
    @Override File getFile(String name) &#123;
      ...
    &#125;
  &#125;
&#125;
</code></pre>
<h4 id="leverage-or-extend-existing-interfaces"><a class="markdownIt-Anchor" href="#leverage-or-extend-existing-interfaces">#</a> Leverage or extend existing interfaces</h4>
<p>Sometimes an existing interface allows your class to easily ‘plug in’ to other related classes.<br>
This leads to highly <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Cohesion_(computer_science)">cohesive</a> code.</p>
<pre><code>:::java
// An unfortunate lack of consideration.  Anyone who wants to interact with Blobs will need to
// write specific glue code.
class Blobs &#123;
  byte[] nextBlob() &#123;
    ...
  &#125;
&#125;

// Much better.  Now the caller can easily adapt this to standard collections, or do more
// complex things like filtering.
class Blobs implements Iterable&lt;byte[]&gt; &#123;
  @Override
  Iterator&lt;byte[]&gt; iterator() &#123;
    ...
  &#125;
&#125;
</code></pre>
<p>Warning - don’t bend the definition of an existing interface to make this work.  If the interface<br>
doesn’t conceptually apply cleanly, it’s best to avoid this.</p>
<h2 id="writing-testable-code"><a class="markdownIt-Anchor" href="#writing-testable-code">#</a> Writing testable code</h2>
<p>Writing unit tests doesn’t have to be hard.  You can make it easy for yourself if you keep<br>
testability in mind while designing your classes and interfaces.</p>
<h3 id="fakes-and-mocks"><a class="markdownIt-Anchor" href="#fakes-and-mocks">#</a> Fakes and mocks</h3>
<p>When testing a class, you often need to provide some kind of canned functionality as a replacement<br>
for real-world behavior.  For example, rather than fetching a row from a real database, you have<br>
a test row that you want to return.  This is most commonly performed with a fake object or a mock<br>
object.  While the difference sounds subtle, mocks have major benefits over fakes.</p>
<pre><code>:::java
class RpcClient &#123;
  RpcClient(HttpTransport transport) &#123;
    ...
  &#125;
&#125;

// Bad.
//   - Our test has little control over method call order and frequency.
//   - We need to be careful that changes to HttpTransport don't disable FakeHttpTransport.
//   - May require a significant amount of code.
class FakeHttpTransport extends HttpTransport &#123;
  @Override
  void writeBytes(byte[] bytes) &#123;
    ...
  &#125;

  @Override
  byte[] readBytes() &#123;
    ...
  &#125;
&#125;

public class RpcClientTest &#123;
  private RpcClient client;
  private FakeHttpTransport transport;

  @Before
  public void setUp() &#123;
    transport = new FakeHttpTransport();
    client = new RpcClient(transport);
  &#125;

  ...
&#125;

interface Transport &#123;
  void writeBytes(byte[] bytes);
  byte[] readBytes();
&#125;

class RpcClient &#123;
  RpcClient(Transport transport) &#123;
    ...
  &#125;
&#125;

// Good.
//   - We can mock the interface and have very fine control over how it is expected to be used.
public class RpcClientTest &#123;
  private RpcClient client;
  private Transport transport;

  @Before
  public void setUp() &#123;
    transport = EasyMock.createMock(Transport.class);
    client = new RpcClient(transport);
  &#125;

  ...
&#125;
</code></pre>
<h3 id="let-your-callers-construct-support-objects"><a class="markdownIt-Anchor" href="#let-your-callers-construct-support-objects">#</a> Let your callers construct support objects</h3>
<pre><code>:::java
// Bad.
//   - A unit test needs to manage a temporary file on disk to test this class.
class ConfigReader &#123;
  private final InputStream configStream;
  ConfigReader(String fileName) throws IOException &#123;
    this.configStream = new FileInputStream(fileName);
  &#125;
&#125;

// Good.
//   - Testing this class is as easy as using ByteArrayInputStream with a String.
class ConfigReader &#123;
  private final InputStream configStream;
  ConfigReader(InputStream configStream)&#123;
    this.configStream = checkNotNull(configStream);
  &#125;
&#125;
</code></pre>
<h3 id="testing-multithreaded-code"><a class="markdownIt-Anchor" href="#testing-multithreaded-code">#</a> Testing multithreaded code</h3>
<p>Testing code that uses multiple threads is notoriously hard.  When approached carefully, however,<br>
it can be accomplished without deadlocks or unnecessary time-wait statements.</p>
<p>If you are testing code that needs to perform periodic background tasks<br>
(such as with a<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html">ScheduledExecutorService</a>),<br>
consider mocking the service and/or manually triggering the tasks from your tests, and<br>
avoiding the actual scheduling.<br>
If you are testing code that submits tasks to an<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html">ExecutorService</a>,<br>
you might consider allowing the executor to be injected, and supplying a<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html#newSingleThreadExecutor()">single-thread executor</a> in tests.</p>
<p>In cases where multiple threads are inevitable,<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html">java.util.concurrent</a><br>
provides some useful libraries to help manage lock-step execution.</p>
<p>For example,<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/LinkedBlockingDeque.html">LinkedBlockingDeque</a><br>
can provide synchronization between producer and consumer when an asynchronous operation is<br>
performed.<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html">CountDownLatch</a><br>
is useful for state/operation synchronization when a queue does not apply.</p>
<h3 id="testing-antipatterns"><a class="markdownIt-Anchor" href="#testing-antipatterns">#</a> Testing antipatterns</h3>
<h4 id="time-dependence"><a class="markdownIt-Anchor" href="#time-dependence">#</a> Time-dependence</h4>
<p>Code that captures real wall time can be difficult to test repeatably, especially when time deltas<br>
are meaningful.  Therefore, try to avoid  <code>new Date()</code> ,  <code>System.currentTimeMillis()</code> , and<br>
 <code>System.nanoTime()</code> .  A suitable replacement for these is<br>
<a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/util/Clock.java">Clock</a>; using<br>
<a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/util/Clock.java#L32">Clock.SYSTEM_CLOCK</a><br>
when running normally, and<br>
<a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/util/testing/FakeClock.java">FakeClock</a><br>
in tests.</p>
<h4 id="the-hidden-stress-test"><a class="markdownIt-Anchor" href="#the-hidden-stress-test">#</a> The hidden stress test</h4>
<p>Avoid writing unit tests that attempt to verify a certain amount of performance.  This type of<br>
testing should be handled separately, and run in a more controlled environment than unit tests<br>
typically are.</p>
<h4 id="threadsleep"><a class="markdownIt-Anchor" href="#threadsleep">#</a> Thread.sleep()</h4>
<p>Sleeping is rarely warranted, especially in test code.  Sleeping is expressing an expectation that<br>
something else is happening while the executing thread is suspended.  This quickly leads to<br>
brittleness; for example if the background thread was not scheduled while you were sleeping.</p>
<p>Sleeping in tests is also bad because it sets a firm lower bound on how fast tests can execute.<br>
No matter how fast the machine is, a test that sleeps for one second can never execute in less than<br>
one second.  Over time, this leads to very long test execution cycles.</p>
<h3 id="avoid-randomness-in-tests"><a class="markdownIt-Anchor" href="#avoid-randomness-in-tests">#</a> Avoid randomness in tests</h3>
<p>Using random values may seem like a good idea in a test, as it allows you to cover more test cases<br>
with less code.  The problem is that you lose control over which test cases you’re covering.  When<br>
you do encounter a test failure, it may be difficult to reproduce.  Pseudorandom input with a fixed<br>
seed is slightly better, but in practice rarely improves test coverage.  In general it’s better to<br>
use fixed input data that exercises known edge cases.</p>
<h2 id="best-practices"><a class="markdownIt-Anchor" href="#best-practices">#</a> Best practices</h2>
<h3 id="defensive-programming"><a class="markdownIt-Anchor" href="#defensive-programming">#</a> Defensive programming</h3>
<h4 id="avoid-assert"><a class="markdownIt-Anchor" href="#avoid-assert">#</a> Avoid assert</h4>
<p>We avoid the assert statement since it can be<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/technotes/guides/language/assert.html#enable-disable">disabled</a><br>
at execution time, and prefer to enforce these types of invariants at all times.</p>
<p><em>See also <a href="#preconditions">preconditions</a></em></p>
<h4 id="preconditions"><a class="markdownIt-Anchor" href="#preconditions">#</a> Preconditions</h4>
<p>Preconditions checks are a good practice, since they serve as a well-defined barrier against bad<br>
input from callers.  As a convention, object parameters to public constructors and methods should<br>
always be checked against null, unless null is explicitly allowed.</p>
<p><em>See also <a href="#be-wary-of-null">be wary of null</a>, <a href="#nullable">@Nullable</a></em></p>
<pre><code>:::java
// Bad.
//   - If the file or callback are null, the problem isn't noticed until much later.
class AsyncFileReader &#123;
  void readLater(File file, Closure&lt;String&gt; callback) &#123;
    scheduledExecutor.schedule(new Runnable() &#123;
      @Override public void run() &#123;
        callback.execute(readSync(file));
      &#125;
    &#125;, 1L, TimeUnit.HOURS);
  &#125;
&#125;

// Good.
class AsyncFileReader &#123;
  void readLater(File file, Closure&lt;String&gt; callback) &#123;
    checkNotNull(file);
    checkArgument(file.exists() &amp;&amp; file.canRead(), &quot;File must exist and be readable.&quot;);
    checkNotNull(callback);

    scheduledExecutor.schedule(new Runnable() &#123;
      @Override public void run() &#123;
        callback.execute(readSync(file));
      &#125;
    &#125;, 1L, TimeUnit.HOURS);
  &#125;
&#125;
</code></pre>
<h4 id="minimize-visibility"><a class="markdownIt-Anchor" href="#minimize-visibility">#</a> Minimize visibility</h4>
<p>In a class API, you should support access to any methods and fields that you make accessible.<br>
Therefore, only expose what you intend the caller to use.  This can be imperative when<br>
writing thread-safe code.</p>
<pre><code>:::java
public class Parser &#123;
  // Bad.
  //   - Callers can directly access and mutate, possibly breaking internal assumptions.
  public Map&lt;String, String&gt; rawFields;

  // Bad.
  //   - This is probably intended to be an internal utility function.
  public String readConfigLine() &#123;
    ..
  &#125;
&#125;

// Good.
//   - rawFields and the utility function are hidden
//   - The class is package-private, indicating that it should only be accessed indirectly.
class Parser &#123;
  private final Map&lt;String, String&gt; rawFields;

  private String readConfigLine() &#123;
    ..
  &#125;
&#125;
</code></pre>
<h4 id="favor-immutability"><a class="markdownIt-Anchor" href="#favor-immutability">#</a> Favor immutability</h4>
<p>Mutable objects carry a burden - you need to make sure that those who are <em>able</em> to mutate it are<br>
not violating expectations of other users of the object, and that it’s even safe for them to modify.</p>
<pre><code>:::java
// Bad.
//   - Anyone with a reference to User can modify the user's birthday.
//   - Calling getAttributes() gives mutable access to the underlying map.
public class User &#123;
  public Date birthday;
  private final Map&lt;String, String&gt; attributes = Maps.newHashMap();

  ...

  public Map&lt;String, String&gt; getAttributes() &#123;
    return attributes;
  &#125;
&#125;

// Good.
public class User &#123;
  private final Date birthday;
  private final Map&lt;String, String&gt; attributes = Maps.newHashMap();

  ...

  public Map&lt;String, String&gt; getAttributes() &#123;
    return ImmutableMap.copyOf(attributes);
  &#125;

  // If you realize the users don't need the full map, you can avoid the map copy
  // by providing access to individual members.
  @Nullable
  public String getAttribute(String attributeName) &#123;
    return attributes.get(attributeName);
  &#125;
&#125;
</code></pre>
<h4 id="be-wary-of-null"><a class="markdownIt-Anchor" href="#be-wary-of-null">#</a> Be wary of null</h4>
<p>Use  <code>@Nullable</code>  where prudent, but favor<br>
<a target="_blank" rel="noopener" href="http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/base/Optional.html">Optional</a><br>
over  <code>@Nullable</code> .   <code>Optional</code>  provides better semantics around absence of a value.</p>
<h4 id="clean-up-with-finally"><a class="markdownIt-Anchor" href="#clean-up-with-finally">#</a> Clean up with finally</h4>
<pre><code>:::java
FileInputStream in = null;
try &#123;
  ...
&#125; catch (IOException e) &#123;
  ...
&#125; finally &#123;
  Closeables.closeQuietly(in);
&#125;
</code></pre>
<p>Even if there are no checked exceptions, there are still cases where you should use try/finally<br>
to guarantee resource symmetry.</p>
<pre><code>:::java
// Bad.
//   - Mutex is never unlocked.
mutex.lock();
throw new NullPointerException();
mutex.unlock();

// Good.
mutex.lock();
try &#123;
  throw new NullPointerException();
&#125; finally &#123;
  mutex.unlock();
&#125;

// Bad.
//   - Connection is not closed if sendMessage throws.
if (receivedBadMessage) &#123;
  conn.sendMessage(&quot;Bad request.&quot;);
  conn.close();
&#125;

// Good.
if (receivedBadMessage) &#123;
  try &#123;
    conn.sendMessage(&quot;Bad request.&quot;);
  &#125; finally &#123;
    conn.close();
  &#125;
&#125;
</code></pre>
<h3 id="clean-code"><a class="markdownIt-Anchor" href="#clean-code">#</a> Clean code</h3>
<h4 id="disambiguate"><a class="markdownIt-Anchor" href="#disambiguate">#</a> Disambiguate</h4>
<p>Favor readability - if there’s an ambiguous and unambiguous route, always favor unambiguous.</p>
<pre><code>:::java
// Bad.
//   - Depending on the font, it may be difficult to discern 1001 from 100l.
long count = 100l + n;

// Good.
long count = 100L + n;
</code></pre>
<h4 id="remove-dead-code"><a class="markdownIt-Anchor" href="#remove-dead-code">#</a> Remove dead code</h4>
<p>Delete unused code (imports, fields, parameters, methods, classes).  They will only rot.</p>
<h4 id="use-general-types"><a class="markdownIt-Anchor" href="#use-general-types">#</a> Use general types</h4>
<p>When declaring fields and methods, it’s better to use general types whenever possible.<br>
This avoids implementation detail leak via your API, and allows you to change the types used<br>
internally without affecting users or peripheral code.</p>
<pre><code>:::java
// Bad.
//   - Implementations of Database must match the ArrayList return type.
//   - Changing return type to Set&lt;User&gt; or List&lt;User&gt; could break implementations and users.
interface Database &#123;
  ArrayList&lt;User&gt; fetchUsers(String query);
&#125;

// Good.
//   - Iterable defines the minimal functionality required of the return.
interface Database &#123;
  Iterable&lt;User&gt; fetchUsers(String query);
&#125;
</code></pre>
<h4 id="always-use-type-parameters"><a class="markdownIt-Anchor" href="#always-use-type-parameters">#</a> Always use type parameters</h4>
<p>Java 5 introduced support for<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/tutorial/java/generics/index.html">generics</a>. This added type<br>
parameters to collection types, and allowed users to implement their own type-parameterized classes.<br>
Backwards compatibility and<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/tutorial/java/generics/erasure.html">type erasure</a> mean that<br>
type parameters are optional, however depending on usage they do result in compiler warnings.</p>
<p>We conventionally include type parameters on every declaration where the type is parameterized.<br>
Even if the type is unknown, it’s preferable to include a wildcard or wide type.</p>
<h4 id="stay-out-of-texas"><a class="markdownIt-Anchor" href="#stay-out-of-texas">#</a> Stay out of <a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Texas-sized">Texas</a></h4>
<p>Try to keep your classes bite-sized and with clearly-defined responsibilities.  This can be<br>
<em>really</em> hard as a program evolves.</p>
<ul>
<li>texas imports</li>
<li>texas constructors: Can the class be cleanly broken apart?<br /><br>
If not, consider builder pattern.</li>
<li>texas methods</li>
</ul>
<p>We could do some science and come up with a statistics-driven threshold for each of these, but it<br>
probably wouldn’t be very useful.  This is usually just a gut instinct, and these are traits<br>
of classes that are too large or complex and should be broken up.</p>
<h4 id="avoid-typecasting"><a class="markdownIt-Anchor" href="#avoid-typecasting">#</a> Avoid typecasting</h4>
<p>Typecasting is a sign of poor class design, and can often be avoided.  An obvious exception here is<br>
overriding<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#equals(java.lang.Object)">equals</a>.</p>
<h4 id="use-final-fields"><a class="markdownIt-Anchor" href="#use-final-fields">#</a> Use final fields</h4>
<p><em>See also <a href="#favor-immutability">favor immutability</a></em></p>
<p>Final fields are useful because they declare that a field may not be reassigned.  When it comes to<br>
checking for thread-safety, a final field is one less thing that needs to be checked.</p>
<h4 id="avoid-mutable-static-state"><a class="markdownIt-Anchor" href="#avoid-mutable-static-state">#</a> Avoid mutable static state</h4>
<p>Mutable static state is rarely necessary, and causes loads of problems when present.  A very simple<br>
case that mutable static state complicates is unit testing.  Since unit tests runs are typically in<br>
a single VM, static state will persist through all test cases.  In general, mutable static state is<br>
a sign of poor class design.</p>
<h4 id="exceptions"><a class="markdownIt-Anchor" href="#exceptions">#</a> Exceptions</h4>
<h5 id="catch-narrow-exceptions"><a class="markdownIt-Anchor" href="#catch-narrow-exceptions">#</a> Catch narrow exceptions</h5>
<p>Sometimes when using try/catch blocks, it may be tempting to just  <code>catch Exception</code> ,  <code>Error</code> ,<br>
or  <code>Throwable</code>  so you don’t have to worry about what type was thrown.  This is usually a bad idea,<br>
as you can end up catching more than you really wanted to deal with.  For example,<br>
 <code>catch Exception</code>  would capture  <code>NullPointerException</code> , and  <code>catch Throwable</code>  would capture<br>
 <code>OutOfMemoryError</code> .</p>
<pre><code>:::java
// Bad.
//   - If a RuntimeException happens, the program continues rather than aborting.
try &#123;
  storage.insertUser(user);
&#125; catch (Exception e) &#123;
  LOG.error(&quot;Failed to insert user.&quot;);
&#125;

try &#123;
  storage.insertUser(user);
&#125; catch (StorageException e) &#123;
  LOG.error(&quot;Failed to insert user.&quot;);
&#125;
</code></pre>
<h5 id="dont-swallow-exceptions"><a class="markdownIt-Anchor" href="#dont-swallow-exceptions">#</a> Don’t swallow exceptions</h5>
<p>An empty  <code>catch</code>  block is usually a bad idea, as you have no signal of a problem.  Coupled with<br>
<a href="#catch-narrow-exceptions">narrow exception</a> violations, it’s a recipe for disaster.</p>
<h5 id="when-interrupted-reset-thread-interrupted-state"><a class="markdownIt-Anchor" href="#when-interrupted-reset-thread-interrupted-state">#</a> When interrupted, reset thread interrupted state</h5>
<p>Many blocking operations throw<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/lang/InterruptedException.html">InterruptedException</a><br>
so that you may be awaken for events like a JVM shutdown.  When catching  <code>InterruptedException</code> ,<br>
it is good practice to ensure that the thread interrupted state is preserved.</p>
<p>IBM has a good <a target="_blank" rel="noopener" href="http://www.ibm.com/developerworks/java/library/j-jtp05236/index.html">article</a> on<br>
this topic.</p>
<pre><code>:::java
// Bad.
//   - Surrounding code (or higher-level code) has no idea that the thread was interrupted.
try &#123;
  lock.tryLock(1L, TimeUnit.SECONDS)
&#125; catch (InterruptedException e) &#123;
  LOG.info(&quot;Interrupted while doing x&quot;);
&#125;

// Good.
//   - Interrupted state is preserved.
try &#123;
  lock.tryLock(1L, TimeUnit.SECONDS)
&#125; catch (InterruptedException e) &#123;
  LOG.info(&quot;Interrupted while doing x&quot;);
  Thread.currentThread().interrupt();
&#125;
</code></pre>
<h5 id="throw-appropriate-exception-types"><a class="markdownIt-Anchor" href="#throw-appropriate-exception-types">#</a> Throw appropriate exception types</h5>
<p>Let your API users obey <a href="#catch-narrow-exceptions">catch narrow exceptions</a>, don’t throw Exception.<br>
Even if you are calling another naughty API that throws Exception, at least hide that so it doesn’t<br>
bubble up even further.  You should also make an effort to hide implementation details from your<br>
callers when it comes to exceptions.</p>
<pre><code>:::java
// Bad.
//   - Caller is forced to catch Exception, trapping many unnecessary types of issues.
interface DataStore &#123;
  String fetchValue(String key) throws Exception;
&#125;

// Better.
//   - The interface leaks details about one specific implementation.
interface DataStore &#123;
  String fetchValue(String key) throws SQLException, UnknownHostException;
&#125;

// Good.
//   - A custom exception type insulates the user from the implementation.
//   - Different implementations aren't forced to abuse irrelevant exception types.
interface DataStore &#123;
  String fetchValue(String key) throws StorageException;

  static class StorageException extends Exception &#123;
    ...
  &#125;
&#125;
</code></pre>
<h3 id="use-newerbetter-libraries"><a class="markdownIt-Anchor" href="#use-newerbetter-libraries">#</a> Use newer/better libraries</h3>
<h4 id="stringbuilder-over-stringbuffer"><a class="markdownIt-Anchor" href="#stringbuilder-over-stringbuffer">#</a> StringBuilder over StringBuffer</h4>
<p><a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html">StringBuffer</a> is thread-safe,<br>
which is rarely needed.</p>
<h4 id="scheduledexecutorservice-over-timer"><a class="markdownIt-Anchor" href="#scheduledexecutorservice-over-timer">#</a> ScheduledExecutorService over Timer</h4>
<p>Drawing from <a href="#recommended-reading">Java Concurrency in Practice</a> (directly borrowed from<br>
a stackoverflow<br>
<a target="_blank" rel="noopener" href="http://stackoverflow.com/questions/409932/java-timer-vs-executorservice">question</a>).</p>
<ul>
<li>
<p><code>Timer</code>  can be sensitive to changes in the system clock,  <code>ScheduledThreadPoolExecutor</code>  is not</p>
</li>
<li>
<p><code>Timer</code>  has only one execution thread, so long-running task can delay other tasks.</p>
</li>
<li>
<p><code>ScheduledThreadPoolExecutor</code>  can be configured with multiple threads and a  <code>ThreadFactory</code> <br /><br>
<em>See <a href="#manage-threads-properly">manage threads properly</a></em></p>
</li>
<li>
<p>Exceptions thrown in  <code>TimerTask</code>  kill the thread, rendering the  <code>Timer</code>  ineffective.</p>
</li>
<li>
<p>ThreadPoolExecutor provides  <code>afterExceute</code>  so you can explicitly handle execution results.</p>
</li>
</ul>
<h4 id="list-over-vector"><a class="markdownIt-Anchor" href="#list-over-vector">#</a> List over Vector</h4>
<p><code>Vector</code>  is synchronized, which is often unneeded.  When synchronization is desirable,<br>
a <a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#synchronizedList(java.util.List)">synchronized list</a><br>
can usually serve as a drop-in replacement for  <code>Vector</code> .</p>
<h3 id="equals-and-hashcode"><a class="markdownIt-Anchor" href="#equals-and-hashcode">#</a> equals() and hashCode()</h3>
<p>If you override one, you must implement both.<br>
<em>See the equals/hashCode<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()">contract</a></em></p>
<p>[Objects.equal()](<a target="_blank" rel="noopener" href="http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/base/Objects.html#equal">http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/base/Objects.html#equal</a>(java.lang.Object, java.lang.Object))<br>
and<br>
<a target="_blank" rel="noopener" href="http://docs.guava-libraries.googlecode.com/git-history/v11.0.2/javadoc/com/google/common/base/Objects.html#hashCode(java.lang.Object...)">Objects.hashCode()</a><br>
make it very easy to follow these contracts.</p>
<h3 id="premature-optimization-is-the-root-of-all-evil"><a class="markdownIt-Anchor" href="#premature-optimization-is-the-root-of-all-evil">#</a> Premature optimization is the root of all evil.</h3>
<p>Donald Knuth is a smart guy, and he had a few things to<br>
<a target="_blank" rel="noopener" href="http://c2.com/cgi/wiki?PrematureOptimization">say</a> on the topic.</p>
<p>Unless you have strong evidence that an optimization is necessary, it’s usually best to implement<br>
the un-optimized version first (possibly leaving notes about where optimizations could be made).</p>
<p>So before you spend a week writing your memory-mapped compressed huffman-encoded hashmap, use the<br>
stock stuff first and <em>measure</em>.</p>
<h3 id="todos"><a class="markdownIt-Anchor" href="#todos">#</a> TODOs</h3>
<h4 id="leave-todos-early-and-often"><a class="markdownIt-Anchor" href="#leave-todos-early-and-often">#</a> Leave TODOs early and often</h4>
<p>A TODO isn’t a bad thing - it’s signaling a future developer (possibly yourself) that a<br>
consideration was made, but omitted for various reasons.  It can also serve as a useful signal when<br>
debugging.</p>
<h4 id="leave-no-todo-unassigned"><a class="markdownIt-Anchor" href="#leave-no-todo-unassigned">#</a> Leave no TODO unassigned</h4>
<p>TODOs should have owners, otherwise they are unlikely to ever be resolved.</p>
<pre><code>:::java
// Bad.
//   - TODO is unassigned.
// TODO: Implement request backoff.

// Good.
// TODO(George Washington): Implement request backoff.
</code></pre>
<h4 id="adopt-todos"><a class="markdownIt-Anchor" href="#adopt-todos">#</a> Adopt TODOs</h4>
<p>You should adopt an orphan if the owner has left the company/project, or if you make<br>
modifications to the code directly related to the TODO topic.</p>
<h3 id="obey-the-law-of-demeter-lod"><a class="markdownIt-Anchor" href="#obey-the-law-of-demeter-lod">#</a> Obey the Law of Demeter (<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Law_of_Demeter">LoD</a>)</h3>
<p>The Law of Demeter is most obviously violated by breaking the<br>
<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Law_of_Demeter#In_object-oriented_programming">one dot rule</a>, but<br>
there are other code structures that lead to violations of the spirit of the law.</p>
<h4 id="in-classes"><a class="markdownIt-Anchor" href="#in-classes">#</a> In classes</h4>
<p>Take what you need, nothing more.  This often relates to <a href="#stay-out-of-texas">texas constructors</a><br>
but it can also hide in constructors or methods that take few parameters.  The key idea is<br>
to defer assembly to the layers of the code that know enough to assemble and instead just<br>
take the minimal interface you need to get your work done.</p>
<pre><code>:::java
// Bad.
//   - Weigher uses hosts and port only to immediately construct another object.
class Weigher &#123;
  private final double defaultInitialRate;

  Weigher(Iterable&lt;String&gt; hosts, int port, double defaultInitialRate) &#123;
    this.defaultInitialRate = validateRate(defaultInitialRate);
    this.weightingService = createWeightingServiceClient(hosts, port);
  &#125;
&#125;

// Good.
class Weigher &#123;
  private final double defaultInitialRate;

  Weigher(WeightingService weightingService, double defaultInitialRate) &#123;
    this.defaultInitialRate = validateRate(defaultInitialRate);
    this.weightingService = checkNotNull(weightingService);
  &#125;
&#125;
</code></pre>
<p>If you want to provide a convenience constructor, a factory method or an external factory<br>
in the form of a builder you still can, but by making the fundamental constructor of a<br>
Weigher only take the things it actually uses it becomes easier to unit-test and adapt as<br>
the system involves.</p>
<h4 id="in-methods"><a class="markdownIt-Anchor" href="#in-methods">#</a> In methods</h4>
<p>If a method has multiple isolated blocks consider naming these blocks by extracting them<br>
to helper methods that do just one thing.  Besides making the calling sites read less<br>
like code and more like english, the extracted sites are often easier to flow-analyse for<br>
human eyes.  The classic case is branched variable assignment.  In the extreme, never do<br>
this:</p>
<pre><code>:::java
void calculate(Subject subject) &#123;
  double weight;
  if (useWeightingService(subject)) &#123;
    try &#123;
      weight = weightingService.weight(subject.id);
    &#125; catch (RemoteException e) &#123;
      throw new LayerSpecificException(&quot;Failed to look up weight for &quot; + subject, e)
    &#125;
  &#125; else &#123;
    weight = defaultInitialRate * (1 + onlineLearnedBoost);
  &#125;

  // Use weight here for further calculations
&#125;
</code></pre>
<p>Instead do this:</p>
<pre><code>:::java
void calculate(Subject subject) &#123;
  double weight = calculateWeight(subject);

  // Use weight here for further calculations
&#125;

private double calculateWeight(Subject subject) throws LayerSpecificException &#123;
  if (useWeightingService(subject)) &#123;
    return fetchSubjectWeight(subject.id)
  &#125; else &#123;
    return currentDefaultRate();
  &#125;
&#125;

private double fetchSubjectWeight(long subjectId) &#123;
  try &#123;
    return weightingService.weight(subjectId);
  &#125; catch (RemoteException e) &#123;
    throw new LayerSpecificException(&quot;Failed to look up weight for &quot; + subject, e)
  &#125;
&#125;

private double currentDefaultRate() &#123;
  defaultInitialRate * (1 + onlineLearnedBoost);
&#125;
</code></pre>
<p>A code reader that generally trusts methods do what they say can scan calculate<br>
quickly now and drill down only to those methods where I want to learn more.</p>
<h3 id="dont-repeat-yourself-dry"><a class="markdownIt-Anchor" href="#dont-repeat-yourself-dry">#</a> Don’t Repeat Yourself (<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Don't_repeat_yourself">DRY</a>)</h3>
<p>For a more long-winded discussion on this topic, read<br>
<a target="_blank" rel="noopener" href="http://c2.com/cgi/wiki?DontRepeatYourself">here</a>.</p>
<h4 id="extract-constants-whenever-it-makes-sense"><a class="markdownIt-Anchor" href="#extract-constants-whenever-it-makes-sense">#</a> Extract constants whenever it makes sense</h4>
<h4 id="centralize-duplicate-logic-in-utility-functions"><a class="markdownIt-Anchor" href="#centralize-duplicate-logic-in-utility-functions">#</a> Centralize duplicate logic in utility functions</h4>
<h3 id="manage-threads-properly"><a class="markdownIt-Anchor" href="#manage-threads-properly">#</a> Manage threads properly</h3>
<p>When spawning a thread, either directly or with a thread pool, you need to take special care that<br>
you properly manage the lifecycle.  Please familiarize yourself with the concept<br>
of daemon and non-daemon threads (and their effect on the JVM lifecycle) by reading the<br>
documentation for <a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html">Thread</a>.<br>
Failing to understand these concepts can cause your application to hang at shutdown.</p>
<p>Shutting down an<br>
<a target="_blank" rel="noopener" href="http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html">ExecutorService</a><br>
properly is a slightly tricky process (see javadoc).<br>
If your code manages an executor service with non-daemon threads, you need to follow this procedure.<br>
<a href="%5BExecutorService%5D(http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ExecutorService.html)">ExecutorServiceShutdown</a><br>
very nicely contains this behavior for you.</p>
<p>If you want to automatically perform cleanup like this when the VM is shutting down, consider<br>
registering with<br>
<a target="_blank" rel="noopener" href="https://github.com/twitter/commons/blob/master/src/java/com/twitter/common/application/ShutdownRegistry.java">ShutdownRegistry</a>.</p>
<h3 id="avoid-unnecessary-code"><a class="markdownIt-Anchor" href="#avoid-unnecessary-code">#</a> Avoid unnecessary code</h3>
<h4 id="superfluous-temporary-variables"><a class="markdownIt-Anchor" href="#superfluous-temporary-variables">#</a> Superfluous temporary variables.</h4>
<pre><code>:::java
// Bad.
//   - The variable is immediately returned, and just serves to clutter the code.
List&lt;String&gt; strings = fetchStrings();
return strings;

// Good.
return fetchStrings();
</code></pre>
<h4 id="unneeded-assignment"><a class="markdownIt-Anchor" href="#unneeded-assignment">#</a> Unneeded assignment.</h4>
<pre><code>:::java
// Bad.
//   - The null value is never realized.
String value = null;
try &#123;
  value = &quot;The value is &quot; + parse(foo);
&#125; catch (BadException e) &#123;
  throw new IllegalStateException(e);
&#125;

// Good
String value;
try &#123;
  value = &quot;The value is &quot; + parse(foo);
&#125; catch (BadException e) &#123;
  throw new IllegalStateException(e);
&#125;
</code></pre>
<h3 id="the-fast-implementation"><a class="markdownIt-Anchor" href="#the-fast-implementation">#</a> The ‘fast’ implementation</h3>
<p>Don’t bewilder your API users with a ‘fast’ or ‘optimized’ implementation of a method.</p>
<pre><code>:::java
int fastAdd(Iterable&lt;Integer&gt; ints);

// Why would the caller ever use this when there's a 'fast' add?
int add(Iterable&lt;Integer&gt; ints);
</code></pre>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">Harry Qu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://harryqu1229.github.io/2022/02/26/styleguide/">https://harryqu1229.github.io/2022/02/26/styleguide/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/standard/">standard</a><a class="post-meta__tags" href="/tags/java-style-guide/">java style guide</a></div><div class="post_share"><div class="addthis_inline_share_toolbox"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-621848f44e1c3724" async="async"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/02/26/ssm,ssm%E6%95%B4%E5%90%88,springboot/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/mountain.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">SSM + SpringBoot</div></div></a></div><div class="next-post pull-right"><a href="/2022/02/26/SSM%E6%A1%86%E6%9E%B6%E7%9A%84%E6%95%B4%E5%90%88%E9%A1%B9%E7%9B%AE/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/house.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">SSM combine</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2021/11/23/%E4%BB%A3%E7%A0%81%E5%8F%AF%E8%AF%BB%E6%80%A7/" title="Code readibility"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/cat.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-11-23</div><div class="title">Code readibility</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="comment-switch"><span class="first-comment">Disqus</span><span class="switch-btn"></span><span class="second-comment">Gitalk</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Harry Qu</div><div class="author-info__description">Software Engineering Student</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">158</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">84</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">57</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/HarryQu1229"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://www.linkedin.com/in/harry-qu-a0a38220a" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a><a class="social-icon" href="https://github.com/HarryQu1229" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:Harryqu666@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="weixin://dl/chat?harry666ya" target="_blank" title="Wechat"><i class="fab fa-weixin"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">be healthy, stay safe</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#java-style-guide"><span class="toc-number">1.</span> <span class="toc-text"> Java Style Guide</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#table-of-contents"><span class="toc-number">1.1.</span> <span class="toc-text"> Table of contents</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#recommended-reading"><span class="toc-number">1.2.</span> <span class="toc-text"> Recommended reading</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#coding-style"><span class="toc-number">1.3.</span> <span class="toc-text"> Coding style</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#formatting"><span class="toc-number">1.3.1.</span> <span class="toc-text"> Formatting</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#use-line-breaks-wisely"><span class="toc-number">1.3.1.1.</span> <span class="toc-text"> Use line breaks wisely</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#indent-style"><span class="toc-number">1.3.1.2.</span> <span class="toc-text"> Indent style</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#chained-method-calls"><span class="toc-number">1.3.1.2.1.</span> <span class="toc-text"> Chained method calls</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#no-tabs"><span class="toc-number">1.3.1.3.</span> <span class="toc-text"> No tabs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#100-column-limit"><span class="toc-number">1.3.1.4.</span> <span class="toc-text"> 100 column limit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#camelcase-for-types-camelcase-for-variables-upper_snake-for-constants"><span class="toc-number">1.3.1.5.</span> <span class="toc-text"> CamelCase for types, camelCase for variables, UPPER_SNAKE for constants</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#no-trailing-whitespace"><span class="toc-number">1.3.1.6.</span> <span class="toc-text"> No trailing whitespace</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#field-class-and-method-declarations"><span class="toc-number">1.3.2.</span> <span class="toc-text"> Field, class, and method declarations</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#modifier-order"><span class="toc-number">1.3.2.0.1.</span> <span class="toc-text"> Modifier order</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#variable-naming"><span class="toc-number">1.3.3.</span> <span class="toc-text"> Variable naming</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#extremely-short-variable-names-should-be-reserved-for-instances-like-loop-indices"><span class="toc-number">1.3.3.1.</span> <span class="toc-text"> Extremely short variable names should be reserved for instances like loop indices.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#include-units-in-variable-names"><span class="toc-number">1.3.3.2.</span> <span class="toc-text"> Include units in variable names</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dont-embed-metadata-in-variable-names"><span class="toc-number">1.3.3.3.</span> <span class="toc-text"> Don’t embed metadata in variable names</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#space-pad-operators-and-equals"><span class="toc-number">1.3.4.</span> <span class="toc-text"> Space pad operators and equals.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#be-explicit-about-operator-precedence"><span class="toc-number">1.3.5.</span> <span class="toc-text"> Be explicit about operator precedence</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#documentation"><span class="toc-number">1.3.6.</span> <span class="toc-text"> Documentation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#im-writing-a-report-about"><span class="toc-number">1.3.6.1.</span> <span class="toc-text"> “I’m writing a report about…”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#documenting-a-class"><span class="toc-number">1.3.6.2.</span> <span class="toc-text"> Documenting a class</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#documenting-a-method"><span class="toc-number">1.3.6.3.</span> <span class="toc-text"> Documenting a method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#be-professional"><span class="toc-number">1.3.6.4.</span> <span class="toc-text"> Be professional</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dont-document-overriding-methods-usually"><span class="toc-number">1.3.6.5.</span> <span class="toc-text"> Don’t document overriding methods (usually)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#use-javadoc-features"><span class="toc-number">1.3.6.6.</span> <span class="toc-text"> Use javadoc features</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#no-author-tags"><span class="toc-number">1.3.6.6.1.</span> <span class="toc-text"> No author tags</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#imports"><span class="toc-number">1.3.7.</span> <span class="toc-text"> Imports</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#import-ordering"><span class="toc-number">1.3.7.1.</span> <span class="toc-text"> Import ordering</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#no-wildcard-imports"><span class="toc-number">1.3.7.2.</span> <span class="toc-text"> No wildcard imports</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#use-annotations-wisely"><span class="toc-number">1.3.8.</span> <span class="toc-text"> Use annotations wisely</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#nullable"><span class="toc-number">1.3.8.1.</span> <span class="toc-text"> @Nullable</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#visiblefortesting"><span class="toc-number">1.3.8.2.</span> <span class="toc-text"> @VisibleForTesting</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#use-interfaces"><span class="toc-number">1.3.9.</span> <span class="toc-text"> Use interfaces</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#leverage-or-extend-existing-interfaces"><span class="toc-number">1.3.9.1.</span> <span class="toc-text"> Leverage or extend existing interfaces</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#writing-testable-code"><span class="toc-number">1.4.</span> <span class="toc-text"> Writing testable code</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#fakes-and-mocks"><span class="toc-number">1.4.1.</span> <span class="toc-text"> Fakes and mocks</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#let-your-callers-construct-support-objects"><span class="toc-number">1.4.2.</span> <span class="toc-text"> Let your callers construct support objects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#testing-multithreaded-code"><span class="toc-number">1.4.3.</span> <span class="toc-text"> Testing multithreaded code</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#testing-antipatterns"><span class="toc-number">1.4.4.</span> <span class="toc-text"> Testing antipatterns</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#time-dependence"><span class="toc-number">1.4.4.1.</span> <span class="toc-text"> Time-dependence</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#the-hidden-stress-test"><span class="toc-number">1.4.4.2.</span> <span class="toc-text"> The hidden stress test</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#threadsleep"><span class="toc-number">1.4.4.3.</span> <span class="toc-text"> Thread.sleep()</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#avoid-randomness-in-tests"><span class="toc-number">1.4.5.</span> <span class="toc-text"> Avoid randomness in tests</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#best-practices"><span class="toc-number">1.5.</span> <span class="toc-text"> Best practices</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#defensive-programming"><span class="toc-number">1.5.1.</span> <span class="toc-text"> Defensive programming</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#avoid-assert"><span class="toc-number">1.5.1.1.</span> <span class="toc-text"> Avoid assert</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#preconditions"><span class="toc-number">1.5.1.2.</span> <span class="toc-text"> Preconditions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#minimize-visibility"><span class="toc-number">1.5.1.3.</span> <span class="toc-text"> Minimize visibility</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#favor-immutability"><span class="toc-number">1.5.1.4.</span> <span class="toc-text"> Favor immutability</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#be-wary-of-null"><span class="toc-number">1.5.1.5.</span> <span class="toc-text"> Be wary of null</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#clean-up-with-finally"><span class="toc-number">1.5.1.6.</span> <span class="toc-text"> Clean up with finally</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#clean-code"><span class="toc-number">1.5.2.</span> <span class="toc-text"> Clean code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#disambiguate"><span class="toc-number">1.5.2.1.</span> <span class="toc-text"> Disambiguate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#remove-dead-code"><span class="toc-number">1.5.2.2.</span> <span class="toc-text"> Remove dead code</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#use-general-types"><span class="toc-number">1.5.2.3.</span> <span class="toc-text"> Use general types</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#always-use-type-parameters"><span class="toc-number">1.5.2.4.</span> <span class="toc-text"> Always use type parameters</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stay-out-of-texas"><span class="toc-number">1.5.2.5.</span> <span class="toc-text"> Stay out of Texas</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#avoid-typecasting"><span class="toc-number">1.5.2.6.</span> <span class="toc-text"> Avoid typecasting</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#use-final-fields"><span class="toc-number">1.5.2.7.</span> <span class="toc-text"> Use final fields</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#avoid-mutable-static-state"><span class="toc-number">1.5.2.8.</span> <span class="toc-text"> Avoid mutable static state</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#exceptions"><span class="toc-number">1.5.2.9.</span> <span class="toc-text"> Exceptions</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#catch-narrow-exceptions"><span class="toc-number">1.5.2.9.1.</span> <span class="toc-text"> Catch narrow exceptions</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dont-swallow-exceptions"><span class="toc-number">1.5.2.9.2.</span> <span class="toc-text"> Don’t swallow exceptions</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#when-interrupted-reset-thread-interrupted-state"><span class="toc-number">1.5.2.9.3.</span> <span class="toc-text"> When interrupted, reset thread interrupted state</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#throw-appropriate-exception-types"><span class="toc-number">1.5.2.9.4.</span> <span class="toc-text"> Throw appropriate exception types</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#use-newerbetter-libraries"><span class="toc-number">1.5.3.</span> <span class="toc-text"> Use newer&#x2F;better libraries</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#stringbuilder-over-stringbuffer"><span class="toc-number">1.5.3.1.</span> <span class="toc-text"> StringBuilder over StringBuffer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#scheduledexecutorservice-over-timer"><span class="toc-number">1.5.3.2.</span> <span class="toc-text"> ScheduledExecutorService over Timer</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#list-over-vector"><span class="toc-number">1.5.3.3.</span> <span class="toc-text"> List over Vector</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#equals-and-hashcode"><span class="toc-number">1.5.4.</span> <span class="toc-text"> equals() and hashCode()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#premature-optimization-is-the-root-of-all-evil"><span class="toc-number">1.5.5.</span> <span class="toc-text"> Premature optimization is the root of all evil.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#todos"><span class="toc-number">1.5.6.</span> <span class="toc-text"> TODOs</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#leave-todos-early-and-often"><span class="toc-number">1.5.6.1.</span> <span class="toc-text"> Leave TODOs early and often</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#leave-no-todo-unassigned"><span class="toc-number">1.5.6.2.</span> <span class="toc-text"> Leave no TODO unassigned</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#adopt-todos"><span class="toc-number">1.5.6.3.</span> <span class="toc-text"> Adopt TODOs</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#obey-the-law-of-demeter-lod"><span class="toc-number">1.5.7.</span> <span class="toc-text"> Obey the Law of Demeter (LoD)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#in-classes"><span class="toc-number">1.5.7.1.</span> <span class="toc-text"> In classes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#in-methods"><span class="toc-number">1.5.7.2.</span> <span class="toc-text"> In methods</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dont-repeat-yourself-dry"><span class="toc-number">1.5.8.</span> <span class="toc-text"> Don’t Repeat Yourself (DRY)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#extract-constants-whenever-it-makes-sense"><span class="toc-number">1.5.8.1.</span> <span class="toc-text"> Extract constants whenever it makes sense</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#centralize-duplicate-logic-in-utility-functions"><span class="toc-number">1.5.8.2.</span> <span class="toc-text"> Centralize duplicate logic in utility functions</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#manage-threads-properly"><span class="toc-number">1.5.9.</span> <span class="toc-text"> Manage threads properly</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#avoid-unnecessary-code"><span class="toc-number">1.5.10.</span> <span class="toc-text"> Avoid unnecessary code</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#superfluous-temporary-variables"><span class="toc-number">1.5.10.1.</span> <span class="toc-text"> Superfluous temporary variables.</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#unneeded-assignment"><span class="toc-number">1.5.10.2.</span> <span class="toc-text"> Unneeded assignment.</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#the-fast-implementation"><span class="toc-number">1.5.11.</span> <span class="toc-text"> The ‘fast’ implementation</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-map"><div class="card-content"><div class="item-headline"><i class="fa fa-globe-asia" aria-hidden="true"></i><span>Visitor Map</span></div><script id="clstr_globe" type="text/javascript" defer="defer" src="//clustrmaps.com/globe.js?d=4LA950xi3DtQgUHPlkO0mo-n_QgrcOu-1BIiVpExg7k"></script></div></div><div class="card-widget card-pixiv"><div class="card-content"><div class="item-headline"><i class="fa fa-image" aria-hidden="true"></i><span>Pixiv Top50</span><iframe src="https://cloud.mokeyjay.com/pixiv" frameborder="0" style="width:99%;height:380px;margin:0;"></iframe></div></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/07/28/Maven/" title="My Maven notes"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/hello-world.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="My Maven notes"/></a><div class="content"><a class="title" href="/2022/07/28/Maven/" title="My Maven notes">My Maven notes</a><time datetime="2022-07-27T12:00:00.000Z" title="Created 2022-07-28 00:00:00">2022-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/07/25/nodejs/" title="Nodejs notes"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/town.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Nodejs notes"/></a><div class="content"><a class="title" href="/2022/07/25/nodejs/" title="Nodejs notes">Nodejs notes</a><time datetime="2022-07-24T12:00:00.000Z" title="Created 2022-07-25 00:00:00">2022-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/12/%E7%AE%97%E6%B3%95%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/" title="My ultimate data structure and algorithm guide"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/statue.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="My ultimate data structure and algorithm guide"/></a><div class="content"><a class="title" href="/2022/06/12/%E7%AE%97%E6%B3%95%E7%BB%88%E6%9E%81%E6%8C%87%E5%8D%97/" title="My ultimate data structure and algorithm guide">My ultimate data structure and algorithm guide</a><time datetime="2022-06-11T12:00:00.000Z" title="Created 2022-06-12 00:00:00">2022-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="Design Patterns"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/home.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Design Patterns"/></a><div class="content"><a class="title" href="/2022/06/12/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="Design Patterns">Design Patterns</a><time datetime="2022-06-11T12:00:00.000Z" title="Created 2022-06-12 00:00:00">2022-06-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/" title="Design Patterns - Factory Method"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/default-covers/home.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Design Patterns - Factory Method"/></a><div class="content"><a class="title" href="/2022/06/11/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%20-%20%E5%B7%A5%E5%8E%82%E6%96%B9%E6%B3%95/" title="Design Patterns - Factory Method">Design Patterns - Factory Method</a><time datetime="2022-06-10T12:00:00.000Z" title="Created 2022-06-11 00:00:00">2022-06-11</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2022 By Harry Qu</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Local search</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  Loading the Database</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="/js/search/local-search.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://harryqu1229.github.io/2022/02/26/styleguide/'
    this.page.identifier = '2022/02/26/styleguide/'
    this.page.title = 'Java Style Guide'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://harry-study-blog.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !true) {
  if (true) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk(Object.assign({
      clientID: '5df1e915e0fa867b50de',
      clientSecret: 'ce1cb793fe49078ee9d0102d3326d0d50ff6937b',
      repo: 'blog-comments-storage',
      owner: 'HarryQu1229',
      admin: ['HarryQu1229'],
      id: '78f536802b8e0610f3124163307d8a3e',
      updateCountCallback: commentCount
    },null))

    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Disqus' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[image]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[link]') // replace url
    content = content.replace(/<code>.*?<\/code>/gi, '[code]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    fetch('https://disqus.com/api/3.0/forums/listPosts.json?forum=harry-study-blog&related=thread&limit=6&api_key=B5XFmdGuVaYDW7OIBakffpXoKorvphwRiwONIol4puEtr8YiwYAMAk2K7QcExNLY')
      .then(response => response.json())
      .then(data => {
        const disqusArray = data.response.map(item => {
          return {
            'avatar': item.author.avatar.cache,
            'content': changeContent(item.message),
            'nick': item.author.name,
            'url': item.url,
            'date': item.createdAt
          }
        })

        saveToLocal.set('disqus-newest-comments', JSON.stringify(disqusArray), 10/(60*24))
        generateHtml(disqusArray)
      }).catch(e => {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "Unable to get the data, please make sure the settings are correct."
      })
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <div class='name'><span>${array[i].nick}</span><time> / ${btf.diffDate(array[i].date, true)}</time></div>
        </div></div>`
      }
    } else {
      result += 'No Comment'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('disqus-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><div class="aplayer no-destroy" data-id="2809513713" data-server="netease" data-type="playlist" data-autoplay="false" data-fixed="true" data-order="random" data-theme="#e9ccd3"> </div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="255,255,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>((window.gitter = {}).chat = {}).options = {
  disableDefaultChat: true,
};
document.addEventListener('gitter-sidecar-ready', (e) => {
  const GitterChat = e.detail.Chat
  let chat

  function initGitter () {
    chat = new GitterChat({
      room: 'HarryStudyBlog/community',
      activationElement: '#chat_btn'
    });
  }

  initGitter()

  if (true) {
    document.addEventListener('pjax:complete', () => {
      chat.destroy()
      initGitter()
    })
  }

})</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async="async" defer="defer"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/gh/metowolf/MetingJS@1.2/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="ghbdages" style="overflow:hidden;max-height:90px;height:auto;text-align:center;margin-top:10px"><div class="swiper-wrapper"><div class="swiper-slide"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" title="博客框架为Hexo_v5.4.0"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" title="主题版本Butterfly_v3.8.2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" title="本站项目由Github托管"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a></div><div class="swiper-slide"><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></div></div></div><style>a.github-badge:hover:before {display:none}</style>';
    console.log('已挂载butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'undefined'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script defer src="https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js"></script><script defer data-pjax src="https://npm.elemecdn.com/hexo-butterfly-footer-beautify/lib/swiperbdage_init.min.js"></script><!-- hexo injector body_end end --><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right","width":300,"height":450},"mobile":{"show":false},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>